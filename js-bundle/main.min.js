(function fb(Q,e,C){function M(a,k){if(!e[a]){if(!Q[a]){var g="function"==typeof require&&require;if(!k&&g)return g(a,!0);if(m)return m(a,!0);g=Error("Cannot find module '"+a+"'");throw g.code="MODULE_NOT_FOUND",g;}g=e[a]={o:{}};Q[a][0].call(g.o,function(c){var d=Q[a][1][c];return M(d?d:c)},g,g.o,fb,Q,e,C)}return e[a].o}for(var m="function"==typeof require&&require,q=0;q<C.length;q++)M(C[q]);return M})({1:[function(R,Q){var e={};(function(e,a){function k(){}e.Qa=function(a,c){k.prototype=c.prototype;
a.prototype=new k;a.prototype.constructor=a};e.fy=function(a,c){return function(){c.apply(a,arguments)}};e.uv=function(g){g===a&&(g=0);for(var c=Array(g||0),d=0;d<g;++d)c[d]=0;return c};e.is=function(g,c){return null===g?!1:c instanceof Function&&g instanceof c||g.constructor.So!=a&&g.constructor.So[c]?!0:!1};e.ve=function(a){return Math.abs(parseInt(a))}})(e);var C=Array,M=e.uv;"undefined"===typeof e&&(e={});"undefined"===typeof e.l&&(e.l={});"undefined"===typeof e.l.qa&&(e.l.qa={});"undefined"===
typeof e.J&&(e.J={});"undefined"===typeof e.J.Math&&(e.J.Math={});"undefined"===typeof e.f&&(e.f={});"undefined"===typeof e.f.R&&(e.f.R={});"undefined"===typeof e.f.$a&&(e.f.$a={});"undefined"===typeof e.f.w&&(e.f.w={});(function(){function m(){m.um.apply(this,arguments)}function a(){a.op.apply(this,arguments)}function k(){k.Uj.apply(this,arguments);this.constructor===k&&this.Uj.apply(this,arguments)}function g(){g.mc.apply(this,arguments)}function c(){c.zi.apply(this,arguments);this.constructor===
c&&this.zi.apply(this,arguments)}function d(){d.xm.apply(this,arguments)}function f(){f.ph.apply(this,arguments)}function b(){b.ym.apply(this,arguments)}function l(){l.zm.apply(this,arguments)}function n(){n.Am.apply(this,arguments)}function r(){r.Yj.apply(this,arguments);this.constructor===r&&this.Yj.apply(this,arguments)}function x(){x.Bm.apply(this,arguments)}function p(){p.Ap.apply(this,arguments)}function t(){t.Bp.apply(this,arguments)}function H(){H.Gf.apply(this,arguments);this.constructor===
H&&this.Gf.apply(this,arguments)}function B(){B.gk.apply(this,arguments);this.constructor===B&&this.gk.apply(this,arguments)}function K(){K.Hp.apply(this,arguments)}function D(){D.pk.apply(this,arguments);this.constructor===D&&this.pk.apply(this,arguments)}function L(){L.Lp.apply(this,arguments)}function z(){z.Mp.apply(this,arguments)}function F(){F.Hi.apply(this,arguments)}function u(){u.rk.apply(this,arguments);this.constructor===u&&this.rk.apply(this,arguments)}function N(){N.Cm.apply(this,arguments)}
function J(){J.Np.apply(this,arguments)}function E(){E.pd.apply(this,arguments)}function G(){G.Dm.apply(this,arguments)}function O(){O.rh.apply(this,arguments);this.constructor===O&&this.rh.apply(this,arguments)}function P(){P.ko.apply(this,arguments)}function v(){v.so.apply(this,arguments)}function y(){y.rg.apply(this,arguments);this.constructor===y&&this.rg.apply(this,arguments)}function A(){A.Zj.apply(this,arguments);this.constructor===A&&this.Zj.apply(this,arguments)}function I(){I.$j.apply(this,
arguments);this.constructor===I&&this.$j.apply(this,arguments)}function S(){S.hk.apply(this,arguments)}function W(){W.If.apply(this,arguments);this.constructor===W&&this.If.apply(this,arguments)}function Z(){Z.bb.apply(this,arguments);this.constructor===Z&&this.bb.apply(this,arguments)}function aa(){aa.xi.apply(this,arguments);this.constructor===aa&&this.xi.apply(this,arguments)}function T(){T.Va.apply(this,arguments)}function ba(){ba.Hf.apply(this,arguments);this.constructor===ba&&this.Hf.apply(this,
arguments)}function X(){X.Ei.apply(this,arguments);this.constructor===X&&this.Ei.apply(this,arguments)}function U(){U.$d.apply(this,arguments)}function V(){V.sk.apply(this,arguments)}function Y(){Y.tg.apply(this,arguments);this.constructor===Y&&this.tg.apply(this,arguments)}function ha(){ha.pe.apply(this,arguments);this.constructor===ha&&this.pe.apply(this,arguments)}function ca(){ca.Ii.apply(this,arguments);this.constructor===ca&&this.Ii.apply(this,arguments)}function da(){da.Lc.apply(this,arguments);
this.constructor===da&&this.Lc.apply(this,arguments)}function ea(){ea.wi.apply(this,arguments);this.constructor===ea&&this.wi.apply(this,arguments)}function fa(){fa.vm.apply(this,arguments)}function ga(){ga.vp.apply(this,arguments)}function C(){C.wm.apply(this,arguments)}function M(){M.Ai.apply(this,arguments);this.constructor===M&&this.Ai.apply(this,arguments)}function ia(){ia.od.apply(this,arguments);this.constructor===ia&&this.od.apply(this,arguments)}function La(){La.zp.apply(this,arguments)}
function Ma(){Ma.Dp.apply(this,arguments)}function ja(){ja.Bi.apply(this,arguments);this.constructor===ja&&this.Bi.apply(this,arguments)}function Q(){Q.Ci.apply(this,arguments);this.constructor===Q&&this.Ci.apply(this,arguments)}function R(){R.Di.apply(this,arguments);this.constructor===R&&this.Di.apply(this,arguments)}function Na(){Na.Em.apply(this,arguments)}function ka(){ka.qd.apply(this,arguments);this.constructor===ka&&this.qd.apply(this,arguments)}function Oa(){Oa.qp.apply(this,arguments)}function la(){la.xa.apply(this,
arguments);this.constructor===la&&this.xa.apply(this,arguments)}function ma(){ma.Vj.apply(this,arguments);this.constructor===ma&&this.Vj.apply(this,arguments)}function Pa(){Pa.tp.apply(this,arguments)}function Qa(){Qa.up.apply(this,arguments)}function na(){na.yi.apply(this,arguments);this.constructor===na&&this.yi.apply(this,arguments)}function Ra(){Ra.wp.apply(this,arguments)}function Sa(){Sa.xp.apply(this,arguments)}function oa(){oa.sg.apply(this,arguments);this.constructor===oa&&this.sg.apply(this,
arguments)}function Ta(){Ta.Cp.apply(this,arguments)}function pa(){pa.kk.apply(this,arguments);this.constructor===pa&&this.kk.apply(this,arguments)}function Ua(){Ua.Ip.apply(this,arguments)}function Va(){Va.Jp.apply(this,arguments)}function Wa(){Wa.Kp.apply(this,arguments)}function qa(){qa.qh.apply(this,arguments);this.constructor===qa&&this.qh.apply(this,arguments)}function Xa(){Xa.pp.apply(this,arguments)}function Ya(){Ya.rp.apply(this,arguments)}function Za(){Za.sp.apply(this,arguments)}function $a(){$a.Gb.apply(this,
arguments)}function ab(){ab.yp.apply(this,arguments)}function bb(){bb.Ep.apply(this,arguments)}function cb(){cb.Op.apply(this,arguments)}function ra(){ra.Wj.apply(this,arguments);this.constructor===ra&&this.Wj.apply(this,arguments)}function sa(){sa.Xj.apply(this,arguments);this.constructor===sa&&this.Xj.apply(this,arguments)}function ta(){ta.ak.apply(this,arguments);this.constructor===ta&&this.ak.apply(this,arguments)}function ua(){ua.bk.apply(this,arguments);this.constructor===ua&&this.bk.apply(this,
arguments)}function va(){va.ck.apply(this,arguments);this.constructor===va&&this.ck.apply(this,arguments)}function wa(){wa.dk.apply(this,arguments);this.constructor===wa&&this.dk.apply(this,arguments)}function db(){db.Fp.apply(this,arguments)}function xa(){xa.S.apply(this,arguments);this.constructor===xa&&this.S.apply(this,arguments)}function ya(){ya.ea.apply(this,arguments);this.constructor===ya&&this.ea.apply(this,arguments)}function eb(){eb.Gp.apply(this,arguments)}function za(){za.ek.apply(this,
arguments);this.constructor===za&&this.ek.apply(this,arguments)}function Aa(){Aa.fk.apply(this,arguments);this.constructor===Aa&&this.fk.apply(this,arguments)}function Ba(){Ba.ik.apply(this,arguments);this.constructor===Ba&&this.ik.apply(this,arguments)}function Ca(){Ca.jk.apply(this,arguments);this.constructor===Ca&&this.jk.apply(this,arguments)}function Da(){Da.lk.apply(this,arguments);this.constructor===Da&&this.lk.apply(this,arguments)}function Ea(){Ea.mk.apply(this,arguments);this.constructor===
Ea&&this.mk.apply(this,arguments)}function Fa(){Fa.Fi.apply(this,arguments);this.constructor===Fa&&this.Fi.apply(this,arguments)}function Ga(){Ga.nk.apply(this,arguments);this.constructor===Ga&&this.nk.apply(this,arguments)}function Ha(){Ha.Gi.apply(this,arguments);this.constructor===Ha&&this.Gi.apply(this,arguments)}function Ia(){Ia.qk.apply(this,arguments);this.constructor===Ia&&this.qk.apply(this,arguments)}function Ja(){Ja.tk.apply(this,arguments);this.constructor===Ja&&this.tk.apply(this,arguments)}
function Ka(){Ka.uk.apply(this,arguments);this.constructor===Ka&&this.uk.apply(this,arguments)}e.l.nv="Box2D.Collision.IBroadPhase";e.l.um=m;e.l.op=a;e.l.Uj=k;e.l.mc=g;e.l.zi=c;e.l.xm=d;e.l.ph=f;e.l.ym=b;e.l.zm=l;e.l.Am=n;e.l.Yj=r;e.l.Bm=x;e.l.Ap=p;e.l.Bp=t;e.l.Gf=H;e.l.gk=B;e.l.Hp=K;e.l.pk=D;e.l.Lp=L;e.l.Mp=z;e.l.Hi=F;e.l.rk=u;e.l.Cm=N;e.l.Np=J;e.l.pd=E;e.l.Dm=G;e.l.rh=O;e.l.ko=P;e.l.so=v;e.l.qa.rg=y;e.l.qa.Zj=A;e.l.qa.$j=I;e.l.qa.hk=S;e.l.qa.If=W;e.l.qa.bb=Z;e.J.QC="Box2D.Common.b2internal";e.J.xi=
aa;e.J.Va=T;e.J.Math.Hf=ba;e.J.Math.Ei=X;e.J.Math.$d=U;e.J.Math.sk=V;e.J.Math.tg=Y;e.J.Math.pe=ha;e.J.Math.Ii=ca;e.f.Lc=da;e.f.wi=ea;e.f.vm=fa;e.f.vp=ga;e.f.wm=C;e.f.Ai=M;e.f.od=ia;e.f.zp=La;e.f.Dp=Ma;e.f.Bi=ja;e.f.Ci=Q;e.f.Di=R;e.f.Em=Na;e.f.qd=ka;e.f.R.qp=Oa;e.f.R.xa=la;e.f.R.Vj=ma;e.f.R.tp=Pa;e.f.R.up=Qa;e.f.R.yi=na;e.f.R.wp=Ra;e.f.R.xp=Sa;e.f.R.sg=oa;e.f.R.Cp=Ta;e.f.R.kk=pa;e.f.R.Ip=Ua;e.f.R.Jp=Va;e.f.R.Kp=Wa;e.f.R.qh=qa;e.f.$a.pp=Xa;e.f.$a.rp=Ya;e.f.$a.sp=Za;e.f.$a.Gb=$a;e.f.$a.yp=ab;e.f.$a.Ep=
bb;e.f.$a.Op=cb;e.f.w.Wj=ra;e.f.w.Xj=sa;e.f.w.ak=ta;e.f.w.bk=ua;e.f.w.ck=va;e.f.w.dk=wa;e.f.w.Fp=db;e.f.w.S=xa;e.f.w.ea=ya;e.f.w.Gp=eb;e.f.w.ek=za;e.f.w.fk=Aa;e.f.w.ik=Ba;e.f.w.jk=Ca;e.f.w.lk=Da;e.f.w.mk=Ea;e.f.w.Fi=Fa;e.f.w.nk=Ga;e.f.w.Gi=Ha;e.f.w.qk=Ia;e.f.w.tk=Ja;e.f.w.uk=Ka})();e.Ab=[];(function(){var m=e.l.qa.rg,a=e.l.qa.If,k=e.l.qa.bb,g=e.J.Va,c=e.J.Math.$d,d=e.J.Math.sk,f=e.J.Math.tg,b=e.J.Math.pe,l=e.l.um,n=e.l.op,r=e.l.Uj,x=e.l.mc,p=e.l.zi,t=e.l.xm,H=e.l.ph,B=e.l.ym,K=e.l.zm,D=e.l.Am,L=e.l.Yj,
z=e.l.Bm,F=e.l.Ap,u=e.l.Bp,N=e.l.Gf,J=e.l.gk,E=e.l.Hp,G=e.l.pk,O=e.l.Lp,P=e.l.Mp,v=e.l.Hi,y=e.l.rk,A=e.l.Cm,I=e.l.Np,S=e.l.pd,W=e.l.Dm,Z=e.l.rh,aa=e.l.ko,T=e.l.so,ba=e.l.nv;l.um=function(){this.lowerBound=new b;this.upperBound=new b};l.prototype.fi=function(){var b=this.upperBound.y-this.lowerBound.y;return 0<=this.upperBound.x-this.lowerBound.x&&0<=b&&this.lowerBound.fi()&&this.upperBound.fi()};l.prototype.jv=function(){return new b((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/
2)};l.prototype.lo=function(b){return this.lowerBound.x<=b.lowerBound.x&&this.lowerBound.y<=b.lowerBound.y&&b.upperBound.x<=this.upperBound.x&&b.upperBound.y<=this.upperBound.y};l.prototype.kg=function(b){var c=b.lowerBound.y-this.upperBound.y,a=this.lowerBound.y-b.upperBound.y;return 0<b.lowerBound.x-this.upperBound.x||0<c||0<this.lowerBound.x-b.upperBound.x||0<a?!1:!0};l.bi=function(b,c){var a=new l;a.bi(b,c);return a};l.prototype.bi=function(b,c){this.lowerBound.x=Math.min(b.lowerBound.x,c.lowerBound.x);
this.lowerBound.y=Math.min(b.lowerBound.y,c.lowerBound.y);this.upperBound.x=Math.max(b.upperBound.x,c.upperBound.x);this.upperBound.y=Math.max(b.upperBound.y,c.upperBound.y)};n.op=function(){};n.prototype.Pv=function(b){var c=this.value,a=this.Yq,d=this.jr;this.value=b.value;this.Yq=b.Yq;this.jr=b.jr;b.value=c;b.Yq=a;b.jr=d};r.Uj=function(){};r.prototype.Uj=function(){this.Ot=new M;this.Ot[0]=0;this.Ot[1]=0;this.Ou=new M;this.Ou[0]=0;this.Ou[1]=0};x.mc=function(){};x.Ar=function(b,c,a,d){void 0===
d&&(d=0);var l,f=0;l=c[0];var v=l.ke;l=c[1];var g=l.ke,A=a.x*v.x+a.y*v.y-d;l=a.x*g.x+a.y*g.y-d;0>=A&&b[f++].Set(c[0]);0>=l&&b[f++].Set(c[1]);0>A*l&&(a=A/(A-l),l=b[f],l=l.ke,l.x=v.x+a*(g.x-v.x),l.y=v.y+a*(g.y-v.y),l=b[f],l.id=(0<A?c[0]:c[1]).id,++f);return f};x.Jl=function(b,c,a,d,l){void 0===a&&(a=0);parseInt(b.Ua);var f=b.L;b=b.tb;var v=parseInt(d.Ua),g=d.L,A,y;A=c.s;y=b[a];b=A.b.x*y.x+A.c.x*y.y;d=A.b.y*y.x+A.c.y*y.y;A=l.s;var n=A.b.x*b+A.b.y*d;A=A.c.x*b+A.c.y*d;for(var r=0,I=Number.MAX_VALUE,k=
0;k<v;++k)y=g[k],y=y.x*n+y.y*A,y<I&&(I=y,r=k);y=f[a];A=c.s;a=c.position.x+(A.b.x*y.x+A.c.x*y.y);c=c.position.y+(A.b.y*y.x+A.c.y*y.y);y=g[r];A=l.s;f=l.position.x+(A.b.x*y.x+A.c.x*y.y);l=l.position.y+(A.b.y*y.x+A.c.y*y.y);return(f-a)*b+(l-c)*d};x.Er=function(b,c,a,d,l){var f=parseInt(c.Ua),v=c.tb,g,A;A=l.s;g=d.Of;var y=l.position.x+(A.b.x*g.x+A.c.x*g.y),n=l.position.y+(A.b.y*g.x+A.c.y*g.y);A=a.s;g=c.Of;y-=a.position.x+(A.b.x*g.x+A.c.x*g.y);n-=a.position.y+(A.b.y*g.x+A.c.y*g.y);A=y*a.s.b.x+n*a.s.b.y;
for(var n=y*a.s.c.x+n*a.s.c.y,y=0,r=-Number.MAX_VALUE,k=0;k<f;++k)g=v[k],g=g.x*A+g.y*n,g>r&&(r=g,y=k);v=x.Jl(c,a,y,d,l);g=parseInt(0<=y-1?y-1:f-1);A=x.Jl(c,a,g,d,l);var n=parseInt(y+1<f?y+1:0),r=x.Jl(c,a,n,d,l),I=0,p=0;if(A>v&&A>r)p=-1,k=g,I=A;else if(r>v)p=1,k=n,I=r;else return b[0]=y,v;for(;;)if(y=-1==p?0<=k-1?k-1:f-1:k+1<f?k+1:0,v=x.Jl(c,a,y,d,l),v>I)k=y,I=v;else break;b[0]=k;return I};x.iv=function(b,c,a,d,l,f){void 0===d&&(d=0);parseInt(c.Ua);var v=c.tb,g=parseInt(l.Ua);c=l.L;l=l.tb;var A;A=
a.s;a=v[d];var v=A.b.x*a.x+A.c.x*a.y,y=A.b.y*a.x+A.c.y*a.y;A=f.s;a=A.b.x*v+A.b.y*y;y=A.c.x*v+A.c.y*y;v=a;A=0;for(var n=Number.MAX_VALUE,r=0;r<g;++r)a=l[r],a=v*a.x+y*a.y,a<n&&(n=a,A=r);l=parseInt(A);v=parseInt(l+1<g?l+1:0);g=b[0];a=c[l];A=f.s;g.ke.x=f.position.x+(A.b.x*a.x+A.c.x*a.y);g.ke.y=f.position.y+(A.b.y*a.x+A.c.y*a.y);g.id.qe.Tz=d;g.id.qe.my=l;g.id.qe.ny=0;g=b[1];a=c[v];A=f.s;g.ke.x=f.position.x+(A.b.x*a.x+A.c.x*a.y);g.ke.y=f.position.y+(A.b.y*a.x+A.c.y*a.y);g.id.qe.Tz=d;g.id.qe.my=v;g.id.qe.ny=
1};x.Fo=function(){var b=new C(2);b[0]=new aa;b[1]=new aa;return b};x.bv=function(b,c,a,d,l){var f;b.Cb=0;var v=c.va+d.va;x.er[0]=0;var A=x.Er(x.er,c,a,d,l);f=x.er[0];if(!(A>v)){var y;x.fr[0]=0;var n=x.Er(x.fr,d,l,c,a);y=x.fr[0];if(!(n>v)){var r=0,k=0;n>.98*A+.001?(A=d,d=c,c=l,r=y,b.Ba=N.zh,k=1):(A=c,c=a,a=l,r=f,b.Ba=N.Me,k=0);f=x.fA;x.iv(f,A,c,r,d,a);y=parseInt(A.Ua);l=A.L;var A=l[r],I;I=r+1<y?l[parseInt(r+1)]:l[0];r=x.hA;r.Set(I.x-A.x,I.y-A.y);r.fd();l=x.gA;l.x=r.y;l.y=-r.x;d=x.jA;d.Set(.5*(A.x+
I.x),.5*(A.y+I.y));n=x.pA;y=c.s;n.x=y.b.x*r.x+y.c.x*r.y;n.y=y.b.y*r.x+y.c.y*r.y;var p=x.qA;p.x=-n.x;p.y=-n.y;r=x.iA;r.x=n.y;r.y=-n.x;var t=x.tA,e=x.uA;t.x=c.position.x+(y.b.x*A.x+y.c.x*A.y);t.y=c.position.y+(y.b.y*A.x+y.c.y*A.y);e.x=c.position.x+(y.b.x*I.x+y.c.x*I.y);e.y=c.position.y+(y.b.y*I.x+y.c.y*I.y);c=r.x*t.x+r.y*t.y;y=n.x*e.x+n.y*e.y+v;I=x.dA;A=x.eA;e=x.Ar(I,f,p,-n.x*t.x-n.y*t.y+v);if(!(2>e||(e=x.Ar(A,I,n,y),2>e))){b.sc.A(l);b.Aa.A(d);for(d=l=0;d<g.Kd;++d)f=A[d],r.x*f.ke.x+r.y*f.ke.y-c<=v&&
(n=b.ua[l],y=a.s,p=f.ke.x-a.position.x,t=f.ke.y-a.position.y,n.Aa.x=p*y.b.x+t*y.b.y,n.Aa.y=p*y.c.x+t*y.c.y,n.Rf.Set(f.id),n.Rf.qe.yD=k,++l);b.Cb=l}}}};x.$u=function(b,c,a,d,l){b.Cb=0;var f,v;f=a.s;v=c.tc;var g=a.position.x+(f.b.x*v.x+f.c.x*v.y);a=a.position.y+(f.b.y*v.x+f.c.y*v.y);f=l.s;v=d.tc;g=l.position.x+(f.b.x*v.x+f.c.x*v.y)-g;l=l.position.y+(f.b.y*v.x+f.c.y*v.y)-a;f=c.va+d.va;g*g+l*l>f*f||(b.Ba=N.bq,b.Aa.A(c.tc),b.sc.ma(),b.Cb=1,b.ua[0].Aa.A(d.tc),b.ua[0].Rf.key=0)};x.av=function(b,c,a,l,d){var f=
b.Cb=0,v=0,g,A;A=d.s;g=l.tc;var y=d.position.y+(A.b.y*g.x+A.c.y*g.y),f=d.position.x+(A.b.x*g.x+A.c.x*g.y)-a.position.x,v=y-a.position.y;A=a.s;a=f*A.b.x+v*A.b.y;A=f*A.c.x+v*A.c.y;var n=0,y=-Number.MAX_VALUE;d=c.va+l.va;var r=parseInt(c.Ua),I=c.L;c=c.tb;for(var k=0;k<r;++k){g=I[k];f=a-g.x;v=A-g.y;g=c[k];f=g.x*f+g.y*v;if(f>d)return;f>y&&(y=f,n=k)}f=parseInt(n);v=parseInt(f+1<r?f+1:0);g=I[f];I=I[v];if(y<Number.MIN_VALUE)b.Cb=1,b.Ba=N.Me,b.sc.A(c[n]),b.Aa.x=.5*(g.x+I.x),b.Aa.y=.5*(g.y+I.y);else if(y=(a-
I.x)*(g.x-I.x)+(A-I.y)*(g.y-I.y),0>=(a-g.x)*(I.x-g.x)+(A-g.y)*(I.y-g.y)){if((a-g.x)*(a-g.x)+(A-g.y)*(A-g.y)>d*d)return;b.Cb=1;b.Ba=N.Me;b.sc.x=a-g.x;b.sc.y=A-g.y;b.sc.fd();b.Aa.A(g)}else if(0>=y){if((a-I.x)*(a-I.x)+(A-I.y)*(A-I.y)>d*d)return;b.Cb=1;b.Ba=N.Me;b.sc.x=a-I.x;b.sc.y=A-I.y;b.sc.fd();b.Aa.A(I)}else{n=.5*(g.x+I.x);g=.5*(g.y+I.y);y=(a-n)*c[f].x+(A-g)*c[f].y;if(y>d)return;b.Cb=1;b.Ba=N.Me;b.sc.x=c[f].x;b.sc.y=c[f].y;b.sc.fd();b.Aa.Set(n,g)}b.ua[0].Aa.A(l.tc);b.ua[0].Rf.key=0};x.kg=function(b,
c){var a=c.lowerBound,d=b.upperBound,l=a.x-d.x,f=a.y-d.y,a=b.lowerBound,d=c.upperBound,g=a.y-d.y;return 0<l||0<f||0<a.x-d.x||0<g?!1:!0};e.Ab.push(function(){e.l.mc.fA=x.Fo();e.l.mc.dA=x.Fo();e.l.mc.eA=x.Fo();e.l.mc.er=new M(1);e.l.mc.fr=new M(1);e.l.mc.hA=new b;e.l.mc.gA=new b;e.l.mc.jA=new b;e.l.mc.iA=new b;e.l.mc.pA=new b;e.l.mc.qA=new b;e.l.mc.tA=new b;e.l.mc.uA=new b;e.l.mc.KC=new b;e.l.mc.OC=255});p.zi=function(){this.qe=new T};p.prototype.zi=function(){this.qe.mg=this};p.prototype.Set=function(b){this.key=
b.Id};p.prototype.vc=function(){var b=new p;b.key=this.key;return b};Object.defineProperty(p.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this.Id}});Object.defineProperty(p.prototype,"key",{enumerable:!1,configurable:!0,set:function(b){void 0===b&&(b=0);this.Id=b;this.qe.ip=this.Id&255;this.qe.bp=(this.Id&65280)>>8&255;this.qe.cp=(this.Id&16711680)>>16&255;this.qe.ap=(this.Id&4278190080)>>24&255}});t.xm=function(){this.position=new b;this.dd=new b;this.je=new b;this.id=new p};
H.ph=function(){};H.qo=function(a,d,l){++H.MC;var f=l.yf,v=l.zf,A=l.Iu,y=l.Ju,n=H.nA;n.yv(d,f,A,v,y);var r=n.L,I=H.lA,k=H.mA,x=0;n.Hr();for(var p=0,t,e=0;20>e;){x=n.Xa;for(p=0;p<x;p++)I[p]=r[p].cc,k[p]=r[p].dc;switch(n.Xa){case 1:break;case 2:n.Nv();break;case 3:n.Ov();break;default:g.lb(!1)}if(3==n.Xa)break;n.Hr();p=n.kv();if(p.Sl()<Number.MIN_VALUE*Number.MIN_VALUE)break;t=r[n.Xa];t.cc=f.xo(c.ig(A.s,p.hg()));t.Ec=c.Qb(A,f.xc(t.cc));t.dc=v.xo(c.ig(y.s,p));t.ze=c.Qb(y,v.xc(t.dc));t.ka=c.ub(t.ze,t.Ec);
++e;++H.NC;for(var W=!1,p=0;p<x;p++)if(t.cc==I[p]&&t.dc==k[p]){W=!0;break}if(W)break;++n.Xa}H.fx=c.Hc(H.fx,e);n.lv(a.Ve,a.We);a.wg=c.ub(a.Ve,a.We).Cf();a.OD=e;n.Vv(d);l.Pu&&(d=f.va,v=v.va,a.wg>d+v&&a.wg>Number.MIN_VALUE?(a.wg-=d+v,l=c.ub(a.We,a.Ve),l.fd(),a.Ve.x+=d*l.x,a.Ve.y+=d*l.y,a.We.x-=v*l.x,a.We.y-=v*l.y):(t=new b,t.x=.5*(a.Ve.x+a.We.x),t.y=.5*(a.Ve.y+a.We.y),a.Ve.x=a.We.x=t.x,a.Ve.y=a.We.y=t.y,a.wg=0))};e.Ab.push(function(){e.l.ph.nA=new y;e.l.ph.lA=new M(3);e.l.ph.mA=new M(3)});B.ym=function(){};
K.zm=function(){this.Ve=new b;this.We=new b};D.Am=function(){};D.prototype.Set=function(b){switch(b.Pa()){case k.yh:b=b instanceof m?b:null;this.L=new C(1,!0);this.L[0]=b.tc;this.Xa=1;this.va=b.va;break;case k.Bg:b=b instanceof a?b:null;this.L=b.L;this.Xa=b.Ua;this.va=b.va;break;default:g.lb(!1)}};D.prototype.xo=function(b){for(var c=0,a=this.L[0].x*b.x+this.L[0].y*b.y,d=1;d<this.Xa;++d){var l=this.L[d].x*b.x+this.L[d].y*b.y;l>a&&(c=d,a=l)}return c};D.prototype.Gj=function(b){for(var c=0,a=this.L[0].x*
b.x+this.L[0].y*b.y,d=1;d<this.Xa;++d){var l=this.L[d].x*b.x+this.L[d].y*b.y;l>a&&(c=d,a=l)}return this.L[c]};D.prototype.xc=function(b){void 0===b&&(b=0);g.lb(0<=b&&b<this.Xa);return this.L[b]};L.Yj=function(){};L.prototype.Yj=function(){this.Rk=this.tf=null};L.prototype.Bj=function(b,c){var a=this.xr(),d=g.Fm,l=g.Fm;a.Ja.lowerBound.x=b.lowerBound.x-d;a.Ja.lowerBound.y=b.lowerBound.y-l;a.Ja.upperBound.x=b.upperBound.x+d;a.Ja.upperBound.y=b.upperBound.y+l;a.Zg=c;this.Mr(a);return a};L.prototype.Go=
function(b,c,a){g.lb(b.Ql());if(b.Ja.lo(c))return!1;this.Av(b);var d=g.Fm+g.Ps*(0<a.x?a.x:-a.x);a=g.Fm+g.Ps*(0<a.y?a.y:-a.y);b.Ja.lowerBound.x=c.lowerBound.x-d;b.Ja.lowerBound.y=c.lowerBound.y-a;b.Ja.upperBound.x=c.upperBound.x+d;b.Ja.upperBound.y=c.upperBound.y+a;this.Mr(b);return!0};L.prototype.Ej=function(b){return b.Ja};L.prototype.Wd=function(b){return b.Zg};L.prototype.Io=function(b,c){if(null!=this.tf){var a=new C,d=0;for(a[d++]=this.tf;0<d;){var l=a[--d];if(l.Ja.kg(c))if(l.Ql()){if(!b(l))break}else a[d++]=
l.be,a[d++]=l.Jf}}};L.prototype.xr=function(){if(this.Rk){var b=this.Rk;this.Rk=b.parent;b.parent=null;b.be=null;b.Jf=null;return b}return new F};L.prototype.Fr=function(b){b.parent=this.Rk;this.Rk=b};L.prototype.Mr=function(b){if(null==this.tf)this.tf=b,this.tf.parent=null;else{var c=b.Ja.jv(),a=this.tf;if(0==a.Ql()){do var d=a.be,a=a.Jf,a=Math.abs((d.Ja.lowerBound.x+d.Ja.upperBound.x)/2-c.x)+Math.abs((d.Ja.lowerBound.y+d.Ja.upperBound.y)/2-c.y)<Math.abs((a.Ja.lowerBound.x+a.Ja.upperBound.x)/2-c.x)+
Math.abs((a.Ja.lowerBound.y+a.Ja.upperBound.y)/2-c.y)?d:a;while(0==a.Ql())}c=a.parent;d=this.xr();d.parent=c;d.Zg=null;d.Ja.bi(b.Ja,a.Ja);if(c){a.parent.be==a?c.be=d:c.Jf=d;d.be=a;d.Jf=b;a.parent=d;b.parent=d;do{if(c.Ja.lo(d.Ja))break;c.Ja.bi(c.be.Ja,c.Jf.Ja);d=c;c=c.parent}while(c)}else d.be=a,d.Jf=b,a.parent=d,this.tf=b.parent=d}};L.prototype.Av=function(b){if(b==this.tf)this.tf=null;else{var c=b.parent,a=c.parent;b=c.be==b?c.Jf:c.be;if(a)for(a.be==c?a.be=b:a.Jf=b,b.parent=a,this.Fr(c);a;){c=a.Ja;
a.Ja=l.bi(a.be.Ja,a.Jf.Ja);if(c.lo(a.Ja))break;a=a.parent}else this.tf=b,b.parent=null,this.Fr(c)}};z.Bm=function(){this.Te=new L;this.Wk=new C;this.Xk=new C;this.Oh=0};z.prototype.Bj=function(b,c){var a=this.Te.Bj(b,c);this.yr(a);return a};z.prototype.Go=function(b,c,a){this.Te.Go(b,c,a)&&this.yr(b)};z.prototype.kg=function(b,c){return this.Te.Ej(b).kg(this.Te.Ej(c))};z.prototype.Wd=function(b){return this.Te.Wd(b)};z.prototype.Ej=function(b){return this.Te.Ej(b)};z.prototype.Uv=function(b){for(var c=
this,a=c.Oh=0,d,a=0;a<c.Wk.length;++a){d=c.Wk[a];var l=c.Te.Ej(d);c.Te.Io(function(b){if(b==d)return!0;c.Oh==c.Xk.length&&(c.Xk[c.Oh]=new u);var a=c.Xk[c.Oh];a.yf=b<d?b:d;a.zf=b>=d?b:d;++c.Oh;return!0},l)}for(a=c.Wk.length=0;a<c.Oh;){var l=c.Xk[a],f=c.Te.Wd(l.yf);b(f,c.Te.Wd(l.zf));for(++a;a<c.Oh;){f=c.Xk[a];if(f.yf!=l.yf||f.zf!=l.zf)break;++a}}};z.prototype.Io=function(b,c){this.Te.Io(b,c)};z.prototype.yr=function(b){this.Wk[this.Wk.length]=b};z.So={};z.So[ba]=!0;F.Ap=function(){this.Ja=new l};F.prototype.Ql=
function(){return null==this.be};u.Bp=function(){};N.Gf=function(){this.Cb=0};N.prototype.Gf=function(){this.ua=new C(g.Kd);for(var c=0;c<g.Kd;c++)this.ua[c]=new J;this.sc=new b;this.Aa=new b};N.prototype.Ic=function(){for(var b=0;b<g.Kd;b++)(this.ua[b]instanceof J?this.ua[b]:null).Ic();this.sc.ma();this.Aa.ma();this.Cb=this.Ba=0};N.prototype.Set=function(b){this.Cb=b.Cb;for(var c=0;c<g.Kd;c++)(this.ua[c]instanceof J?this.ua[c]:null).Set(b.ua[c]);this.sc.A(b.sc);this.Aa.A(b.Aa);this.Ba=b.Ba};N.prototype.vc=
function(){var b=new N;b.Set(this);return b};e.Ab.push(function(){e.l.Gf.bq=1;e.l.Gf.Me=2;e.l.Gf.zh=4});J.gk=function(){this.Aa=new b;this.Rf=new p};J.prototype.gk=function(){this.Ic()};J.prototype.Ic=function(){this.Aa.ma();this.Sh=this.Nh=0;this.Rf.key=0};J.prototype.Set=function(b){this.Aa.A(b.Aa);this.Nh=b.Nh;this.Sh=b.Sh;this.Rf.Set(b.Rf)};E.Hp=function(){this.p=new b};G.pk=function(){this.gu=new b;this.hu=new b};G.prototype.pk=function(b,c){void 0===b&&(b=null);void 0===c&&(c=null);b&&this.gu.A(b);
c&&this.hu.A(c)};O.Lp=function(){this.je=new b};P.Mp=function(){this.gu=new b;this.hu=new b};v.Hi=function(){this.Aa=new b;this.K=new b};v.prototype.Zb=function(a,d,l,f,A){this.Kg=d;this.Lg=f;var y=parseInt(a.count);g.lb(0<y&&3>y);var n,r,I,k,p=0,x=0;1==y?(this.Ba=v.wt,n=this.Kg.xc(a.cc[0]),r=this.Lg.xc(a.dc[0]),y=n,a=l.s,d=l.position.x+(a.b.x*y.x+a.c.x*y.y),f=l.position.y+(a.b.y*y.x+a.c.y*y.y),y=r,a=A.s,I=A.position.x+(a.b.x*y.x+a.c.x*y.y),k=A.position.y+(a.b.y*y.x+a.c.y*y.y),this.K.x=I-d,this.K.y=
k-f,this.K.fd()):(a.dc[0]==a.dc[1]?(this.Ba=v.Me,d=this.Kg.xc(a.cc[0]),f=this.Kg.xc(a.cc[1]),r=this.Lg.xc(a.dc[0]),this.Aa.x=.5*(d.x+f.x),this.Aa.y=.5*(d.y+f.y),this.K=c.gg(c.ub(f,d),1),this.K.fd(),y=this.K,a=l.s,p=a.b.x*y.x+a.c.x*y.y,x=a.b.y*y.x+a.c.y*y.y,y=this.Aa,a=l.s,d=l.position.x+(a.b.x*y.x+a.c.x*y.y),f=l.position.y+(a.b.y*y.x+a.c.y*y.y),y=r,a=A.s,I=A.position.x+(a.b.x*y.x+a.c.x*y.y),k=A.position.y+(a.b.y*y.x+a.c.y*y.y),p=(I-d)*p+(k-f)*x):a.cc[0]==a.cc[0]?(this.Ba=v.zh,I=this.Lg.xc(a.dc[0]),
k=this.Lg.xc(a.dc[1]),n=this.Kg.xc(a.cc[0]),this.Aa.x=.5*(I.x+k.x),this.Aa.y=.5*(I.y+k.y),this.K=c.gg(c.ub(k,I),1),this.K.fd(),y=this.K,a=A.s,p=a.b.x*y.x+a.c.x*y.y,x=a.b.y*y.x+a.c.y*y.y,y=this.Aa,a=A.s,I=A.position.x+(a.b.x*y.x+a.c.x*y.y),k=A.position.y+(a.b.y*y.x+a.c.y*y.y),y=n,a=l.s,d=l.position.x+(a.b.x*y.x+a.c.x*y.y),f=l.position.y+(a.b.y*y.x+a.c.y*y.y),p=(d-I)*p+(f-k)*x):(d=this.Kg.xc(a.cc[0]),f=this.Kg.xc(a.cc[1]),I=this.Lg.xc(a.dc[0]),k=this.Lg.xc(a.dc[1]),c.Qb(l,n),n=c.kc(l.s,c.ub(f,d)),c.Qb(A,
r),p=c.kc(A.s,c.ub(k,I)),A=n.x*n.x+n.y*n.y,r=p.x*p.x+p.y*p.y,a=c.ub(p,n),l=n.x*a.x+n.y*a.y,a=p.x*a.x+p.y*a.y,n=n.x*p.x+n.y*p.y,x=A*r-n*n,p=0,0!=x&&(p=c.Oa((n*a-l*r)/x,0,1)),0>(n*p+a)/r&&(p=c.Oa((n-l)/A,0,1)),n=new b,n.x=d.x+p*(f.x-d.x),n.y=d.y+p*(f.y-d.y),r=new b,r.x=I.x+p*(k.x-I.x),r.y=I.y+p*(k.y-I.y),0==p||1==p?(this.Ba=v.zh,this.K=c.gg(c.ub(k,I),1),this.K.fd(),this.Aa=r):(this.Ba=v.Me,this.K=c.gg(c.ub(f,d),1),this.Aa=n)),0>p&&this.K.Qr())};v.prototype.De=function(b,a){var d,l,f=0;switch(this.Ba){case v.wt:return d=
c.ig(b.s,this.K),l=c.ig(a.s,this.K.hg()),d=this.Kg.Gj(d),l=this.Lg.Gj(l),d=c.Qb(b,d),l=c.Qb(a,l),(l.x-d.x)*this.K.x+(l.y-d.y)*this.K.y;case v.Me:return f=c.kc(b.s,this.K),d=c.Qb(b,this.Aa),l=c.ig(a.s,f.hg()),l=this.Lg.Gj(l),l=c.Qb(a,l),(l.x-d.x)*f.x+(l.y-d.y)*f.y;case v.zh:return f=c.kc(a.s,this.K),l=c.Qb(a,this.Aa),d=c.ig(b.s,f.hg()),d=this.Kg.Gj(d),d=c.Qb(b,d),(d.x-l.x)*f.x+(d.y-l.y)*f.y;default:return g.lb(!1),0}};e.Ab.push(function(){e.l.Hi.wt=1;e.l.Hi.Me=2;e.l.Hi.zh=4});y.rk=function(){this.ha=
new I;this.pa=new I;this.Qd=new I;this.L=new C(3)};y.prototype.rk=function(){this.L[0]=this.ha;this.L[1]=this.pa;this.L[2]=this.Qd};y.prototype.yv=function(b,a,d,l,f){g.lb(0<=b.count&&3>=b.count);var v,A;this.Xa=b.count;for(var y=this.L,n=0;n<this.Xa;n++){var r=y[n];r.cc=b.cc[n];r.dc=b.dc[n];v=a.xc(r.cc);A=l.xc(r.dc);r.Ec=c.Qb(d,v);r.ze=c.Qb(f,A);r.ka=c.ub(r.ze,r.Ec);r.j=0}1<this.Xa&&(b=b.mz,v=this.Kr(),v<.5*b||2*b<v||v<Number.MIN_VALUE)&&(this.Xa=0);0==this.Xa&&(r=y[0],r.cc=0,r.dc=0,v=a.xc(0),A=
l.xc(0),r.Ec=c.Qb(d,v),r.ze=c.Qb(f,A),r.ka=c.ub(r.ze,r.Ec),this.Xa=1)};y.prototype.Vv=function(b){b.mz=this.Kr();b.count=e.ve(this.Xa);for(var c=this.L,a=0;a<this.Xa;a++)b.cc[a]=e.ve(c[a].cc),b.dc[a]=e.ve(c[a].dc)};y.prototype.kv=function(){switch(this.Xa){case 1:return this.ha.ka.hg();case 2:var a=c.ub(this.pa.ka,this.ha.ka);return 0<c.di(a,this.ha.ka.hg())?c.Cr(1,a):c.gg(a,1);default:return g.lb(!1),new b}};y.prototype.Hr=function(){switch(this.Xa){case 0:g.lb(!1);new b;break;case 1:break;case 2:new b(this.ha.j*
this.ha.ka.x+this.pa.j*this.pa.ka.x,this.ha.j*this.ha.ka.y+this.pa.j*this.pa.ka.y);break;default:g.lb(!1),new b}};y.prototype.lv=function(b,c){switch(this.Xa){case 0:g.lb(!1);break;case 1:b.A(this.ha.Ec);c.A(this.ha.ze);break;case 2:b.x=this.ha.j*this.ha.Ec.x+this.pa.j*this.pa.Ec.x;b.y=this.ha.j*this.ha.Ec.y+this.pa.j*this.pa.Ec.y;c.x=this.ha.j*this.ha.ze.x+this.pa.j*this.pa.ze.x;c.y=this.ha.j*this.ha.ze.y+this.pa.j*this.pa.ze.y;break;case 3:c.x=b.x=this.ha.j*this.ha.Ec.x+this.pa.j*this.pa.Ec.x+this.Qd.j*
this.Qd.Ec.x;c.y=b.y=this.ha.j*this.ha.Ec.y+this.pa.j*this.pa.Ec.y+this.Qd.j*this.Qd.Ec.y;break;default:g.lb(!1)}};y.prototype.Kr=function(){switch(this.Xa){case 0:return g.lb(!1),0;case 1:return 0;case 2:return c.ub(this.ha.ka,this.pa.ka).Cf();case 3:return c.di(c.ub(this.pa.ka,this.ha.ka),c.ub(this.Qd.ka,this.ha.ka));default:return g.lb(!1),0}};y.prototype.Nv=function(){var b=this.ha.ka,a=this.pa.ka,d=c.ub(a,b),b=-(b.x*d.x+b.y*d.y);0>=b?this.Xa=this.ha.j=1:(a=a.x*d.x+a.y*d.y,0>=a?(this.Xa=this.pa.j=
1,this.ha.Set(this.pa)):(d=1/(a+b),this.ha.j=a*d,this.pa.j=b*d,this.Xa=2))};y.prototype.Ov=function(){var b=this.ha.ka,a=this.pa.ka,d=this.Qd.ka,l=c.ub(a,b),f=c.wc(b,l),v=c.wc(a,l),f=-f,g=c.ub(d,b),A=c.wc(b,g),y=c.wc(d,g),A=-A,n=c.ub(d,a),r=c.wc(a,n),n=c.wc(d,n),r=-r,g=c.di(l,g),l=g*c.di(a,d),d=g*c.di(d,b),b=g*c.di(b,a);0>=f&&0>=A?this.Xa=this.ha.j=1:0<v&&0<f&&0>=b?(y=1/(v+f),this.ha.j=v*y,this.pa.j=f*y,this.Xa=2):0<y&&0<A&&0>=d?(v=1/(y+A),this.ha.j=y*v,this.Qd.j=A*v,this.Xa=2,this.pa.Set(this.Qd)):
0>=v&&0>=r?(this.Xa=this.pa.j=1,this.ha.Set(this.pa)):0>=y&&0>=n?(this.Xa=this.Qd.j=1,this.ha.Set(this.Qd)):0<n&&0<r&&0>=l?(v=1/(n+r),this.pa.j=n*v,this.Qd.j=r*v,this.Xa=2,this.ha.Set(this.Qd)):(v=1/(l+d+b),this.ha.j=l*v,this.pa.j=d*v,this.Qd.j=b*v,this.Xa=3)};A.Cm=function(){this.cc=new M(3);this.dc=new M(3)};I.Np=function(){};I.prototype.Set=function(b){this.Ec.A(b.Ec);this.ze.A(b.ze);this.ka.A(b.ka);this.j=b.j;this.cc=b.cc;this.dc=b.dc};S.pd=function(){};S.Tv=function(b){++S.kx;var a=b.yf,d=b.zf,
l=b.Eu,f=b.Fu;g.lb(l.hc==f.hc);g.lb(1-l.hc>Number.MIN_VALUE);var v=a.va+d.va;b=b.UA;var A=0,y=0,n=0;S.dr.count=0;for(S.mj.Pu=!1;;){l.Vc(S.Qg,A);f.Vc(S.Rg,A);S.mj.yf=a;S.mj.zf=d;S.mj.Iu=S.Qg;S.mj.Ju=S.Rg;H.qo(S.Bu,S.dr,S.mj);if(0>=S.Bu.wg){A=1;break}S.On.Zb(S.dr,a,S.Qg,d,S.Rg);var r=S.On.De(S.Qg,S.Rg);if(0>=r){A=1;break}0==y&&(n=r>v?c.Hc(v-b,.75*v):c.Hc(r-b,.02*v));if(r-n<.5*b){if(0==y){A=1;break}break}var I=A,k=A,p=1;l.Vc(S.Qg,p);f.Vc(S.Rg,p);var x=S.On.De(S.Qg,S.Rg);if(x>=n){A=1;break}for(var t=
0;;){var e=0,e=t&1?k+(n-r)*(p-k)/(x-r):.5*(k+p);l.Vc(S.Qg,e);f.Vc(S.Rg,e);var W=S.On.De(S.Qg,S.Rg);if(c.Yb(W-n)<.025*b){I=e;break}W>n?(k=e,r=W):(p=e,x=W);++t;++S.mx;if(50==t)break}S.Vs=c.Hc(S.Vs,t);if(I<(1+100*Number.MIN_VALUE)*A)break;A=I;y++;++S.lx;if(1E3==y)break}S.Us=c.Hc(S.Us,y);return A};e.Ab.push(function(){e.l.pd.kx=0;e.l.pd.lx=0;e.l.pd.Us=0;e.l.pd.mx=0;e.l.pd.Vs=0;e.l.pd.dr=new A;e.l.pd.mj=new B;e.l.pd.Qg=new f;e.l.pd.Rg=new f;e.l.pd.On=new v;e.l.pd.Bu=new K});W.Dm=function(){this.yf=new D;
this.zf=new D;this.Eu=new d;this.Fu=new d};Z.rh=function(){this.oa=new b};Z.prototype.rh=function(){this.ua=new C(g.Kd);for(var c=0;c<g.Kd;c++)this.ua[c]=new b};Z.prototype.Zb=function(b,c,a,d,l){void 0===a&&(a=0);void 0===l&&(l=0);if(0!=b.Cb){var f=0,v,g,A=0,y=0,n=0,r=0,I=0;switch(b.Ba){case N.bq:g=c.s;v=b.Aa;f=c.position.x+g.b.x*v.x+g.c.x*v.y;c=c.position.y+g.b.y*v.x+g.c.y*v.y;g=d.s;v=b.ua[0].Aa;b=d.position.x+g.b.x*v.x+g.c.x*v.y;d=d.position.y+g.b.y*v.x+g.c.y*v.y;v=b-f;g=d-c;A=v*v+g*g;A>Number.MIN_VALUE*
Number.MIN_VALUE?(A=Math.sqrt(A),this.oa.x=v/A,this.oa.y=g/A):(this.oa.x=1,this.oa.y=0);v=c+a*this.oa.y;d=d-l*this.oa.y;this.ua[0].x=.5*(f+a*this.oa.x+(b-l*this.oa.x));this.ua[0].y=.5*(v+d);break;case N.Me:g=c.s;v=b.sc;A=g.b.x*v.x+g.c.x*v.y;y=g.b.y*v.x+g.c.y*v.y;g=c.s;v=b.Aa;n=c.position.x+g.b.x*v.x+g.c.x*v.y;r=c.position.y+g.b.y*v.x+g.c.y*v.y;this.oa.x=A;this.oa.y=y;for(f=0;f<b.Cb;f++)g=d.s,v=b.ua[f].Aa,I=d.position.x+g.b.x*v.x+g.c.x*v.y,v=d.position.y+g.b.y*v.x+g.c.y*v.y,this.ua[f].x=I+.5*(a-(I-
n)*A-(v-r)*y-l)*A,this.ua[f].y=v+.5*(a-(I-n)*A-(v-r)*y-l)*y;break;case N.zh:for(g=d.s,v=b.sc,A=g.b.x*v.x+g.c.x*v.y,y=g.b.y*v.x+g.c.y*v.y,g=d.s,v=b.Aa,n=d.position.x+g.b.x*v.x+g.c.x*v.y,r=d.position.y+g.b.y*v.x+g.c.y*v.y,this.oa.x=-A,this.oa.y=-y,f=0;f<b.Cb;f++)g=c.s,v=b.ua[f].Aa,I=c.position.x+g.b.x*v.x+g.c.x*v.y,v=c.position.y+g.b.y*v.x+g.c.y*v.y,this.ua[f].x=I+.5*(l-(I-n)*A-(v-r)*y-a)*A,this.ua[f].y=v+.5*(l-(I-n)*A-(v-r)*y-a)*y}}};aa.ko=function(){this.ke=new b;this.id=new p};aa.prototype.Set=function(b){this.ke.A(b.ke);
this.id.Set(b.id)};T.so=function(){};Object.defineProperty(T.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this.ip}});Object.defineProperty(T.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(b){void 0===b&&(b=0);this.ip=b;this.mg.Id=this.mg.Id&4294967040|this.ip&255}});Object.defineProperty(T.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this.bp}});Object.defineProperty(T.prototype,"incidentEdge",{enumerable:!1,
configurable:!0,set:function(b){void 0===b&&(b=0);this.bp=b;this.mg.Id=this.mg.Id&4294902015|this.bp<<8&65280}});Object.defineProperty(T.prototype,"incidentVertex",{enumerable:!1,configurable:!0,get:function(){return this.cp}});Object.defineProperty(T.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(b){void 0===b&&(b=0);this.cp=b;this.mg.Id=this.mg.Id&4278255615|this.cp<<16&16711680}});Object.defineProperty(T.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this.ap}});
Object.defineProperty(T.prototype,"flip",{enumerable:!1,configurable:!0,set:function(b){void 0===b&&(b=0);this.ap=b;this.mg.Id=this.mg.Id&16777215|this.ap<<24&4278190080}})})();(function(){var m=e.J.Va,a=e.l.qa.rg,k=e.l.qa.Zj,g=e.l.qa.$j,c=e.l.qa.hk,d=e.l.qa.If,f=e.l.qa.bb,b=e.J.Math.Hf,l=e.J.Math.$d,n=e.J.Math.tg,r=e.J.Math.pe,x=e.l.ph,p=e.l.ym,t=e.l.zm,H=e.l.Am,B=e.l.Cm;e.Qa(a,e.l.qa.bb);a.prototype.V=e.l.qa.bb.prototype;a.rg=function(){e.l.qa.bb.bb.apply(this,arguments);this.tc=new r};a.prototype.vc=
function(){var b=new a;b.Set(this);return b};a.prototype.Set=function(b){this.V.Set.call(this,b);e.is(b,a)&&this.tc.A((b instanceof a?b:null).tc)};a.prototype.ci=function(b,c){var a=c.s,d=c.position.x+(a.b.x*this.tc.x+a.c.x*this.tc.y),a=c.position.y+(a.b.y*this.tc.x+a.c.y*this.tc.y);b.lowerBound.Set(d-this.va,a-this.va);b.upperBound.Set(d+this.va,a+this.va)};a.prototype.Aj=function(b,c){void 0===c&&(c=0);b.uf=c*m.vk*this.va*this.va;b.rd.A(this.tc);b.ei=b.uf*(.5*this.va*this.va+(this.tc.x*this.tc.x+
this.tc.y*this.tc.y))};a.prototype.Il=function(b,c,a,d){void 0===c&&(c=0);a=l.Qb(a,this.tc);var f=-(l.wc(b,a)-c);if(f<-this.va+Number.MIN_VALUE)return 0;if(f>this.va)return d.A(a),Math.PI*this.va*this.va;c=this.va*this.va;var g=f*f,f=c*(Math.asin(f/this.va)+Math.PI/2)+f*Math.sqrt(c-g);c=-2/3*Math.pow(c-g,1.5)/f;d.x=a.x+b.x*c;d.y=a.y+b.y*c;return f};a.prototype.rg=function(b){void 0===b&&(b=0);this.V.bb.call(this);this.Ba=f.yh;this.va=b};k.Zj=function(){};k.prototype.Zj=function(){this.eb=[]};e.Qa(g,
e.l.qa.bb);g.prototype.V=e.l.qa.bb.prototype;g.$j=function(){e.l.qa.bb.bb.apply(this,arguments);new r;this.ha=new r;this.pa=new r;this.Ny=new r;this.Oy=new r;this.oa=new r;this.Hg=new r;new r;this.Py=new r};g.prototype.ci=function(b,c){var a=c.s,d=c.position.x+(a.b.x*this.ha.x+a.c.x*this.ha.y),l=c.position.y+(a.b.y*this.ha.x+a.c.y*this.ha.y),f=c.position.x+(a.b.x*this.pa.x+a.c.x*this.pa.y),a=c.position.y+(a.b.y*this.pa.x+a.c.y*this.pa.y);d<f?(b.lowerBound.x=d,b.upperBound.x=f):(b.lowerBound.x=f,b.upperBound.x=
d);l<a?(b.lowerBound.y=l,b.upperBound.y=a):(b.lowerBound.y=a,b.upperBound.y=l)};g.prototype.Aj=function(b){b.uf=0;b.rd.A(this.ha);b.ei=0};g.prototype.Il=function(b,c,a,d){void 0===c&&(c=0);var f=new r(b.x*c,b.y*c),g=l.Qb(a,this.ha);a=l.Qb(a,this.pa);var n=l.wc(b,g)-c;b=l.wc(b,a)-c;if(0<n){if(0<b)return 0;g.x=-b/(n-b)*g.x+n/(n-b)*a.x;g.y=-b/(n-b)*g.y+n/(n-b)*a.y}else 0<b&&(a.x=-b/(n-b)*g.x+n/(n-b)*a.x,a.y=-b/(n-b)*g.y+n/(n-b)*a.y);d.x=(f.x+g.x+a.x)/3;d.y=(f.y+g.y+a.y)/3;return.5*((g.x-f.x)*(a.y-f.y)-
(g.y-f.y)*(a.x-f.x))};g.prototype.$j=function(b,c){this.V.bb.call(this);this.Ba=f.Xm;this.ha=b;this.pa=c;this.Hg.Set(this.pa.x-this.ha.x,this.pa.y-this.ha.y);this.Fq=this.Hg.fd();this.oa.Set(this.Hg.y,-this.Hg.x);this.Ny.Set(-m.Im*(this.oa.x-this.Hg.x)+this.ha.x,-m.Im*(this.oa.y-this.Hg.y)+this.ha.y);this.Oy.Set(-m.Im*(this.oa.x+this.Hg.x)+this.pa.x,-m.Im*(this.oa.y+this.Hg.y)+this.pa.y);this.Py.Set(-this.oa.x,-this.oa.y)};c.hk=function(){this.uf=0;this.rd=new r(0,0);this.ei=0};e.Qa(d,e.l.qa.bb);
d.prototype.V=e.l.qa.bb.prototype;d.If=function(){e.l.qa.bb.bb.apply(this,arguments)};d.prototype.vc=function(){var b=new d;b.Set(this);return b};d.prototype.Set=function(b){this.V.Set.call(this,b);if(e.is(b,d)){b=b instanceof d?b:null;this.Of.A(b.Of);this.Ua=b.Ua;this.Lj(this.Ua);for(var c=0;c<this.Ua;c++)this.L[c].A(b.L[c]),this.tb[c].A(b.tb[c])}};d.prototype.Fv=function(b,c){void 0===c&&(c=0);for(var a=new C,d=0,l,d=0;d<b.length;++d)l=b[d],a.push(l);this.Xr(a,c)};d.nB=function(b,c){void 0===c&&
(c=0);var a=new d;a.Fv(b,c);return a};d.prototype.Xr=function(b,c){void 0===c&&(c=0);0==c&&(c=b.length);m.lb(2<=c);this.Ua=c;this.Lj(c);for(var a=0,a=0;a<this.Ua;a++)this.L[a].A(b[a]);for(a=0;a<this.Ua;++a){var f=parseInt(a),f=l.ub(this.L[parseInt(a+1<this.Ua?a+1:0)],this.L[f]);m.lb(f.Sl()>Number.MIN_VALUE);this.tb[a].A(l.gg(f,1));this.tb[a].fd()}this.Of=d.dv(this.L,this.Ua)};d.rB=function(b,c){void 0===c&&(c=0);var a=new d;a.Xr(b,c);return a};d.prototype.Wr=function(b,c){void 0===b&&(b=0);void 0===
c&&(c=0);this.Ua=4;this.Lj(4);this.L[0].Set(-b,-c);this.L[1].Set(b,-c);this.L[2].Set(b,c);this.L[3].Set(-b,c);this.tb[0].Set(0,-1);this.tb[1].Set(1,0);this.tb[2].Set(0,1);this.tb[3].Set(-1,0);this.Of.ma()};d.oB=function(b,c){void 0===b&&(b=0);void 0===c&&(c=0);var a=new d;a.Wr(b,c);return a};d.prototype.Hv=function(b,c,a,d){void 0===b&&(b=0);void 0===c&&(c=0);void 0===a&&(a=null);void 0===d&&(d=0);this.Ua=4;this.Lj(4);this.L[0].Set(-b,-c);this.L[1].Set(b,-c);this.L[2].Set(b,c);this.L[3].Set(-b,c);
this.tb[0].Set(0,-1);this.tb[1].Set(1,0);this.tb[2].Set(0,1);this.tb[3].Set(-1,0);this.Of=a;b=new n;b.position=a;b.s.Set(d);for(a=0;a<this.Ua;++a)this.L[a]=l.Qb(b,this.L[a]),this.tb[a]=l.kc(b.s,this.tb[a])};d.qB=function(b,c,a,l){void 0===b&&(b=0);void 0===c&&(c=0);void 0===a&&(a=null);void 0===l&&(l=0);var f=new d;f.Hv(b,c,a,l);return f};d.prototype.Gv=function(b,c){this.Ua=2;this.Lj(2);this.L[0].A(b);this.L[1].A(c);this.Of.x=.5*(b.x+c.x);this.Of.y=.5*(b.y+c.y);this.tb[0]=l.gg(l.ub(c,b),1);this.tb[0].fd();
this.tb[1].x=-this.tb[0].x;this.tb[1].y=-this.tb[0].y};d.pB=function(b,c){var a=new d;a.Gv(b,c);return a};d.prototype.ci=function(b,c){for(var a=c.s,d=this.L[0],l=c.position.x+(a.b.x*d.x+a.c.x*d.y),f=c.position.y+(a.b.y*d.x+a.c.y*d.y),g=l,n=f,r=1;r<this.Ua;++r)var d=this.L[r],k=c.position.x+(a.b.x*d.x+a.c.x*d.y),d=c.position.y+(a.b.y*d.x+a.c.y*d.y),l=l<k?l:k,f=f<d?f:d,g=g>k?g:k,n=n>d?n:d;b.lowerBound.x=l-this.va;b.lowerBound.y=f-this.va;b.upperBound.x=g+this.va;b.upperBound.y=n+this.va};d.prototype.Aj=
function(b,c){void 0===c&&(c=0);if(2==this.Ua)b.rd.x=.5*(this.L[0].x+this.L[1].x),b.rd.y=.5*(this.L[0].y+this.L[1].y),b.uf=0,b.ei=0;else{for(var a=0,d=0,l=0,f=0,g=1/3,n=0;n<this.Ua;++n)var r=this.L[n],k=n+1<this.Ua?this.L[parseInt(n+1)]:this.L[0],p=r.x-0,x=r.y-0,v=k.x-0,y=k.y-0,A=p*y-x*v,I=.5*A,l=l+I,a=a+I*g*(0+r.x+k.x),d=d+I*g*(0+r.y+k.y),r=p,f=f+A*(g*(.25*(r*r+v*r+v*v)+(0*r+0*v))+0+(g*(.25*(x*x+y*x+y*y)+(0*x+0*y))+0));b.uf=c*l;b.rd.Set(1/l*a,1/l*d);b.ei=c*f}};d.prototype.Il=function(b,a,d,f){void 0===
a&&(a=0);var g=l.ig(d.s,b),n=a-l.wc(b,d.position),k=new M,p=0,x=-1;a=-1;var t=!1;for(b=b=0;b<this.Ua;++b){k[b]=l.wc(g,this.L[b])-n;var e=k[b]<-Number.MIN_VALUE;0<b&&(e?t||(x=b-1,p++):t&&(a=b-1,p++));t=e}switch(p){case 0:return t?(b=new c,this.Aj(b,1),f.A(l.Qb(d,b.rd)),b.uf):0;case 1:-1==x?x=this.Ua-1:a=this.Ua-1}b=parseInt((x+1)%this.Ua);g=parseInt((a+1)%this.Ua);n=(0-k[x])/(k[b]-k[x]);k=(0-k[a])/(k[g]-k[a]);x=new r(this.L[x].x*(1-n)+this.L[b].x*n,this.L[x].y*(1-n)+this.L[b].y*n);a=new r(this.L[a].x*
(1-k)+this.L[g].x*k,this.L[a].y*(1-k)+this.L[g].y*k);k=0;n=new r;for(p=this.L[b];b!=g;)b=(b+1)%this.Ua,t=b==g?a:this.L[b],e=.5*((p.x-x.x)*(t.y-x.y)-(p.y-x.y)*(t.x-x.x)),k+=e,n.x+=e*(x.x+p.x+t.x)/3,n.y+=e*(x.y+p.y+t.y)/3,p=t;n.Wc(1/k);f.A(l.Qb(d,n));return k};d.prototype.xo=function(b){for(var c=0,a=this.L[0].x*b.x+this.L[0].y*b.y,d=1;d<this.Ua;++d){var l=this.L[d].x*b.x+this.L[d].y*b.y;l>a&&(c=d,a=l)}return c};d.prototype.Gj=function(b){for(var c=0,a=this.L[0].x*b.x+this.L[0].y*b.y,d=1;d<this.Ua;++d){var l=
this.L[d].x*b.x+this.L[d].y*b.y;l>a&&(c=d,a=l)}return this.L[c]};d.prototype.If=function(){this.V.bb.call(this);this.Ba=f.Bg;this.Of=new r;this.L=new C;this.tb=new C};d.prototype.Lj=function(b){void 0===b&&(b=0);for(var c=parseInt(this.L.length);c<b;c++)this.L[c]=new r,this.tb[c]=new r};d.dv=function(b,c){void 0===c&&(c=0);for(var a=new r,d=0,l=1/3,f=0;f<c;++f){var g=b[f],n=f+1<c?b[parseInt(f+1)]:b[0],k=.5*((g.x-0)*(n.y-0)-(g.y-0)*(n.x-0)),d=d+k;a.x+=k*l*(0+g.x+n.x);a.y+=k*l*(0+g.y+n.y)}a.x*=1/d;
a.y*=1/d;return a};d.FB=function(b,c,a){void 0===a&&(a=0);for(var d=0,l=new C(a+1),d=0;d<a;++d)l[d]=c[d];l[a]=l[0];c=Number.MAX_VALUE;for(d=1;d<=a;++d){for(var f=l[parseInt(d-1)],g=l[d].x-f.x,n=l[d].y-f.y,r=Math.sqrt(g*g+n*n),g=g/r,n=n/r,k=-n,p=g,x=r=Number.MAX_VALUE,v=-Number.MAX_VALUE,y=-Number.MAX_VALUE,A=0;A<a;++A){var I=l[A].x-f.x,t=l[A].y-f.y,e=g*I+n*t,I=k*I+p*t;e<r&&(r=e);I<x&&(x=I);e>v&&(v=e);I>y&&(y=I)}A=(v-r)*(y-x);A<.95*c&&(c=A,b.s.b.x=g,b.s.b.y=n,b.s.c.x=k,b.s.c.y=p,g=.5*(r+v),n=.5*(x+
y),k=b.s,b.rd.x=f.x+(k.b.x*g+k.c.x*n),b.rd.y=f.y+(k.b.y*g+k.c.y*n),b.Wx.x=.5*(v-r),b.Wx.y=.5*(y-x))}};e.Ab.push(function(){e.l.qa.If.kE=new b});f.bb=function(){};f.prototype.vc=function(){return null};f.prototype.Set=function(b){this.va=b.va};f.prototype.Pa=function(){return this.Ba};f.prototype.ci=function(){};f.prototype.Aj=function(){};f.prototype.Il=function(){return 0};f.kg=function(b,a,c,d){var l=new p;l.yf=new H;l.yf.Set(b);l.zf=new H;l.zf.Set(c);l.Iu=a;l.Ju=d;l.Pu=!0;b=new B;b.count=0;a=new t;
x.qo(a,b,l);return a.wg<10*Number.MIN_VALUE};f.prototype.bb=function(){this.Ba=f.Rx;this.va=m.Ka};e.Ab.push(function(){e.l.qa.bb.Rx=-1;e.l.qa.bb.yh=0;e.l.qa.bb.Bg=1;e.l.qa.bb.Xm=2;e.l.qa.bb.an=3;e.l.qa.bb.pD=1;e.l.qa.bb.rD=0;e.l.qa.bb.uD=-1})})();(function(){var m=e.J.xi,a=e.J.Va,k=e.J.Math.$d;m.xi=function(){this.Zl=this.em=this.lm=0};m.prototype.xi=function(a,c,d){void 0===a&&(a=0);void 0===c&&(c=0);void 0===d&&(d=0);this.lm=e.ve(255*k.Oa(a,0,1));this.em=e.ve(255*k.Oa(c,0,1));this.Zl=e.ve(255*k.Oa(d,
0,1))};m.prototype.Set=function(a,c,d){void 0===a&&(a=0);void 0===c&&(c=0);void 0===d&&(d=0);this.lm=e.ve(255*k.Oa(a,0,1));this.em=e.ve(255*k.Oa(c,0,1));this.Zl=e.ve(255*k.Oa(d,0,1))};Object.defineProperty(m.prototype,"r",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.lm=e.ve(255*k.Oa(a,0,1))}});Object.defineProperty(m.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this.em=e.ve(255*k.Oa(a,0,1))}});Object.defineProperty(m.prototype,"b",{enumerable:!1,
configurable:!0,set:function(a){void 0===a&&(a=0);this.Zl=e.ve(255*k.Oa(a,0,1))}});Object.defineProperty(m.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this.lm<<16|this.em<<8|this.Zl}});a.Va=function(){};a.ax=function(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return Math.sqrt(a*c)};a.bx=function(a,c){void 0===a&&(a=0);void 0===c&&(c=0);return a>c?a:c};a.lb=function(a){if(!a)throw"Assertion Failed";};e.Ab.push(function(){e.J.Va.VERSION="2.1alpha";e.J.Va.DC=65535;e.J.Va.vk=
Math.PI;e.J.Va.Kd=2;e.J.Va.Fm=.1;e.J.Va.Ps=2;e.J.Va.PC=2*a.Ka;e.J.Va.Ka=.005;e.J.Va.sh=2/180*a.vk;e.J.Va.Im=8*a.Ka;e.J.Va.hx=32;e.J.Va.ix=32;e.J.Va.nx=1;e.J.Va.Jd=.2;e.J.Va.Gm=8/180*a.vk;e.J.Va.Ki=2;e.J.Va.Ts=a.Ki*a.Ki;e.J.Va.Ji=.5*a.vk;e.J.Va.Ss=a.Ji*a.Ji;e.J.Va.Pp=.2;e.J.Va.jx=.5;e.J.Va.Rs=.01;e.J.Va.Qs=2/180*a.vk})})();(function(){var m=e.J.Math.Hf,a=e.J.Math.Ei,k=e.J.Math.$d,g=e.J.Math.sk,c=e.J.Math.tg,d=e.J.Math.pe,f=e.J.Math.Ii;m.Hf=function(){this.b=new d;this.c=new d};m.prototype.Hf=function(){this.Vl()};
m.Ll=function(b){void 0===b&&(b=0);var a=new m;a.Set(b);return a};m.Dj=function(b,a){var c=new m;c.Lv(b,a);return c};m.prototype.Set=function(b){void 0===b&&(b=0);var a=Math.cos(b);b=Math.sin(b);this.b.x=a;this.c.x=-b;this.b.y=b;this.c.y=a};m.prototype.Lv=function(b,a){this.b.A(b);this.c.A(a)};m.prototype.vc=function(){var b=new m;b.hh(this);return b};m.prototype.hh=function(b){this.b.A(b.b);this.c.A(b.c)};m.prototype.Hl=function(b){this.b.x+=b.b.x;this.b.y+=b.b.y;this.c.x+=b.c.x;this.c.y+=b.c.y};
m.prototype.Vl=function(){this.b.x=1;this.c.x=0;this.b.y=0;this.c.y=1};m.prototype.ma=function(){this.b.x=0;this.c.x=0;this.b.y=0;this.c.y=0};m.prototype.af=function(){return Math.atan2(this.b.y,this.b.x)};m.prototype.uo=function(b){var a=this.b.x,c=this.c.x,d=this.b.y,f=this.c.y,g=a*f-c*d;0!=g&&(g=1/g);b.b.x=g*f;b.c.x=-g*c;b.b.y=-g*d;b.c.y=g*a};m.prototype.ih=function(b,a,c){void 0===a&&(a=0);void 0===c&&(c=0);var d=this.b.x,f=this.c.x,g=this.b.y,k=this.c.y,e=d*k-f*g;0!=e&&(e=1/e);b.x=e*(k*a-f*c);
b.y=e*(d*c-g*a);return b};m.prototype.Yb=function(){this.b.Yb();this.c.Yb()};a.Ei=function(){this.b=new f;this.c=new f;this.ja=new f};a.prototype.Ei=function(b,a,c){void 0===b&&(b=null);void 0===a&&(a=null);void 0===c&&(c=null);b||a||c?(this.b.A(b),this.c.A(a),this.ja.A(c)):(this.b.ma(),this.c.ma(),this.ja.ma())};a.prototype.vc=function(){return new a(this.b,this.c,this.ja)};a.prototype.hh=function(b){this.b.A(b.b);this.c.A(b.c);this.ja.A(b.ja)};a.prototype.Hl=function(b){this.b.x+=b.b.x;this.b.y+=
b.b.y;this.b.z+=b.b.z;this.c.x+=b.c.x;this.c.y+=b.c.y;this.c.z+=b.c.z;this.ja.x+=b.ja.x;this.ja.y+=b.ja.y;this.ja.z+=b.ja.z};a.prototype.Vl=function(){this.b.x=1;this.c.x=0;this.ja.x=0;this.b.y=0;this.c.y=1;this.ja.y=0;this.b.z=0;this.c.z=0;this.ja.z=1};a.prototype.ma=function(){this.b.x=0;this.c.x=0;this.ja.x=0;this.b.y=0;this.c.y=0;this.ja.y=0;this.b.z=0;this.c.z=0;this.ja.z=0};a.prototype.hi=function(b,a,c){void 0===a&&(a=0);void 0===c&&(c=0);var d=this.b.x,f=this.c.x,g=this.b.y,k=this.c.y,e=d*
k-f*g;0!=e&&(e=1/e);b.x=e*(k*a-f*c);b.y=e*(d*c-g*a);return b};a.prototype.Oj=function(b,a,c,d){void 0===a&&(a=0);void 0===c&&(c=0);void 0===d&&(d=0);var f=this.b.x,g=this.b.y,k=this.b.z,e=this.c.x,m=this.c.y,q=this.c.z,D=this.ja.x,L=this.ja.y,z=this.ja.z,F=f*(m*z-q*L)+g*(q*D-e*z)+k*(e*L-m*D);0!=F&&(F=1/F);b.x=F*(a*(m*z-q*L)+c*(q*D-e*z)+d*(e*L-m*D));b.y=F*(f*(c*z-d*L)+g*(d*D-a*z)+k*(a*L-c*D));b.z=F*(f*(m*d-q*c)+g*(q*a-e*d)+k*(e*c-m*a));return b};k.$d=function(){};k.fi=function(b){void 0===b&&(b=0);
return isFinite(b)};k.wc=function(b,a){return b.x*a.x+b.y*a.y};k.di=function(b,a){return b.x*a.y-b.y*a.x};k.gg=function(b,a){void 0===a&&(a=0);return new d(a*b.y,-a*b.x)};k.Cr=function(b,a){void 0===b&&(b=0);return new d(-b*a.y,b*a.x)};k.kc=function(b,a){return new d(b.b.x*a.x+b.c.x*a.y,b.b.y*a.x+b.c.y*a.y)};k.ig=function(b,a){return new d(k.wc(a,b.b),k.wc(a,b.c))};k.Qb=function(b,a){var c=k.kc(b.s,a);c.x+=b.position.x;c.y+=b.position.y;return c};k.tv=function(b,a){var c=k.ub(a,b.position),d=c.x*
b.s.b.x+c.y*b.s.b.y;c.y=c.x*b.s.c.x+c.y*b.s.c.y;c.x=d;return c};k.wr=function(b,a){return new d(b.x+a.x,b.y+a.y)};k.ub=function(b,a){return new d(b.x-a.x,b.y-a.y)};k.qo=function(b,a){var c=b.x-a.x,d=b.y-a.y;return Math.sqrt(c*c+d*d)};k.LB=function(b,a){var c=b.x-a.x,d=b.y-a.y;return c*c+d*d};k.aC=function(b,a){void 0===b&&(b=0);return new d(b*a.x,b*a.y)};k.mB=function(b,a){return m.Dj(k.wr(b.b,a.b),k.wr(b.c,a.c))};k.bC=function(b,a){return m.Dj(k.kc(b,a.b),k.kc(b,a.c))};k.cC=function(b,a){var c=new d(k.wc(b.b,
a.b),k.wc(b.c,a.b)),f=new d(k.wc(b.b,a.c),k.wc(b.c,a.c));return m.Dj(c,f)};k.Yb=function(b){void 0===b&&(b=0);return 0<b?b:-b};k.tr=function(b){return new d(k.Yb(b.x),k.Yb(b.y))};k.lB=function(b){return m.Dj(k.tr(b.b),k.tr(b.c))};k.gh=function(b,a){void 0===b&&(b=0);void 0===a&&(a=0);return b<a?b:a};k.Or=function(b,a){return new d(k.gh(b.x,a.x),k.gh(b.y,a.y))};k.Hc=function(b,a){void 0===b&&(b=0);void 0===a&&(a=0);return b>a?b:a};k.Nr=function(b,a){return new d(k.Hc(b.x,a.x),k.Hc(b.y,a.y))};k.Oa=
function(b,a,c){void 0===b&&(b=0);void 0===a&&(a=0);void 0===c&&(c=0);return b<a?a:b>c?c:b};k.CB=function(b,a,c){return k.Nr(a,k.Or(b,c))};k.Pv=function(b,a){var c=b[0];b[0]=a[0];a[0]=c};k.mC=function(){return 2*Math.random()-1};k.nC=function(b,a){void 0===b&&(b=0);void 0===a&&(a=0);return(a-b)*Math.random()+b};k.dC=function(b){void 0===b&&(b=0);b|=b>>1&2147483647;b|=b>>2&1073741823;b|=b>>4&268435455;b|=b>>8&16777215;return(b|b>>16&65535)+1};k.XB=function(b){void 0===b&&(b=0);return 0<b&&0==(b&b-
1)};e.Ab.push(function(){e.J.Math.$d.cx=new d(0,0);e.J.Math.$d.$w=m.Dj(new d(1,0),new d(0,1));e.J.Math.$d.LC=new c(k.cx,k.$w)});g.sk=function(){this.F=new d;this.oc=new d;this.g=new d};g.prototype.Set=function(b){this.F.A(b.F);this.oc.A(b.oc);this.g.A(b.g);this.oe=b.oe;this.j=b.j;this.hc=b.hc};g.prototype.vc=function(){var b=new g;b.F.A(this.F);b.oc.A(this.oc);b.g.A(this.g);b.oe=this.oe;b.j=this.j;b.hc=this.hc;return b};g.prototype.Vc=function(b,a){void 0===a&&(a=0);b.position.x=(1-a)*this.oc.x+a*
this.g.x;b.position.y=(1-a)*this.oc.y+a*this.g.y;b.s.Set((1-a)*this.oe+a*this.j);var c=b.s;b.position.x-=c.b.x*this.F.x+c.c.x*this.F.y;b.position.y-=c.b.y*this.F.x+c.c.y*this.F.y};g.prototype.fg=function(b){void 0===b&&(b=0);if(this.hc<b&&1-this.hc>Number.MIN_VALUE){var a=(b-this.hc)/(1-this.hc);this.oc.x=(1-a)*this.oc.x+a*this.g.x;this.oc.y=(1-a)*this.oc.y+a*this.g.y;this.oe=(1-a)*this.oe+a*this.j;this.hc=b}};c.tg=function(){this.position=new d;this.s=new m};c.prototype.tg=function(b,a){void 0===
b&&(b=null);void 0===a&&(a=null);b&&(this.position.A(b),this.s.hh(a))};c.prototype.Zb=function(b,a){this.position.A(b);this.s.hh(a)};c.prototype.Vl=function(){this.position.ma();this.s.Vl()};c.prototype.Set=function(b){this.position.A(b.position);this.s.hh(b.s)};c.prototype.af=function(){return Math.atan2(this.s.b.y,this.s.b.x)};d.pe=function(){};d.prototype.pe=function(b,a){void 0===b&&(b=0);void 0===a&&(a=0);this.x=b;this.y=a};d.prototype.ma=function(){this.y=this.x=0};d.prototype.Set=function(b,
a){void 0===b&&(b=0);void 0===a&&(a=0);this.x=b;this.y=a};d.prototype.A=function(b){this.x=b.x;this.y=b.y};d.prototype.hg=function(){return new d(-this.x,-this.y)};d.prototype.Qr=function(){this.x=-this.x;this.y=-this.y};d.rv=function(){var b=0,a=0;void 0===b&&(b=0);void 0===a&&(a=0);return new d(b,a)};d.prototype.vc=function(){return new d(this.x,this.y)};d.prototype.$h=function(b){this.x+=b.x;this.y+=b.y};d.prototype.as=function(b){this.x-=b.x;this.y-=b.y};d.prototype.Wc=function(b){void 0===b&&
(b=0);this.x*=b;this.y*=b};d.prototype.gg=function(b){void 0===b&&(b=0);var a=this.x;this.x=b*this.y;this.y=-b*a};d.prototype.Cr=function(b){void 0===b&&(b=0);var a=this.x;this.x=-b*this.y;this.y=b*a};d.prototype.Or=function(b){this.x=this.x<b.x?this.x:b.x;this.y=this.y<b.y?this.y:b.y};d.prototype.Nr=function(b){this.x=this.x>b.x?this.x:b.x;this.y=this.y>b.y?this.y:b.y};d.prototype.Yb=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};d.prototype.Cf=function(){return Math.sqrt(this.x*
this.x+this.y*this.y)};d.prototype.Sl=function(){return this.x*this.x+this.y*this.y};d.prototype.fd=function(){var b=Math.sqrt(this.x*this.x+this.y*this.y);if(b<Number.MIN_VALUE)return 0;var a=1/b;this.x*=a;this.y*=a;return b};d.prototype.fi=function(){return k.fi(this.x)&&k.fi(this.y)};f.Ii=function(){};f.prototype.Ii=function(b,a,c){void 0===b&&(b=0);void 0===a&&(a=0);void 0===c&&(c=0);this.x=b;this.y=a;this.z=c};f.prototype.ma=function(){this.x=this.y=this.z=0};f.prototype.Set=function(b,a,c){void 0===
b&&(b=0);void 0===a&&(a=0);void 0===c&&(c=0);this.x=b;this.y=a;this.z=c};f.prototype.A=function(b){this.x=b.x;this.y=b.y;this.z=b.z};f.prototype.hg=function(){return new f(-this.x,-this.y,-this.z)};f.prototype.Qr=function(){this.x=-this.x;this.y=-this.y;this.z=-this.z};f.prototype.vc=function(){return new f(this.x,this.y,this.z)};f.prototype.$h=function(b){this.x+=b.x;this.y+=b.y;this.z+=b.z};f.prototype.as=function(b){this.x-=b.x;this.y-=b.y;this.z-=b.z};f.prototype.Wc=function(b){void 0===b&&(b=
0);this.x*=b;this.y*=b;this.z*=b}})();(function(){var m=e.J.Math.$d,a=e.J.Math.sk,k=e.J.Math.tg,g=e.J.Math.pe,c=e.J.xi,d=e.J.Va,f=e.l.um,b=e.l.xm,l=e.l.Bm,n=e.l.qa.hk,r=e.f.Lc,x=e.f.wi,p=e.f.vm,t=e.f.vp,H=e.f.wm,B=e.f.Ai,K=e.f.od,D=e.f.zp,L=e.f.Dp,z=e.f.Bi,F=e.f.Ci,u=e.f.Di,N=e.f.Em,J=e.f.qd,E=e.f.R.xa,G=e.f.R.yi,O=e.f.R.sg;r.Lc=function(){this.B=new k;this.a=new a;this.h=new g;this.Jg=new g};r.prototype.fv=function(b){if(1!=this.ec.Co()){var a=new z;a.Cd(this,this.B,b);this.C&r.Um&&a.Bj(this.ec.Qe.Pk,
this.B);a.Ha=this.Zi;this.Zi=a;a.Ra=this;0<a.rn&&this.Bv();this.ec.C|=J.eq}};r.prototype.Yr=function(b,a){void 0===a&&(a=0);var c;if(1!=this.ec.Co()){this.B.s.Set(a);this.B.position.A(b);c=this.B.s;var d=this.a.F;this.a.g.x=c.b.x*d.x+c.c.x*d.y;this.a.g.y=c.b.y*d.x+c.c.y*d.y;this.a.g.x+=this.B.position.x;this.a.g.y+=this.B.position.y;this.a.oc.A(this.a.g);this.a.oe=this.a.j=a;d=this.ec.Qe.Pk;for(c=this.Zi;c;c=c.Ha)c.bs(d,this.B,this.B);this.ec.Qe.Kl()}};r.prototype.Vc=function(){return this.B};r.prototype.Jv=
function(b){this.Yr(b,this.af())};r.prototype.af=function(){return this.a.j};r.prototype.Dv=function(b){void 0===b&&(b=0);this.Yr(this.B.position,b)};r.prototype.Mo=function(b){this.Ba!=r.Ld&&this.h.A(b)};r.prototype.Ev=function(b){void 0===b&&(b=0);this.Ba!=r.Ld&&(this.u=b)};r.prototype.dh=function(b,a){this.Ba==r.Xc&&(0==this.ic()&&this.me(!0),this.Jg.x+=b.x,this.Jg.y+=b.y,this.dj+=(a.x-this.a.g.x)*b.y-(a.y-this.a.g.y)*b.x)};r.prototype.Vu=function(b){void 0===b&&(b=0);this.Ba==r.Xc&&(0==this.ic()&&
this.me(!0),this.dj+=b)};r.prototype.Jr=function(b){b.uf=this.H;b.ei=this.ce;b.rd.A(this.a.F)};r.prototype.Bv=function(){this.M=this.ce=this.D=this.H=0;this.a.F.ma();if(this.Ba!=r.Ld&&this.Ba!=r.gx){for(var b=g.rv(),a=this.Zi;a;a=a.Ha)if(0!=a.rn){var c=a.Jr();this.H+=c.uf;b.x+=c.rd.x*c.uf;b.y+=c.rd.y*c.uf;this.ce+=c.ei}0<this.H?(this.D=1/this.H,b.x*=this.D,b.y*=this.D):this.D=this.H=1;0<this.ce&&0==(this.C&r.rt)?(this.ce-=this.H*(b.x*b.x+b.y*b.y),this.ce*=this.Ty,d.lb(0<this.ce),this.M=1/this.ce):
this.M=this.ce=0;a=this.a.g.vc();this.a.F.A(b);this.a.oc.A(m.Qb(this.B,this.a.F));this.a.g.A(this.a.oc);this.h.x+=this.u*-(this.a.g.y-a.y);this.h.y+=this.u*+(this.a.g.x-a.x)}};r.prototype.Nl=function(b){var a=this.B.s;b=new g(a.b.x*b.x+a.c.x*b.y,a.b.y*b.x+a.c.y*b.y);b.x+=this.B.position.x;b.y+=this.B.position.y;return b};r.prototype.yo=function(b){return m.kc(this.B.s,b)};r.prototype.Dd=function(b){return m.tv(this.B,b)};r.prototype.wo=function(b){return m.ig(this.B.s,b)};r.prototype.vo=function(b){return new g(this.h.x-
this.u*(b.y-this.a.g.y),this.h.y+this.u*(b.x-this.a.g.x))};r.prototype.Pa=function(){return this.Ba};r.prototype.Iv=function(){this.C|=r.Wm};r.prototype.Ol=function(){return(this.C&r.Wm)==r.Wm};r.prototype.Kv=function(){this.C&=~r.Vm;this.me(!0)};r.prototype.me=function(b){b?(this.C|=r.Ek,this.Rh=0):(this.C&=~r.Ek,this.Rh=0,this.h.ma(),this.u=0,this.Jg.ma(),this.dj=0)};r.prototype.ic=function(){return(this.C&r.Ek)==r.Ek};r.prototype.eh=function(){return(this.C&r.Um)==r.Um};r.prototype.Wd=function(){return this.Tf};
r.prototype.Wl=function(b){this.Tf=b};r.prototype.Lc=function(b,a){this.C=0;b.wx&&(this.C|=r.Wm);b.Yx&&(this.C|=r.rt);b.Ow&&(this.C|=r.Vm);b.Zw&&(this.C|=r.Ek);b.active&&(this.C|=r.Um);this.ec=a;this.B.position.A(b.position);this.B.s.Set(b.Ie);this.a.F.ma();this.a.hc=1;this.a.oe=this.a.j=b.Ie;var c=this.B.s,d=this.a.F;this.a.g.x=c.b.x*d.x+c.c.x*d.y;this.a.g.y=c.b.y*d.x+c.c.y*d.y;this.a.g.x+=this.B.position.x;this.a.g.y+=this.B.position.y;this.a.oc.A(this.a.g);this.jb=this.Lh=this.$i=null;this.Cq=
0;this.Ha=this.rf=null;this.h.A(b.Nt);this.u=b.Rw;this.Wy=b.Cy;this.Jy=b.Pw;this.Jg.Set(0,0);this.Rh=this.dj=0;this.Ba=b.type;this.D=this.Ba==r.Xc?this.H=1:this.H=0;this.M=this.ce=0;this.Ty=b.oy;this.Tf=b.Zg;this.Zi=null};r.prototype.cs=function(){var b=r.vA;b.s.Set(this.a.oe);var a=b.s,c=this.a.F;b.position.x=this.a.oc.x-(a.b.x*c.x+a.c.x*c.y);b.position.y=this.a.oc.y-(a.b.y*c.x+a.c.y*c.y);c=this.ec.Qe.Pk;for(a=this.Zi;a;a=a.Ha)a.bs(c,b,this.B)};r.prototype.vb=function(){this.B.s.Set(this.a.j);var b=
this.B.s,a=this.a.F;this.B.position.x=this.a.g.x-(b.b.x*a.x+b.c.x*a.y);this.B.position.y=this.a.g.y-(b.b.y*a.x+b.c.y*a.y)};r.prototype.Nj=function(b){if(this.Ba!=r.Xc&&b.Ba!=r.Xc)return!1;for(var a=this.$i;a;a=a.next)if(a.Wf==b&&0==a.Vi.Ky)return!1;return!0};r.prototype.fg=function(b){void 0===b&&(b=0);this.a.fg(b);this.a.g.A(this.a.oc);this.a.j=this.a.oe;this.vb()};e.Ab.push(function(){e.f.Lc.vA=new k;e.f.Lc.Ib=1;e.f.Lc.Ek=2;e.f.Lc.Vm=4;e.f.Lc.Wm=8;e.f.Lc.rt=16;e.f.Lc.Um=32;e.f.Lc.Ld=0;e.f.Lc.gx=
1;e.f.Lc.Xc=2});x.wi=function(){this.position=new g;this.Nt=new g};x.prototype.wi=function(){this.Zg=null;this.position.Set(0,0);this.Ie=0;this.Nt.Set(0,0);this.Pw=this.Cy=this.Rw=0;this.Zw=this.Ow=!0;this.wx=this.Yx=!1;this.type=r.Ld;this.active=!0;this.oy=1};p.vm=function(){};p.prototype.Nj=function(b,a){var c=b.Ir(),d=a.Ir();return c.Eh==d.Eh&&0!=c.Eh?0<c.Eh:0!=(c.al&d.wk)&&0!=(c.wk&d.al)};e.Ab.push(function(){e.f.vm.dx=new p});t.vp=function(){this.sz=new M(d.Kd);this.IA=new M(d.Kd)};H.wm=function(){};
e.Ab.push(function(){e.f.wm.ex=new H});B.Ai=function(){};B.prototype.Ai=function(){this.ec=null;this.te=0;this.Rt=p.dx;this.St=H.ex;this.Qt=new G(this.Gg);this.Pk=new l};B.prototype.Uu=function(b,a){var c=b instanceof z?b:null,d=a instanceof z?a:null,f=c.Ra,g=d.Ra;if(f!=g){for(var l=g.jb;l;){if(l.Wf==f){var n=l.Tb.rb,r=l.Tb.sb;if(n==c&&r==d||n==d&&r==c)return}l=l.next}0!=g.Nj(f)&&0!=this.Rt.Nj(c,d)&&(l=this.Qt.Cd(c,d),c=l.rb,d=l.sb,f=c.Ra,g=d.Ra,l.rf=null,l.Ha=this.ec.jb,null!=this.ec.jb&&(this.ec.jb.rf=
l),this.ec.jb=l,l.zc.Tb=l,l.zc.Wf=g,l.zc.za=null,l.zc.next=f.jb,null!=f.jb&&(f.jb.za=l.zc),f.jb=l.zc,l.Ac.Tb=l,l.Ac.Wf=f,l.Ac.za=null,l.Ac.next=g.jb,null!=g.jb&&(g.jb.za=l.Ac),g.jb=l.Ac,++this.ec.te)}};B.prototype.Kl=function(){this.Pk.Uv(e.fy(this,this.Uu))};B.prototype.Fc=function(b){var a=b.rb,c=b.sb,a=a.Ra,c=c.Ra;b.rf&&(b.rf.Ha=b.Ha);b.Ha&&(b.Ha.rf=b.rf);b==this.ec.jb&&(this.ec.jb=b.Ha);b.zc.za&&(b.zc.za.next=b.zc.next);b.zc.next&&(b.zc.next.za=b.zc.za);b.zc==a.jb&&(a.jb=b.zc.next);b.Ac.za&&(b.Ac.za.next=
b.Ac.next);b.Ac.next&&(b.Ac.next.za=b.Ac.za);b.Ac==c.jb&&(c.jb=b.Ac.next);this.Qt.Fc(b);--this.te};B.prototype.Zu=function(){for(var b=this.ec.jb;b;){var a=b.rb,c=b.sb,d=a.Ra,f=c.Ra;if(0==d.ic()&&0==f.ic())b=b.Ha;else{if(b.C&E.qt){if(0==f.Nj(d)){a=b;b=a.Ha;this.Fc(a);continue}if(0==this.Rt.Nj(a,c)){a=b;b=a.Ha;this.Fc(a);continue}b.C&=~E.qt}0==this.Pk.kg(a.un,c.un)?(a=b,b=a.Ha,this.Fc(a)):(b.fs(),b=b.Ha)}}};e.Ab.push(function(){e.f.Ai.iE=new b});K.od=function(){};K.prototype.od=function(){};e.Ab.push(function(){e.f.od.tD=
1;e.f.od.qD=2;e.f.od.mD=4;e.f.od.sD=8;e.f.od.nD=16;e.f.od.oD=32});D.zp=function(){};L.Dp=function(){this.wk=1;this.al=65535;this.Eh=0};L.prototype.vc=function(){var b=new L;b.wk=this.wk;b.al=this.al;b.Eh=this.Eh;return b};z.Bi=function(){this.Tt=new L};z.prototype.Pa=function(){return this.kb.Pa()};z.prototype.fh=function(){return this.Uy};z.prototype.Ir=function(){return this.Tt.vc()};z.prototype.Wd=function(){return this.Tf};z.prototype.Wl=function(b){this.Tf=b};z.prototype.Jr=function(b){void 0===
b&&(b=null);null==b&&(b=new n);this.kb.Aj(b,this.rn);return b};z.prototype.Bi=function(){this.Wi=new f;this.kb=this.Ha=this.Ra=this.Tf=null;this.Lq=this.Eq=this.rn=0};z.prototype.Cd=function(b,a,c){this.Tf=c.Zg;this.Eq=c.Cg;this.Lq=c.Pg;this.Ra=b;this.Ha=null;this.Tt=c.filter.vc();this.Uy=c.vy;this.kb=c.shape.vc();this.rn=c.wh};z.prototype.Fc=function(){this.kb=null};z.prototype.Bj=function(b,a){this.kb.ci(this.Wi,a);this.un=b.Bj(this.Wi,this)};z.prototype.bs=function(b,a,c){if(this.un){var d=new f,
l=new f;this.kb.ci(d,a);this.kb.ci(l,c);this.Wi.bi(d,l);a=m.ub(c.position,a.position);b.Go(this.un,this.Wi,a)}};F.Ci=function(){this.filter=new L};F.prototype.Ci=function(){this.Zg=this.shape=null;this.Cg=.2;this.wh=this.Pg=0;this.filter.wk=1;this.filter.al=65535;this.filter.Eh=0;this.vy=!1};u.Di=function(){};u.prototype.Di=function(){this.lf=new C;this.Yi=new C;this.Se=new C};u.prototype.Zb=function(b,a,c,d,f,l){void 0===b&&(b=0);void 0===a&&(a=0);void 0===c&&(c=0);var g=0;this.Ly=a;this.Vy=c;this.de=
this.te=this.Qc=0;this.Gg=d;this.Xy=f;this.Kh=l;for(g=this.lf.length;g<b;g++)this.lf[g]=null;for(g=this.Yi.length;g<a;g++)this.Yi[g]=null;for(g=this.Se.length;g<c;g++)this.Se[g]=null};u.prototype.jo=function(){this.de=this.te=this.Qc=0};u.prototype.ih=function(b,a,c){for(var f=0,g=0,l,f=0;f<this.Qc;++f)g=this.lf[f],g.Pa()==r.Xc&&(g.h.x+=b.ra*(a.x+g.D*g.Jg.x),g.h.y+=b.ra*(a.y+g.D*g.Jg.y),g.u+=b.ra*g.M*g.dj,g.h.Wc(m.Oa(1-b.ra*g.Wy,0,1)),g.u*=m.Oa(1-b.ra*g.Jy,0,1));this.Kh.Zb(b,this.Yi,this.te,this.Gg);
a=this.Kh;a.Xd(b);for(f=0;f<this.de;++f)l=this.Se[f],l.Xd(b);for(f=0;f<b.xj;++f){for(g=0;g<this.de;++g)l=this.Se[g],l.Gd(b);a.Gd()}for(f=0;f<this.de;++f)l=this.Se[f],l.to();a.to();for(f=0;f<this.Qc;++f)if(g=this.lf[f],g.Pa()!=r.Ld){var n=b.ra*g.h.x,k=b.ra*g.h.y;n*n+k*k>d.Ts&&(g.h.fd(),g.h.x=g.h.x*d.Ki*b.se,g.h.y=g.h.y*d.Ki*b.se);n=b.ra*g.u;n*n>d.Ss&&(g.u=0>g.u?-d.Ji*b.se:d.Ji*b.se);g.a.oc.A(g.a.g);g.a.oe=g.a.j;g.a.g.x+=b.ra*g.h.x;g.a.g.y+=b.ra*g.h.y;g.a.j+=b.ra*g.u;g.vb()}for(f=0;f<b.hj;++f){n=a.Fd(d.Pp);
k=!0;for(g=0;g<this.de;++g)l=this.Se[g],l=l.Fd(d.Pp),k=k&&l;if(n&&k)break}this.Ur(a.mf);if(c){c=Number.MAX_VALUE;a=d.Rs*d.Rs;n=d.Qs*d.Qs;for(f=0;f<this.Qc;++f)g=this.lf[f],g.Pa()!=r.Ld&&(0==(g.C&r.Vm)&&(c=g.Rh=0),0==(g.C&r.Vm)||g.u*g.u>n||m.wc(g.h,g.h)>a?c=g.Rh=0:(g.Rh+=b.ra,c=m.gh(c,g.Rh)));if(c>=d.jx)for(f=0;f<this.Qc;++f)g=this.lf[f],g.me(!1)}};u.prototype.No=function(b){var a=0,c=0;this.Kh.Zb(b,this.Yi,this.te,this.Gg);for(var f=this.Kh,a=0;a<this.de;++a)this.Se[a].Xd(b);for(a=0;a<b.xj;++a)for(f.Gd(),
c=0;c<this.de;++c)this.Se[c].Gd(b);for(a=0;a<this.Qc;++a)if(c=this.lf[a],c.Pa()!=r.Ld){var g=b.ra*c.h.x,l=b.ra*c.h.y;g*g+l*l>d.Ts&&(c.h.fd(),c.h.x=c.h.x*d.Ki*b.se,c.h.y=c.h.y*d.Ki*b.se);g=b.ra*c.u;g*g>d.Ss&&(c.u=0>c.u?-d.Ji*b.se:d.Ji*b.se);c.a.oc.A(c.a.g);c.a.oe=c.a.j;c.a.g.x+=b.ra*c.h.x;c.a.g.y+=b.ra*c.h.y;c.a.j+=b.ra*c.u;c.vb()}for(a=0;a<b.hj;++a){g=f.Fd(.75);l=!0;for(c=0;c<this.de;++c)var n=this.Se[c].Fd(d.Pp),l=l&&n;if(g&&l)break}this.Ur(f.mf)};u.prototype.Ur=function(b){if(null!=this.Xy)for(var a=
0;a<this.te;++a)for(var c=b[a],d=0;d<c.Sd;++d)u.Cu.sz[d]=c.I[d].Wb,u.Cu.IA[d]=c.I[d].Bf};u.prototype.co=function(b){b.TD=this.Qc;this.lf[this.Qc++]=b};u.prototype.ur=function(b){this.Yi[this.te++]=b};u.prototype.vr=function(b){this.Se[this.de++]=b};e.Ab.push(function(){e.f.Di.Cu=new t});N.Em=function(){};N.prototype.Set=function(b){this.ra=b.ra;this.se=b.se;this.hj=b.hj;this.xj=b.xj;this.Ae=b.Ae};J.qd=function(){this.oA=new C;this.Qe=new B;this.Kh=new O;this.Wt=new u};J.prototype.qd=function(b,a){this.Lh=
this.$i=this.jb=this.Ob=null;this.Cq=this.de=this.te=this.Qc=0;J.cz=!0;J.My=!0;this.Iy=a;this.Ut=b;this.Vt=0;this.Qe.ec=this;this.Sy=this.Br(new x)};J.prototype.Br=function(b){if(1==this.Co())return null;b=new r(b,this);b.rf=null;if(b.Ha=this.Ob)this.Ob.rf=b;this.Ob=b;++this.Qc;return b};J.prototype.jg=function(b,a,c){void 0===b&&(b=0);void 0===a&&(a=0);void 0===c&&(c=0);this.C&J.eq&&(this.Qe.Kl(),this.C&=~J.eq);this.C|=J.cq;var d=J.sA;d.ra=b;d.xj=a;d.hj=c;d.se=0<b?1/b:0;d.Bb=this.Vt*b;d.Ae=J.cz;
this.Qe.Zu();0<d.ra&&this.ih(d);J.My&&0<d.ra&&this.No(d);0<d.ra&&(this.Vt=d.se);this.C&=~J.cq};J.prototype.Co=function(){return 0<(this.C&J.cq)};J.prototype.ih=function(b){for(var a,c=this.Lh;c;c=c.Ha)c.jg(b);c=this.Wt;c.Zb(this.Qc,this.te,this.de,null,this.Qe.St,this.Kh);for(a=this.Ob;a;a=a.Ha)a.C&=~r.Ib;for(var d=this.jb;d;d=d.Ha)d.C&=~E.Ib;for(d=this.$i;d;d=d.Ha)d.Mh=!1;parseInt(this.Qc);for(var d=this.oA,f=this.Ob;f;f=f.Ha)if(!(f.C&r.Ib)&&0!=f.ic()&&0!=f.eh()&&f.Pa()!=r.Ld){c.jo();var g=0;d[g++]=
f;for(f.C|=r.Ib;0<g;)if(a=d[--g],c.co(a),0==a.ic()&&a.me(!0),a.Pa()!=r.Ld){for(var l,n=a.jb;n;n=n.next)n.Tb.C&E.Ib||1==n.Tb.fh()||0==n.Tb.Pl()||0==n.Tb.Rl()||(c.ur(n.Tb),n.Tb.C|=E.Ib,l=n.Wf,l.C&r.Ib||(d[g++]=l,l.C|=r.Ib));for(a=a.$i;a;a=a.next)1!=a.Vi.Mh&&(l=a.Wf,0!=l.eh()&&(c.vr(a.Vi),a.Vi.Mh=!0,l.C&r.Ib||(d[g++]=l,l.C|=r.Ib)))}c.ih(b,this.Ut,this.Iy);for(g=0;g<c.Qc;++g)a=c.lf[g],a.Pa()==r.Ld&&(a.C&=~r.Ib)}for(g=0;g<d.length&&d[g];++g)d[g]=null;for(a=this.Ob;a;a=a.Ha)0==a.ic()||0==a.eh()||a.Pa()!=
r.Ld&&a.cs();this.Qe.Kl()};J.prototype.No=function(b){var a,c,f,g=this.Wt;g.Zb(this.Qc,d.hx,d.ix,null,this.Qe.St,this.Kh);var l=J.kA;for(a=this.Ob;a;a=a.Ha)a.C&=~r.Ib,a.a.hc=0;for(f=this.jb;f;f=f.Ha)f.C&=~(E.Pi|E.Ib);for(f=this.$i;f;f=f.Ha)f.Mh=!1;for(;;){var n=null,k=1;for(f=this.jb;f;f=f.Ha)if(1!=f.fh()&&0!=f.Pl()&&0!=f.pv()){if(f.C&E.Pi)a=f.bz;else{a=f.rb;c=f.sb;a=a.Ra;c=c.Ra;if(!(a.Pa()==r.Xc&&0!=a.ic()||c.Pa()==r.Xc&&0!=c.ic()))continue;var p=a.a.hc;a.a.hc<c.a.hc?(p=c.a.hc,a.a.fg(p)):c.a.hc<
a.a.hc&&(p=a.a.hc,c.a.fg(p));a=f.ev(a.a,c.a);d.lb(0<=a&&1>=a);0<a&&1>a&&(a=(1-a)*p+a,1<a&&(a=1));f.bz=a;f.C|=E.Pi}Number.MIN_VALUE<a&&a<k&&(n=f,k=a)}if(null==n||1-100*Number.MIN_VALUE<k)break;a=n.rb;c=n.sb;a=a.Ra;c=c.Ra;J.zu.Set(a.a);J.Au.Set(c.a);a.fg(k);c.fg(k);n.fs();n.C&=~E.Pi;if(1==n.fh()||0==n.Pl())a.a.Set(J.zu),c.a.Set(J.Au),a.vb(),c.vb();else if(0!=n.Rl()){a.Pa()!=r.Xc&&(a=c);g.jo();n=f=0;l[f+n++]=a;for(a.C|=r.Ib;0<n;)if(a=l[f++],--n,g.co(a),0==a.ic()&&a.me(!0),a.Pa()==r.Xc){for(c=a.jb;c&&
g.te!=g.Ly;c=c.next)c.Tb.C&E.Ib||1==c.Tb.fh()||0==c.Tb.Pl()||0==c.Tb.Rl()||(g.ur(c.Tb),c.Tb.C|=E.Ib,p=c.Wf,p.C&r.Ib||(p.Pa()!=r.Ld&&(p.fg(k),p.me(!0)),l[f+n]=p,++n,p.C|=r.Ib));for(a=a.$i;a;a=a.next)g.de!=g.Vy&&1!=a.Vi.Mh&&(p=a.Wf,0!=p.eh()&&(g.vr(a.Vi),a.Vi.Mh=!0,p.C&r.Ib||(p.Pa()!=r.Ld&&(p.fg(k),p.me(!0)),l[f+n]=p,++n,p.C|=r.Ib)))}f=J.rA;f.Ae=!1;f.ra=(1-k)*b.ra;f.se=1/f.ra;f.Bb=0;f.xj=b.xj;f.hj=b.hj;g.No(f);for(k=k=0;k<g.Qc;++k)if(a=g.lf[k],a.C&=~r.Ib,0!=a.ic()&&a.Pa()==r.Xc)for(a.cs(),c=a.jb;c;c=
c.next)c.Tb.C&=~E.Pi;for(k=0;k<g.te;++k)f=g.Yi[k],f.C&=~(E.Pi|E.Ib);for(k=0;k<g.de;++k)f=g.Se[k],f.Mh=!1;this.Qe.Kl()}}};e.Ab.push(function(){e.f.qd.sA=new N;e.f.qd.lE=new k;e.f.qd.zu=new a;e.f.qd.Au=new a;e.f.qd.rA=new N;e.f.qd.kA=new C;e.f.qd.jE=new c(.5,.8,.8);e.f.qd.eq=1;e.f.qd.cq=2})})();(function(){var m=e.l.qa.rg,a=e.l.qa.If,k=e.l.qa.bb,g=e.f.R.qp,c=e.f.R.xa,d=e.f.R.Vj,f=e.f.R.tp,b=e.f.R.up,l=e.f.R.yi,n=e.f.R.wp,r=e.f.R.xp,x=e.f.R.sg,p=e.f.R.Cp,t=e.f.R.kk,H=e.f.R.Ip,B=e.f.R.Jp,K=e.f.R.Kp,D=
e.f.R.qh,L=e.f.Lc,z=e.f.Em,F=e.J.Va,u=e.J.Math.Hf,N=e.J.Math.$d,J=e.J.Math.pe,E=e.l.mc,G=e.l.zi,O=e.l.Gf,P=e.l.pd,v=e.l.Dm,y=e.l.rh;e.Qa(g,e.f.R.xa);g.prototype.V=e.f.R.xa.prototype;g.qp=function(){e.f.R.xa.xa.apply(this,arguments)};g.Cd=function(){return new g};g.Fc=function(){};g.prototype.Ic=function(b,a){this.V.Ic.call(this,b,a)};g.prototype.De=function(){E.$u(this.Pd,this.rb.kb instanceof m?this.rb.kb:null,this.rb.Ra.B,this.sb.kb instanceof m?this.sb.kb:null,this.sb.Ra.B)};c.xa=function(){this.zc=
new b;this.Ac=new b;this.Pd=new O;this.tn=new O};c.prototype.mv=function(b){var a=this.sb.Ra,c=this.rb.kb,d=this.sb.kb;b.Zb(this.Pd,this.rb.Ra.Vc(),c.va,a.Vc(),d.va)};c.prototype.Rl=function(){return(this.C&c.Qi)==c.Qi};c.prototype.pv=function(){return(this.C&c.Fk)==c.Fk};c.prototype.fh=function(){return(this.C&c.$m)==c.$m};c.prototype.Pl=function(){return(this.C&c.Ym)==c.Ym};c.prototype.xa=function(){};c.prototype.Ic=function(b,a){void 0===b&&(b=null);void 0===a&&(a=null);this.C=c.Ym;if(b&&a){if(b.fh()||
a.fh())this.C|=c.$m;var d=b.Ra,f=a.Ra;if(d.Pa()!=L.Xc||d.Ol()||f.Pa()!=L.Xc||f.Ol())this.C|=c.Fk;this.rb=b;this.sb=a;this.Pd.Cb=0;this.Ha=this.rf=null;this.zc.Tb=null;this.zc.za=null;this.zc.next=null;this.zc.Wf=null;this.Ac.Tb=null;this.Ac.za=null;this.Ac.next=null;this.Ac.Wf=null}else this.sb=this.rb=null};c.prototype.fs=function(){var b=this.tn;this.tn=this.Pd;this.Pd=b;this.C|=c.Ym;var a=!1,b=(this.C&c.Qi)==c.Qi,d=this.rb.Ra,f=this.sb.Ra,g=this.rb.Wi.kg(this.sb.Wi);if(this.C&c.$m)g&&(a=this.rb.kb,
g=this.sb.kb,d=d.Vc(),f=f.Vc(),a=k.kg(a,d,g,f)),this.Pd.Cb=0;else{this.C=d.Pa()!=L.Xc||d.Ol()||f.Pa()!=L.Xc||f.Ol()?this.C|c.Fk:this.C&~c.Fk;if(g)for(this.De(),a=0<this.Pd.Cb,g=0;g<this.Pd.Cb;++g){var l=this.Pd.ua[g];l.Nh=0;l.Sh=0;for(var v=l.Rf,n=0;n<this.tn.Cb;++n){var r=this.tn.ua[n];if(r.Rf.key==v.key){l.Nh=r.Nh;l.Sh=r.Sh;break}}}else this.Pd.Cb=0;a!=b&&(d.me(!0),f.me(!0))}this.C=a?this.C|c.Qi:this.C&~c.Qi};c.prototype.De=function(){};c.prototype.ev=function(b,a){c.nj.yf.Set(this.rb.kb);c.nj.zf.Set(this.sb.kb);
c.nj.Eu=b;c.nj.Fu=a;c.nj.UA=F.Ka;return P.Tv(c.nj)};e.Ab.push(function(){e.f.R.xa.$m=1;e.f.R.xa.Fk=2;e.f.R.xa.Ib=4;e.f.R.xa.Pi=8;e.f.R.xa.Qi=16;e.f.R.xa.Ym=32;e.f.R.xa.qt=64;e.f.R.xa.nj=new v});d.Vj=function(){this.on=new J;this.kf=new J;this.je=new J;this.gj=new u;this.jc=new u};d.prototype.Vj=function(){this.I=new C(F.Kd);for(var b=0;b<F.Kd;b++)this.I[b]=new f};f.tp=function(){this.kf=new J;this.Da=new J;this.Ea=new J};b.up=function(){};l.yi=function(){};l.prototype.yi=function(b){this.Gg=b;this.ov()};
l.prototype.zj=function(b,a,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this.sf[c][d].it=b;this.sf[c][d].mt=a;this.sf[c][d].ru=!0;c!=d&&(this.sf[d][c].it=b,this.sf[d][c].mt=a,this.sf[d][c].ru=!1)};l.prototype.ov=function(){this.sf=new C(k.an);for(var b=0;b<k.an;b++){this.sf[b]=new C(k.an);for(var a=0;a<k.an;a++)this.sf[b][a]=new n}this.zj(g.Cd,g.Fc,k.yh,k.yh);this.zj(H.Cd,H.Fc,k.Bg,k.yh);this.zj(K.Cd,K.Fc,k.Bg,k.Bg);this.zj(p.Cd,p.Fc,k.Xm,k.yh);this.zj(B.Cd,B.Fc,k.Bg,k.Xm)};l.prototype.Cd=function(b,
a){var c=parseInt(b.Pa()),d=parseInt(a.Pa()),c=this.sf[c][d];if(c.Bn)return d=c.Bn,c.Bn=d.Ha,c.Kz--,d.Ic(b,a),d;d=c.it;return null!=d?(c.ru?(d=d(this.Gg),d.Ic(b,a)):(d=d(this.Gg),d.Ic(a,b)),d):null};l.prototype.Fc=function(b){0<b.Pd.Cb&&(b.rb.Ra.me(!0),b.sb.Ra.me(!0));var a=parseInt(b.rb.Pa()),a=this.sf[a][parseInt(b.sb.Pa())];a.Kz++;b.Ha=a.Bn;a.Bn=b;a=a.mt;a(b,this.Gg)};n.wp=function(){};r.xp=function(){this.position=new J;this.je=new J;this.id=new G};x.sg=function(){this.az=new z;this.mf=new C};
x.prototype.sg=function(){};x.prototype.Zb=function(b,a,c,f){void 0===c&&(c=0);var g;this.az.Set(b);this.Gg=f;for(this.Qk=c;this.mf.length<this.Qk;)this.mf[this.mf.length]=new d;for(b=0;b<c;++b){g=a[b];f=g.rb;var l=g.sb,v=f.kb.va,n=l.kb.va,k=f.Ra,r=l.Ra,y=g.Pd,p=F.ax(f.Eq,l.Eq),t=F.bx(f.Lq,l.Lq),e=k.h.x,m=k.h.y,H=r.h.x,B=r.h.y,D=k.u,z=r.u;F.lb(0<y.Cb);x.Xh.Zb(y,k.B,v,r.B,n);l=x.Xh.oa.x;g=x.Xh.oa.y;f=this.mf[b];f.Fa=k;f.La=r;f.ez=y;f.je.x=l;f.je.y=g;f.Sd=y.Cb;f.Cg=p;f.Pg=t;f.on.x=y.sc.x;f.on.y=y.sc.y;
f.kf.x=y.Aa.x;f.kf.y=y.Aa.y;f.mb=v+n;f.type=y.Ba;for(v=0;v<f.Sd;++v){p=y.ua[v];n=f.I[v];n.Wb=p.Nh;n.Bf=p.Sh;n.kf.A(p.Aa);var p=n.Da.x=x.Xh.ua[v].x-k.a.g.x,t=n.Da.y=x.Xh.ua[v].y-k.a.g.y,E=n.Ea.x=x.Xh.ua[v].x-r.a.g.x,u=n.Ea.y=x.Xh.ua[v].y-r.a.g.y,G=p*g-t*l,q=E*g-u*l,G=G*G,q=q*q;n.gj=1/(k.D+r.D+k.M*G+r.M*q);var K=k.H*k.D+r.H*r.D,K=K+(k.H*k.M*G+r.H*r.M*q);n.Ux=1/K;q=g;K=-l;G=p*K-t*q;q=E*K-u*q;G*=G;q*=q;n.JA=1/(k.D+r.D+k.M*G+r.M*q);n.Cl=0;p=f.je.x*(H+-z*u-e- -D*t)+f.je.y*(B+z*E-m-D*p);p<-F.nx&&(n.Cl+=
-f.Pg*p)}2==f.Sd&&(B=f.I[0],H=f.I[1],y=k.D,k=k.M,e=r.D,r=r.M,m=B.Da.x*g-B.Da.y*l,B=B.Ea.x*g-B.Ea.y*l,D=H.Da.x*g-H.Da.y*l,H=H.Ea.x*g-H.Ea.y*l,l=y+e+k*m*m+r*B*B,g=y+e+k*D*D+r*H*H,r=y+e+k*m*D+r*B*H,l*l<100*(l*g-r*r)?(f.jc.b.Set(l,r),f.jc.c.Set(r,g),f.jc.uo(f.gj)):f.Sd=1)}};x.prototype.Xd=function(b){for(var a=0;a<this.Qk;++a){var c=this.mf[a],d=c.Fa,f=c.La,g=d.D,l=d.M,v=f.D,n=f.M,k=c.je.x,r=c.je.y,y=r,p=-k,x=0,t=0;if(b.Ae)for(t=c.Sd,x=0;x<t;++x){var e=c.I[x];e.Wb*=b.Bb;e.Bf*=b.Bb;var m=e.Wb*k+e.Bf*y,
H=e.Wb*r+e.Bf*p;d.u-=l*(e.Da.x*H-e.Da.y*m);d.h.x-=g*m;d.h.y-=g*H;f.u+=n*(e.Ea.x*H-e.Ea.y*m);f.h.x+=v*m;f.h.y+=v*H}else for(t=c.Sd,x=0;x<t;++x)d=c.I[x],d.Wb=0,d.Bf=0}};x.prototype.Gd=function(){for(var b=0,a,c=0,d=0,f=0,g=0,l=0,v=0,n=0,k,r=0;r<this.Qk;++r){var f=this.mf[r],y=f.Fa,p=f.La,x=y.u,t=p.u,e=y.h,m=p.h,H=y.D,B=y.M,D=p.D,z=p.M,v=f.je.x,E=n=f.je.y;k=-v;l=f.Cg;for(b=0;b<f.Sd;b++)a=f.I[b],c=m.x-t*a.Ea.y-e.x+x*a.Da.y,d=m.y+t*a.Ea.x-e.y-x*a.Da.x,c=c*E+d*k,c=a.JA*-c,d=l*a.Wb,d=N.Oa(a.Bf+c,-d,d),c=
d-a.Bf,g=c*E,c*=k,e.x-=H*g,e.y-=H*c,x-=B*(a.Da.x*c-a.Da.y*g),m.x+=D*g,m.y+=D*c,t+=z*(a.Ea.x*c-a.Ea.y*g),a.Bf=d;parseInt(f.Sd);if(1==f.Sd)a=f.I[0],c=m.x+-t*a.Ea.y-e.x- -x*a.Da.y,d=m.y+t*a.Ea.x-e.y-x*a.Da.x,f=c*v+d*n,c=-a.gj*(f-a.Cl),d=a.Wb+c,d=0<d?d:0,c=d-a.Wb,g=c*v,c*=n,e.x-=H*g,e.y-=H*c,x-=B*(a.Da.x*c-a.Da.y*g),m.x+=D*g,m.y+=D*c,t+=z*(a.Ea.x*c-a.Ea.y*g),a.Wb=d;else{a=f.I[0];var b=f.I[1],c=a.Wb,l=b.Wb,G=(m.x-t*a.Ea.y-e.x+x*a.Da.y)*v+(m.y+t*a.Ea.x-e.y-x*a.Da.x)*n,u=(m.x-t*b.Ea.y-e.x+x*b.Da.y)*v+(m.y+
t*b.Ea.x-e.y-x*b.Da.x)*n,d=G-a.Cl,g=u-b.Cl;k=f.jc;d-=k.b.x*c+k.c.x*l;for(g-=k.b.y*c+k.c.y*l;;){k=f.gj;E=-(k.b.x*d+k.c.x*g);k=-(k.b.y*d+k.c.y*g);if(0<=E&&0<=k){c=E-c;l=k-l;f=c*v;c*=n;v=l*v;n=l*n;e.x-=H*(f+v);e.y-=H*(c+n);x-=B*(a.Da.x*c-a.Da.y*f+b.Da.x*n-b.Da.y*v);m.x+=D*(f+v);m.y+=D*(c+n);t+=z*(a.Ea.x*c-a.Ea.y*f+b.Ea.x*n-b.Ea.y*v);a.Wb=E;b.Wb=k;break}E=-a.gj*d;k=0;u=f.jc.b.y*E+g;if(0<=E&&0<=u){c=E-c;l=k-l;f=c*v;c*=n;v=l*v;n=l*n;e.x-=H*(f+v);e.y-=H*(c+n);x-=B*(a.Da.x*c-a.Da.y*f+b.Da.x*n-b.Da.y*v);m.x+=
D*(f+v);m.y+=D*(c+n);t+=z*(a.Ea.x*c-a.Ea.y*f+b.Ea.x*n-b.Ea.y*v);a.Wb=E;b.Wb=k;break}E=0;k=-b.gj*g;G=f.jc.c.x*k+d;if(0<=k&&0<=G){c=E-c;l=k-l;f=c*v;c*=n;v=l*v;n=l*n;e.x-=H*(f+v);e.y-=H*(c+n);x-=B*(a.Da.x*c-a.Da.y*f+b.Da.x*n-b.Da.y*v);m.x+=D*(f+v);m.y+=D*(c+n);t+=z*(a.Ea.x*c-a.Ea.y*f+b.Ea.x*n-b.Ea.y*v);a.Wb=E;b.Wb=k;break}k=E=0;G=d;u=g;if(0<=G&&0<=u){c=E-c;l=k-l;f=c*v;c*=n;v=l*v;n=l*n;e.x-=H*(f+v);e.y-=H*(c+n);x-=B*(a.Da.x*c-a.Da.y*f+b.Da.x*n-b.Da.y*v);m.x+=D*(f+v);m.y+=D*(c+n);t+=z*(a.Ea.x*c-a.Ea.y*
f+b.Ea.x*n-b.Ea.y*v);a.Wb=E;b.Wb=k;break}break}}y.u=x;p.u=t}};x.prototype.to=function(){for(var b=0;b<this.Qk;++b)for(var a=this.mf[b],c=a.ez,d=0;d<a.Sd;++d){var f=c.ua[d],g=a.I[d];f.Nh=g.Wb;f.Sh=g.Bf}};x.prototype.Fd=function(b){void 0===b&&(b=0);for(var a=0,c=0;c<this.Qk;c++){var d=this.mf[c],f=d.Fa,g=d.La,l=f.H*f.D,v=f.H*f.M,n=g.H*g.D,k=g.H*g.M;x.Pn.Zb(d);for(var r=x.Pn.oa,y=0;y<d.Sd;y++){var p=d.I[y],e=x.Pn.ua[y],t=x.Pn.wn[y],m=e.x-f.a.g.x,H=e.y-f.a.g.y,B=e.x-g.a.g.x,e=e.y-g.a.g.y,a=a<t?a:t,t=
N.Oa(b*(t+F.Ka),-F.Jd,0),t=-p.Ux*t,p=t*r.x,t=t*r.y;f.a.g.x-=l*p;f.a.g.y-=l*t;f.a.j-=v*(m*t-H*p);f.vb();g.a.g.x+=n*p;g.a.g.y+=n*t;g.a.j+=k*(B*t-e*p);g.vb()}}return a>-1.5*F.Ka};e.Ab.push(function(){e.f.R.sg.Xh=new y;e.f.R.sg.Pn=new D});e.Qa(p,e.f.R.xa);p.prototype.V=e.f.R.xa.prototype;p.Cp=function(){e.f.R.xa.xa.apply(this,arguments)};p.Cd=function(){return new p};p.Fc=function(){};p.prototype.Ic=function(b,a){this.V.Ic.call(this,b,a)};p.prototype.De=function(){};e.Qa(t,e.f.R.xa);t.prototype.V=e.f.R.xa.prototype;
t.kk=function(){e.f.R.xa.xa.apply(this,arguments)};t.prototype.kk=function(){this.V.xa.call(this)};t.prototype.De=function(){};e.Qa(H,e.f.R.xa);H.prototype.V=e.f.R.xa.prototype;H.Ip=function(){e.f.R.xa.xa.apply(this,arguments)};H.Cd=function(){return new H};H.Fc=function(){};H.prototype.Ic=function(b,a){this.V.Ic.call(this,b,a);F.lb(b.Pa()==k.Bg);F.lb(a.Pa()==k.yh)};H.prototype.De=function(){E.av(this.Pd,this.rb.kb instanceof a?this.rb.kb:null,this.rb.Ra.B,this.sb.kb instanceof m?this.sb.kb:null,
this.sb.Ra.B)};e.Qa(B,e.f.R.xa);B.prototype.V=e.f.R.xa.prototype;B.Jp=function(){e.f.R.xa.xa.apply(this,arguments)};B.Cd=function(){return new B};B.Fc=function(){};B.prototype.Ic=function(b,a){this.V.Ic.call(this,b,a);F.lb(b.Pa()==k.Bg);F.lb(a.Pa()==k.Xm)};B.prototype.De=function(){};e.Qa(K,e.f.R.xa);K.prototype.V=e.f.R.xa.prototype;K.Kp=function(){e.f.R.xa.xa.apply(this,arguments)};K.Cd=function(){return new K};K.Fc=function(){};K.prototype.Ic=function(b,a){this.V.Ic.call(this,b,a)};K.prototype.De=
function(){E.bv(this.Pd,this.rb.kb instanceof a?this.rb.kb:null,this.rb.Ra.B,this.sb.kb instanceof a?this.sb.kb:null,this.sb.Ra.B)};D.qh=function(){};D.prototype.qh=function(){this.oa=new J;this.wn=new M(F.Kd);this.ua=new C(F.Kd);for(var b=0;b<F.Kd;b++)this.ua[b]=new J};D.prototype.Zb=function(b){F.lb(0<b.Sd);var a=0,c=0,d=0,f,g=0,l=0;switch(b.type){case O.bq:f=b.Fa.B.s;d=b.kf;a=b.Fa.B.position.x+(f.b.x*d.x+f.c.x*d.y);c=b.Fa.B.position.y+(f.b.y*d.x+f.c.y*d.y);f=b.La.B.s;d=b.I[0].kf;g=b.La.B.position.x+
(f.b.x*d.x+f.c.x*d.y);f=b.La.B.position.y+(f.b.y*d.x+f.c.y*d.y);var d=g-a,l=f-c,v=d*d+l*l;v>Number.MIN_VALUE*Number.MIN_VALUE?(v=Math.sqrt(v),this.oa.x=d/v,this.oa.y=l/v):(this.oa.x=1,this.oa.y=0);this.ua[0].x=.5*(a+g);this.ua[0].y=.5*(c+f);this.wn[0]=d*this.oa.x+l*this.oa.y-b.mb;break;case O.Me:f=b.Fa.B.s;d=b.on;this.oa.x=f.b.x*d.x+f.c.x*d.y;this.oa.y=f.b.y*d.x+f.c.y*d.y;f=b.Fa.B.s;d=b.kf;g=b.Fa.B.position.x+(f.b.x*d.x+f.c.x*d.y);l=b.Fa.B.position.y+(f.b.y*d.x+f.c.y*d.y);f=b.La.B.s;for(a=0;a<b.Sd;++a)d=
b.I[a].kf,c=b.La.B.position.x+(f.b.x*d.x+f.c.x*d.y),d=b.La.B.position.y+(f.b.y*d.x+f.c.y*d.y),this.wn[a]=(c-g)*this.oa.x+(d-l)*this.oa.y-b.mb,this.ua[a].x=c,this.ua[a].y=d;break;case O.zh:f=b.La.B.s;d=b.on;this.oa.x=f.b.x*d.x+f.c.x*d.y;this.oa.y=f.b.y*d.x+f.c.y*d.y;f=b.La.B.s;d=b.kf;g=b.La.B.position.x+(f.b.x*d.x+f.c.x*d.y);l=b.La.B.position.y+(f.b.y*d.x+f.c.y*d.y);f=b.Fa.B.s;for(a=0;a<b.Sd;++a)d=b.I[a].kf,c=b.Fa.B.position.x+(f.b.x*d.x+f.c.x*d.y),d=b.Fa.B.position.y+(f.b.y*d.x+f.c.y*d.y),this.wn[a]=
(c-g)*this.oa.x+(d-l)*this.oa.y-b.mb,this.ua[a].Set(c,d);this.oa.x*=-1;this.oa.y*=-1}};e.Ab.push(function(){e.f.R.qh.bD=new J;e.f.R.qh.cD=new J})})();(function(){var m=e.J.Math.Hf,a=e.J.Math.$d,k=e.J.Math.pe,g=e.f.$a.pp,c=e.f.$a.rp,d=e.f.$a.sp,f=e.f.$a.Gb,b=e.f.$a.yp,l=e.f.$a.Ep,n=e.f.$a.Op;e.Qa(g,e.f.$a.Gb);g.prototype.V=e.f.$a.Gb.prototype;g.pp=function(){e.f.$a.Gb.Gb.apply(this,arguments);this.je=new k(0,-1);this.wh=this.offset=0;this.dd=new k(0,0);this.Dy=2;this.Qw=1;this.fB=!0;this.Dg=null};
g.prototype.jg=function(){if(this.Ob){this.fB&&(this.Dg=this.ec.Ut.vc());for(var b=this.Ob;b;b=b.wd){var a=b.body;if(0!=a.ic()){for(var c=new k,d=new k,f=0,g=0,l=a.Zi;l;l=l.Ha){var n=new k,e=l.kb.Il(this.je,this.offset,a.Vc(),n),f=f+e;c.x+=e*n.x;c.y+=e*n.y;var m=0,m=1,g=g+e*m;d.x+=e*n.x*m;d.y+=e*n.y*m}c.x/=f;c.y/=f;d.x/=g;d.y/=g;f<Number.MIN_VALUE||(g=this.Dg.hg(),g.Wc(this.wh*f),a.dh(g,d),d=a.vo(c),d.as(this.dd),d.Wc(-this.Dy*f),a.dh(d,c),a.Vu(-a.ce/a.H*f*a.u*this.Qw))}}}};e.Qa(c,e.f.$a.Gb);c.prototype.V=
e.f.$a.Gb.prototype;c.rp=function(){e.f.$a.Gb.Gb.apply(this,arguments);this.sr=new k(0,0)};c.prototype.jg=function(b){b=new k(this.sr.x*b.ra,this.sr.y*b.ra);for(var a=this.Ob;a;a=a.wd){var c=a.body;c.ic()&&c.Mo(new k(c.h.x+b.x,c.h.y+b.y))}};e.Qa(d,e.f.$a.Gb);d.prototype.V=e.f.$a.Gb.prototype;d.sp=function(){e.f.$a.Gb.Gb.apply(this,arguments);this.gv=new k(0,0)};d.prototype.jg=function(){for(var b=this.Ob;b;b=b.wd){var a=b.body;a.ic()&&a.dh(this.gv,a.a.g)}};f.Gb=function(){};f.prototype.jg=function(){};
f.prototype.co=function(a){var c=new b;c.controller=this;c.body=a;c.wd=this.Ob;c.ol=null;this.Ob=c;c.wd&&(c.wd.ol=c);this.Qc++;c.Mg=a.Lh;c.pl=null;a.Lh=c;c.Mg&&(c.Mg.pl=c);a.Cq++};f.prototype.zv=function(b){for(var a=b.Lh;a&&a.controller!=this;)a=a.Mg;a.ol&&(a.ol.wd=a.wd);a.wd&&(a.wd.ol=a.ol);a.Mg&&(a.Mg.pl=a.pl);a.pl&&(a.pl.Mg=a.Mg);this.Ob==a&&(this.Ob=a.wd);b.Lh==a&&(b.Lh=a.Mg);b.Cq--;this.Qc--};f.prototype.jo=function(){for(;this.Ob;)this.zv(this.Ob.body)};b.yp=function(){};e.Qa(l,e.f.$a.Gb);
l.prototype.V=e.f.$a.Gb.prototype;l.Ep=function(){e.f.$a.Gb.Gb.apply(this,arguments);this.Gr=1;this.sy=!0};l.prototype.jg=function(){var b=null,a=null,c=null,d=0,f=null,g=null,l=null,n=0,e=0,m=0;if(this.sy)for(b=this.Ob;b;b=b.wd)for(a=b.body,c=a.a.g,d=a.H,f=this.Ob;f!=b;f=f.wd)g=f.body,l=g.a.g,n=l.x-c.x,e=l.y-c.y,m=n*n+e*e,m<Number.MIN_VALUE||(n=new k(n,e),n.Wc(this.Gr/m/Math.sqrt(m)*d*g.H),a.ic()&&a.dh(n,c),n.Wc(-1),g.ic()&&g.dh(n,l));else for(b=this.Ob;b;b=b.wd)for(a=b.body,c=a.a.g,d=a.H,f=this.Ob;f!=
b;f=f.wd)g=f.body,l=g.a.g,n=l.x-c.x,e=l.y-c.y,m=n*n+e*e,m<Number.MIN_VALUE||(n=new k(n,e),n.Wc(this.Gr/m*d*g.H),a.ic()&&a.dh(n,c),n.Wc(-1),g.ic()&&g.dh(n,l))};e.Qa(n,e.f.$a.Gb);n.prototype.V=e.f.$a.Gb.prototype;n.Op=function(){e.f.$a.Gb.Gb.apply(this,arguments);this.Qv=new m;this.Rq=0};n.prototype.jg=function(b){b=b.ra;if(!(b<=Number.MIN_VALUE)){b>this.Rq&&0<this.Rq&&(b=this.Rq);for(var c=this.Ob;c;c=c.wd){var d=c.body;if(d.ic()){var f=d.yo(a.kc(this.Qv,d.wo(d.h)));d.Mo(new k(d.h.x+f.x*b,d.h.y+f.y*
b))}}}}})();(function(){var m=e.J.Va,a=e.J.Math.Hf,k=e.J.Math.Ei,g=e.J.Math.$d,c=e.J.Math.pe,d=e.J.Math.Ii,f=e.f.w.Wj,b=e.f.w.Xj,l=e.f.w.ak,n=e.f.w.bk,r=e.f.w.ck,x=e.f.w.dk,p=e.f.w.Fp,t=e.f.w.S,H=e.f.w.ea,B=e.f.w.Gp,K=e.f.w.ek,D=e.f.w.fk,L=e.f.w.ik,z=e.f.w.jk,F=e.f.w.lk,u=e.f.w.mk,N=e.f.w.Fi,J=e.f.w.nk,E=e.f.w.Gi,G=e.f.w.qk,O=e.f.w.tk,P=e.f.w.uk;e.Qa(f,e.f.w.S);f.prototype.V=e.f.w.S.prototype;f.Wj=function(){e.f.w.S.S.apply(this,arguments);this.fa=new c;this.ga=new c;this.Vb=new c};f.prototype.Wj=
function(b){this.V.S.call(this,b);this.fa.A(b.Mb);this.ga.A(b.Nb);this.Fq=b.length;this.Sk=b.dn;this.Dq=b.Mm;this.Pt=this.Rc=this.i=0};f.prototype.Xd=function(b){var a,c=0,d=this.Wa,f=this.Ga;a=d.B.s;var g=this.fa.x-d.a.F.x,l=this.fa.y-d.a.F.y,c=a.b.x*g+a.c.x*l,l=a.b.y*g+a.c.y*l,g=c;a=f.B.s;var n=this.ga.x-f.a.F.x,k=this.ga.y-f.a.F.y,c=a.b.x*n+a.c.x*k,k=a.b.y*n+a.c.y*k,n=c;this.Vb.x=f.a.g.x+n-d.a.g.x-g;this.Vb.y=f.a.g.y+k-d.a.g.y-l;c=Math.sqrt(this.Vb.x*this.Vb.x+this.Vb.y*this.Vb.y);c>m.Ka?this.Vb.Wc(1/
c):this.Vb.ma();a=g*this.Vb.y-l*this.Vb.x;var r=n*this.Vb.y-k*this.Vb.x;a=d.D+d.M*a*a+f.D+f.M*r*r;this.H=0!=a?1/a:0;if(0<this.Sk){var c=c-this.Fq,r=2*Math.PI*this.Sk,p=this.H*r*r;this.Rc=b.ra*(2*this.H*this.Dq*r+b.ra*p);this.Rc=0!=this.Rc?1/this.Rc:0;this.Pt=c*b.ra*p*this.Rc;this.H=a+this.Rc;this.H=0!=this.H?1/this.H:0}b.Ae?(this.i*=b.Bb,b=this.i*this.Vb.x,a=this.i*this.Vb.y,d.h.x-=d.D*b,d.h.y-=d.D*a,d.u-=d.M*(g*a-l*b),f.h.x+=f.D*b,f.h.y+=f.D*a,f.u+=f.M*(n*a-k*b)):this.i=0};f.prototype.Gd=function(){var b,
a=this.Wa,c=this.Ga;b=a.B.s;var d=this.fa.x-a.a.F.x,f=this.fa.y-a.a.F.y,g=b.b.x*d+b.c.x*f,f=b.b.y*d+b.c.y*f,d=g;b=c.B.s;var l=this.ga.x-c.a.F.x,n=this.ga.y-c.a.F.y,g=b.b.x*l+b.c.x*n,n=b.b.y*l+b.c.y*n,l=g,g=-this.H*(this.Vb.x*(c.h.x+-c.u*n-(a.h.x+-a.u*f))+this.Vb.y*(c.h.y+c.u*l-(a.h.y+a.u*d))+this.Pt+this.Rc*this.i);this.i+=g;b=g*this.Vb.x;g*=this.Vb.y;a.h.x-=a.D*b;a.h.y-=a.D*g;a.u-=a.M*(d*g-f*b);c.h.x+=c.D*b;c.h.y+=c.D*g;c.u+=c.M*(l*g-n*b)};f.prototype.Fd=function(){var b;if(0<this.Sk)return!0;var a=
this.Wa,c=this.Ga;b=a.B.s;var d=this.fa.x-a.a.F.x,f=this.fa.y-a.a.F.y,l=b.b.x*d+b.c.x*f,f=b.b.y*d+b.c.y*f,d=l;b=c.B.s;var n=this.ga.x-c.a.F.x,k=this.ga.y-c.a.F.y,l=b.b.x*n+b.c.x*k,k=b.b.y*n+b.c.y*k,n=l,l=c.a.g.x+n-a.a.g.x-d,r=c.a.g.y+k-a.a.g.y-f;b=Math.sqrt(l*l+r*r);l/=b;r/=b;b-=this.Fq;b=g.Oa(b,-m.Jd,m.Jd);var p=-this.H*b;this.Vb.Set(l,r);l=p*this.Vb.x;r=p*this.Vb.y;a.a.g.x-=a.D*l;a.a.g.y-=a.D*r;a.a.j-=a.M*(d*r-f*l);c.a.g.x+=c.D*l;c.a.g.y+=c.D*r;c.a.j+=c.M*(n*r-k*l);a.vb();c.vb();return g.Yb(b)<
m.Ka};e.Qa(b,e.f.w.ea);b.prototype.V=e.f.w.ea.prototype;b.Xj=function(){e.f.w.ea.ea.apply(this,arguments);this.Mb=new c;this.Nb=new c};b.prototype.Xj=function(){this.V.ea.call(this);this.type=t.pt;this.length=1;this.Mm=this.dn=0};b.prototype.Zb=function(b,a,c,d){this.Fa=b;this.La=a;this.Mb.A(this.Fa.Dd(c));this.Nb.A(this.La.Dd(d));b=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(b*b+c*c);this.Mm=this.dn=0};e.Qa(l,e.f.w.S);l.prototype.V=e.f.w.S.prototype;l.ak=function(){e.f.w.S.S.apply(this,arguments);this.fe=
new c;this.ge=new c;this.Iq=new a;this.ee=new c};l.prototype.ak=function(b){this.V.S.call(this,b);this.fe.A(b.Mb);this.ge.A(b.Nb);this.Iq.ma();this.Ok=0;this.ee.ma();this.Nf=0;this.Jq=b.Pq;this.Zy=b.iz};l.prototype.Xd=function(b){var c,d=0,f=this.Wa,g=this.Ga;c=f.B.s;var l=this.fe.x-f.a.F.x,n=this.fe.y-f.a.F.y,d=c.b.x*l+c.c.x*n,n=c.b.y*l+c.c.y*n,l=d;c=g.B.s;var k=this.ge.x-g.a.F.x,r=this.ge.y-g.a.F.y,d=c.b.x*k+c.c.x*r,r=c.b.y*k+c.c.y*r,k=d;c=f.D;var d=g.D,p=f.M,e=g.M,t=new a;t.b.x=c+d;t.c.x=0;t.b.y=
0;t.c.y=c+d;t.b.x+=p*n*n;t.c.x+=-p*l*n;t.b.y+=-p*l*n;t.c.y+=p*l*l;t.b.x+=e*r*r;t.c.x+=-e*k*r;t.b.y+=-e*k*r;t.c.y+=e*k*k;t.uo(this.Iq);this.Ok=p+e;0<this.Ok&&(this.Ok=1/this.Ok);b.Ae?(this.ee.x*=b.Bb,this.ee.y*=b.Bb,this.Nf*=b.Bb,b=this.ee,f.h.x-=c*b.x,f.h.y-=c*b.y,f.u-=p*(l*b.y-n*b.x+this.Nf),g.h.x+=d*b.x,g.h.y+=d*b.y,g.u+=e*(k*b.y-r*b.x+this.Nf)):(this.ee.ma(),this.Nf=0)};l.prototype.Gd=function(b){var a,d=0,f=this.Wa,l=this.Ga,n=f.h,k=f.u,r=l.h,p=l.u,e=f.D,t=l.D,m=f.M,x=l.M;a=f.B.s;var H=this.fe.x-
f.a.F.x,B=this.fe.y-f.a.F.y,d=a.b.x*H+a.c.x*B,B=a.b.y*H+a.c.y*B,H=d;a=l.B.s;var D=this.ge.x-l.a.F.x,E=this.ge.y-l.a.F.y,d=a.b.x*D+a.c.x*E,E=a.b.y*D+a.c.y*E,D=d,d=-this.Ok*(p-k),z=this.Nf;a=b.ra*this.Zy;this.Nf=g.Oa(this.Nf+d,-a,a);d=this.Nf-z;k-=m*d;p+=x*d;a=g.kc(this.Iq,new c(-(r.x-p*E-n.x+k*B),-(r.y+p*D-n.y-k*H)));d=this.ee.vc();this.ee.$h(a);a=b.ra*this.Jq;this.ee.Sl()>a*a&&(this.ee.fd(),this.ee.Wc(a));a=g.ub(this.ee,d);n.x-=e*a.x;n.y-=e*a.y;k-=m*(H*a.y-B*a.x);r.x+=t*a.x;r.y+=t*a.y;p+=x*(D*a.y-
E*a.x);f.u=k;l.u=p};l.prototype.Fd=function(){return!0};e.Qa(n,e.f.w.ea);n.prototype.V=e.f.w.ea.prototype;n.bk=function(){e.f.w.ea.ea.apply(this,arguments);this.Mb=new c;this.Nb=new c};n.prototype.bk=function(){this.V.ea.call(this);this.type=t.st;this.iz=this.Pq=0};n.prototype.Zb=function(b,a,c){this.Fa=b;this.La=a;this.Mb.A(this.Fa.Dd(c));this.Nb.A(this.La.Dd(c))};e.Qa(r,e.f.w.S);r.prototype.V=e.f.w.S.prototype;r.ck=function(){e.f.w.S.S.apply(this,arguments);this.Pf=new c;this.Qf=new c;this.fa=new c;
this.ga=new c;this.qb=new p};r.prototype.ck=function(b){this.V.S.call(this,b);var a=parseInt(b.Fh.Ba),c=parseInt(b.Gh.Ba);this.cj=this.Qh=this.bj=this.Ph=null;var d=0,f=0;this.Qy=b.Fh.Wa;this.Wa=b.Fh.Ga;a==t.Zm?(this.Ph=b.Fh instanceof E?b.Fh:null,this.Pf.A(this.Ph.fa),this.fa.A(this.Ph.ga),d=this.Ph.Ml()):(this.bj=b.Fh instanceof F?b.Fh:null,this.Pf.A(this.bj.fa),this.fa.A(this.bj.ga),d=this.bj.Fj());this.Ry=b.Gh.Wa;this.Ga=b.Gh.Ga;c==t.Zm?(this.Qh=b.Gh instanceof E?b.Gh:null,this.Qf.A(this.Qh.fa),
this.ga.A(this.Qh.ga),f=this.Qh.Ml()):(this.cj=b.Gh instanceof F?b.Gh:null,this.Qf.A(this.cj.fa),this.ga.A(this.cj.ga),f=this.cj.Fj());this.zb=b.ratio;this.Xi=d+this.zb*f;this.i=0};r.prototype.Xd=function(b){var a=this.Qy,c=this.Ry,d=this.Wa,f=this.Ga,g=0,l=0,n=0,k=0,r=0,p=0;this.qb.ma();this.Ph?(this.qb.nh=-1,p+=d.M):(a=a.B.s,l=this.bj.vd,g=a.b.x*l.x+a.c.x*l.y,l=a.b.y*l.x+a.c.y*l.y,a=d.B.s,n=this.fa.x-d.a.F.x,k=this.fa.y-d.a.F.y,r=a.b.x*n+a.c.x*k,k=a.b.y*n+a.c.y*k,n=r*l-k*g,this.qb.Oe.Set(-g,-l),
this.qb.nh=-n,p+=d.D+d.M*n*n);this.Qh?(this.qb.oh=-this.zb,p+=this.zb*this.zb*f.M):(a=c.B.s,l=this.cj.vd,g=a.b.x*l.x+a.c.x*l.y,l=a.b.y*l.x+a.c.y*l.y,a=f.B.s,n=this.ga.x-f.a.F.x,k=this.ga.y-f.a.F.y,r=a.b.x*n+a.c.x*k,k=a.b.y*n+a.c.y*k,n=r*l-k*g,this.qb.Pe.Set(-this.zb*g,-this.zb*l),this.qb.oh=-this.zb*n,p+=this.zb*this.zb*(f.D+f.M*n*n));this.H=0<p?1/p:0;b.Ae?(d.h.x+=d.D*this.i*this.qb.Oe.x,d.h.y+=d.D*this.i*this.qb.Oe.y,d.u+=d.M*this.i*this.qb.nh,f.h.x+=f.D*this.i*this.qb.Pe.x,f.h.y+=f.D*this.i*this.qb.Pe.y,
f.u+=f.M*this.i*this.qb.oh):this.i=0};r.prototype.Gd=function(){var b=this.Wa,a=this.Ga,c=-this.H*this.qb.cv(b.h,b.u,a.h,a.u);this.i+=c;b.h.x+=b.D*c*this.qb.Oe.x;b.h.y+=b.D*c*this.qb.Oe.y;b.u+=b.M*c*this.qb.nh;a.h.x+=a.D*c*this.qb.Pe.x;a.h.y+=a.D*c*this.qb.Pe.y;a.u+=a.M*c*this.qb.oh};r.prototype.Fd=function(){var b=this.Wa,a=this.Ga,c=0,d=0,c=this.Ph?this.Ph.Ml():this.bj.Fj(),d=this.Qh?this.Qh.Ml():this.cj.Fj(),c=-this.H*(this.Xi-(c+this.zb*d));b.a.g.x+=b.D*c*this.qb.Oe.x;b.a.g.y+=b.D*c*this.qb.Oe.y;
b.a.j+=b.M*c*this.qb.nh;a.a.g.x+=a.D*c*this.qb.Pe.x;a.a.g.y+=a.D*c*this.qb.Pe.y;a.a.j+=a.M*c*this.qb.oh;b.vb();a.vb();return 0<m.Ka};e.Qa(x,e.f.w.ea);x.prototype.V=e.f.w.ea.prototype;x.dk=function(){e.f.w.ea.ea.apply(this,arguments)};x.prototype.dk=function(){this.V.ea.call(this);this.type=t.tt;this.Gh=this.Fh=null;this.ratio=1};p.Fp=function(){this.Oe=new c;this.Pe=new c};p.prototype.ma=function(){this.Oe.ma();this.nh=0;this.Pe.ma();this.oh=0};p.prototype.Set=function(b,a,c,d){void 0===a&&(a=0);
void 0===d&&(d=0);this.Oe.A(b);this.nh=a;this.Pe.A(c);this.oh=d};p.prototype.cv=function(b,a,c,d){void 0===a&&(a=0);void 0===d&&(d=0);return this.Oe.x*b.x+this.Oe.y*b.y+this.nh*a+(this.Pe.x*c.x+this.Pe.y*c.y)+this.oh*d};t.S=function(){new B;new B;this.pf=new c;this.qf=new c};t.prototype.Pa=function(){return this.Ba};t.prototype.Wd=function(){return this.Tf};t.prototype.Wl=function(b){this.Tf=b};t.prototype.eh=function(){return this.Wa.eh()&&this.Ga.eh()};t.Cd=function(a){var c=null;switch(a.type){case t.pt:c=
new f(a instanceof b?a:null);break;case t.vt:c=new L(a instanceof z?a:null);break;case t.xt:c=new F(a instanceof u?a:null);break;case t.Zm:c=new E(a instanceof G?a:null);break;case t.yt:c=new N(a instanceof J?a:null);break;case t.tt:c=new r(a instanceof x?a:null);break;case t.ut:c=new K(a instanceof D?a:null);break;case t.zt:c=new O(a instanceof P?a:null);break;case t.st:c=new l(a instanceof n?a:null)}return c};t.Fc=function(){};t.prototype.S=function(b){m.lb(b.Fa!=b.La);this.Ba=b.type;this.Ha=this.rf=
null;this.Wa=b.Fa;this.Ga=b.La;this.Ky=b.ft;this.Mh=!1;this.Tf=b.Zg};t.prototype.Xd=function(){};t.prototype.Gd=function(){};t.prototype.to=function(){};t.prototype.Fd=function(){return!1};e.Ab.push(function(){e.f.w.S.Qx=0;e.f.w.S.Zm=1;e.f.w.S.xt=2;e.f.w.S.pt=3;e.f.w.S.yt=4;e.f.w.S.vt=5;e.f.w.S.tt=6;e.f.w.S.ut=7;e.f.w.S.zt=8;e.f.w.S.st=9;e.f.w.S.Yc=0;e.f.w.S.ff=1;e.f.w.S.pc=2;e.f.w.S.Ag=3});H.ea=function(){};H.prototype.ea=function(){this.type=t.Qx;this.La=this.Fa=this.Zg=null;this.ft=!1};B.Gp=function(){};
e.Qa(K,e.f.w.S);K.prototype.V=e.f.w.S.prototype;K.ek=function(){e.f.w.S.S.apply(this,arguments);this.fa=new c;this.ga=new c;this.vd=new c;this.Sf=new c;this.K=new c;this.ia=new c;this.ca=new a;this.i=new c};K.prototype.Fj=function(){var b=this.Wa,a=this.Ga,c=b.Nl(this.fa),d=a.Nl(this.ga),a=d.x-c.x,c=d.y-c.y,b=b.yo(this.vd);return b.x*a+b.y*c};K.prototype.ek=function(b){this.V.S.call(this,b);this.fa.A(b.Mb);this.ga.A(b.Nb);this.vd.A(b.Jh);this.Sf.x=-this.vd.y;this.Sf.y=this.vd.x;this.i.ma();this.Ca=
this.$c=0;this.he=b.Aq;this.ie=b.or;this.Kq=b.Qq;this.Vk=b.cl;this.Re=b.Gk;this.Ig=b.Hk;this.ta=t.Yc;this.K.ma();this.ia.ma()};K.prototype.Xd=function(b){var a=this.Wa,c=this.Ga,d,f=0;this.pf.A(a.a.F);this.qf.A(c.a.F);var l=a.Vc();c.Vc();d=a.B.s;var n=this.fa.x-this.pf.x,k=this.fa.y-this.pf.y,f=d.b.x*n+d.c.x*k,k=d.b.y*n+d.c.y*k,n=f;d=c.B.s;var r=this.ga.x-this.qf.x,p=this.ga.y-this.qf.y,f=d.b.x*r+d.c.x*p,p=d.b.y*r+d.c.y*p,r=f;d=c.a.g.x+r-a.a.g.x-n;f=c.a.g.y+p-a.a.g.y-k;this.xb=a.D;this.yb=c.D;this.Sc=
a.M;this.Tc=c.M;this.K.A(g.kc(l.s,this.vd));this.Ma=(d+n)*this.K.y-(f+k)*this.K.x;this.Na=r*this.K.y-p*this.K.x;this.$c=this.xb+this.yb+this.Sc*this.Ma*this.Ma+this.Tc*this.Na*this.Na;this.$c=this.$c>Number.MIN_VALUE?1/this.$c:0;this.ia.A(g.kc(l.s,this.Sf));this.Sa=(d+n)*this.ia.y-(f+k)*this.ia.x;this.Ta=r*this.ia.y-p*this.ia.x;l=this.xb;n=this.yb;k=this.Sc;r=this.Tc;this.ca.b.x=l+n+k*this.Sa*this.Sa+r*this.Ta*this.Ta;this.ca.b.y=k*this.Sa*this.Ma+r*this.Ta*this.Na;this.ca.c.x=this.ca.b.y;this.ca.c.y=
l+n+k*this.Ma*this.Ma+r*this.Na*this.Na;this.Re?(d=this.K.x*d+this.K.y*f,g.Yb(this.ie-this.he)<2*m.Ka?this.ta=t.Ag:d<=this.he?this.ta!=t.ff&&(this.ta=t.ff,this.i.y=0):d>=this.ie?this.ta!=t.pc&&(this.ta=t.pc,this.i.y=0):(this.ta=t.Yc,this.i.y=0)):this.ta=t.Yc;0==this.Ig&&(this.Ca=0);b.Ae?(this.i.x*=b.Bb,this.i.y*=b.Bb,this.Ca*=b.Bb,b=this.i.x*this.ia.x+(this.Ca+this.i.y)*this.K.x,d=this.i.x*this.ia.y+(this.Ca+this.i.y)*this.K.y,f=this.i.x*this.Sa+(this.Ca+this.i.y)*this.Ma,l=this.i.x*this.Ta+(this.Ca+
this.i.y)*this.Na,a.h.x-=this.xb*b,a.h.y-=this.xb*d,a.u-=this.Sc*f,c.h.x+=this.yb*b,c.h.y+=this.yb*d,c.u+=this.Tc*l):(this.i.ma(),this.Ca=0)};K.prototype.Gd=function(b){var a=this.Wa,d=this.Ga,f=a.h,l=a.u,n=d.h,k=d.u,r=0,p=0,e=0,m=0;this.Ig&&this.ta!=t.Ag&&(m=this.$c*(this.Vk-(this.K.x*(n.x-f.x)+this.K.y*(n.y-f.y)+this.Na*k-this.Ma*l)),r=this.Ca,p=b.ra*this.Kq,this.Ca=g.Oa(this.Ca+m,-p,p),m=this.Ca-r,r=m*this.K.x,p=m*this.K.y,e=m*this.Ma,m*=this.Na,f.x-=this.xb*r,f.y-=this.xb*p,l-=this.Sc*e,n.x+=
this.yb*r,n.y+=this.yb*p,k+=this.Tc*m);p=this.ia.x*(n.x-f.x)+this.ia.y*(n.y-f.y)+this.Ta*k-this.Sa*l;this.Re&&this.ta!=t.Yc?(e=this.K.x*(n.x-f.x)+this.K.y*(n.y-f.y)+this.Na*k-this.Ma*l,r=this.i.vc(),b=this.ca.ih(new c,-p,-e),this.i.$h(b),this.ta==t.ff?this.i.y=g.Hc(this.i.y,0):this.ta==t.pc&&(this.i.y=g.gh(this.i.y,0)),p=-p-(this.i.y-r.y)*this.ca.c.x,e=0!=this.ca.b.x?p/this.ca.b.x+r.x:r.x,this.i.x=e,b.x=this.i.x-r.x,b.y=this.i.y-r.y,r=b.x*this.ia.x+b.y*this.K.x,p=b.x*this.ia.y+b.y*this.K.y,e=b.x*
this.Sa+b.y*this.Ma,m=b.x*this.Ta+b.y*this.Na):(b=0!=this.ca.b.x?-p/this.ca.b.x:0,this.i.x+=b,r=b*this.ia.x,p=b*this.ia.y,e=b*this.Sa,m=b*this.Ta);f.x-=this.xb*r;f.y-=this.xb*p;l-=this.Sc*e;n.x+=this.yb*r;n.y+=this.yb*p;k+=this.Tc*m;a.h.A(f);a.u=l;d.h.A(n);d.u=k};K.prototype.Fd=function(){var b=this.Wa,d=this.Ga,f=b.a.g,l=b.a.j,n=d.a.g,k=d.a.j,r,p=0,e=0,t=0,x=0,H=0,B=0,e=!1,D=0,E=a.Ll(l),t=a.Ll(k);r=E;var B=this.fa.x-this.pf.x,z=this.fa.y-this.pf.y,p=r.b.x*B+r.c.x*z,z=r.b.y*B+r.c.y*z,B=p;r=t;t=this.ga.x-
this.qf.x;x=this.ga.y-this.qf.y;p=r.b.x*t+r.c.x*x;x=r.b.y*t+r.c.y*x;t=p;r=n.x+t-f.x-B;p=n.y+x-f.y-z;if(this.Re){this.K=g.kc(E,this.vd);this.Ma=(r+B)*this.K.y-(p+z)*this.K.x;this.Na=t*this.K.y-x*this.K.x;var G=this.K.x*r+this.K.y*p;g.Yb(this.ie-this.he)<2*m.Ka?(D=g.Oa(G,-m.Jd,m.Jd),H=g.Yb(G),e=!0):G<=this.he?(D=g.Oa(G-this.he+m.Ka,-m.Jd,0),H=this.he-G,e=!0):G>=this.ie&&(D=g.Oa(G-this.ie+m.Ka,0,m.Jd),H=G-this.ie,e=!0)}this.ia=g.kc(E,this.Sf);this.Sa=(r+B)*this.ia.y-(p+z)*this.ia.x;this.Ta=t*this.ia.y-
x*this.ia.x;E=new c;z=this.ia.x*r+this.ia.y*p;H=g.Hc(H,g.Yb(z));B=0;e?(e=this.xb,t=this.yb,x=this.Sc,r=this.Tc,this.ca.b.x=e+t+x*this.Sa*this.Sa+r*this.Ta*this.Ta,this.ca.b.y=x*this.Sa*this.Ma+r*this.Ta*this.Na,this.ca.c.x=this.ca.b.y,this.ca.c.y=e+t+x*this.Ma*this.Ma+r*this.Na*this.Na,this.ca.ih(E,-z,-D)):(e=this.xb,t=this.yb,x=this.Sc,r=this.Tc,D=e+t+x*this.Sa*this.Sa+r*this.Ta*this.Ta,E.x=0!=D?-z/D:0,E.y=0);D=E.x*this.ia.x+E.y*this.K.x;e=E.x*this.ia.y+E.y*this.K.y;z=E.x*this.Sa+E.y*this.Ma;E=E.x*
this.Ta+E.y*this.Na;f.x-=this.xb*D;f.y-=this.xb*e;l-=this.Sc*z;n.x+=this.yb*D;n.y+=this.yb*e;k+=this.Tc*E;b.a.j=l;d.a.j=k;b.vb();d.vb();return H<=m.Ka&&B<=m.sh};e.Qa(D,e.f.w.ea);D.prototype.V=e.f.w.ea.prototype;D.fk=function(){e.f.w.ea.ea.apply(this,arguments);this.Mb=new c;this.Nb=new c;this.Jh=new c};D.prototype.fk=function(){this.V.ea.call(this);this.type=t.ut;this.Jh.Set(1,0);this.Gk=!1;this.or=this.Aq=0;this.Hk=!1;this.cl=this.Qq=0};D.prototype.Zb=function(b,a,c,d){this.Fa=b;this.La=a;this.Mb=
this.Fa.Dd(c);this.Nb=this.La.Dd(c);this.Jh=this.Fa.wo(d)};e.Qa(L,e.f.w.S);L.prototype.V=e.f.w.S.prototype;L.ik=function(){e.f.w.S.S.apply(this,arguments);this.jc=new a;this.Ee=new a;this.Fe=new a;this.aj=new c;this.Zk=new c;this.i=new c;this.H=new a;this.qn=new c};L.prototype.ik=function(b){this.V.S.call(this,b);this.Zk.A(b.target);var a=this.Zk.x-this.Ga.B.position.x,c=this.Zk.y-this.Ga.B.position.y,d=this.Ga.B.s;this.aj.x=a*d.b.x+c*d.b.y;this.aj.y=a*d.c.x+c*d.c.y;this.Jq=b.Pq;this.i.ma();this.Sk=
b.dn;this.Dq=b.Mm;this.Rc=this.Bq=0};L.prototype.Xd=function(b){var a=this.Ga,c=a.H,d=2*Math.PI*this.Sk,f=c*d*d;this.Rc=b.ra*(2*c*this.Dq*d+b.ra*f);this.Rc=0!=this.Rc?1/this.Rc:0;this.Bq=b.ra*f*this.Rc;var f=a.B.s,c=this.aj.x-a.a.F.x,d=this.aj.y-a.a.F.y,g=f.b.x*c+f.c.x*d,d=f.b.y*c+f.c.y*d,c=g,f=a.D,g=a.M;this.Ee.b.x=f;this.Ee.c.x=0;this.Ee.b.y=0;this.Ee.c.y=f;this.Fe.b.x=g*d*d;this.Fe.c.x=-g*c*d;this.Fe.b.y=-g*c*d;this.Fe.c.y=g*c*c;this.jc.hh(this.Ee);this.jc.Hl(this.Fe);this.jc.b.x+=this.Rc;this.jc.c.y+=
this.Rc;this.jc.uo(this.H);this.qn.x=a.a.g.x+c-this.Zk.x;this.qn.y=a.a.g.y+d-this.Zk.y;a.u*=.98;this.i.x*=b.Bb;this.i.y*=b.Bb;a.h.x+=f*this.i.x;a.h.y+=f*this.i.y;a.u+=g*(c*this.i.y-d*this.i.x)};L.prototype.Gd=function(b){var a=this.Ga,c,d=0,f=0;c=a.B.s;var g=this.aj.x-a.a.F.x,l=this.aj.y-a.a.F.y,d=c.b.x*g+c.c.x*l,l=c.b.y*g+c.c.y*l,g=d,d=a.h.x+-a.u*l,n=a.h.y+a.u*g;c=this.H;d=d+this.Bq*this.qn.x+this.Rc*this.i.x;f=n+this.Bq*this.qn.y+this.Rc*this.i.y;n=-(c.b.x*d+c.c.x*f);f=-(c.b.y*d+c.c.y*f);c=this.i.x;
d=this.i.y;this.i.x+=n;this.i.y+=f;b=b.ra*this.Jq;this.i.Sl()>b*b&&this.i.Wc(b/this.i.Cf());n=this.i.x-c;f=this.i.y-d;a.h.x+=a.D*n;a.h.y+=a.D*f;a.u+=a.M*(g*f-l*n)};L.prototype.Fd=function(){return!0};e.Qa(z,e.f.w.ea);z.prototype.V=e.f.w.ea.prototype;z.jk=function(){e.f.w.ea.ea.apply(this,arguments);this.target=new c};z.prototype.jk=function(){this.V.ea.call(this);this.type=t.vt;this.Pq=0;this.dn=5;this.Mm=.7};e.Qa(F,e.f.w.S);F.prototype.V=e.f.w.S.prototype;F.lk=function(){e.f.w.S.S.apply(this,arguments);
this.fa=new c;this.ga=new c;this.vd=new c;this.Sf=new c;this.K=new c;this.ia=new c;this.ca=new k;this.i=new d};F.prototype.Fj=function(){var b=this.Wa,a=this.Ga,c=b.Nl(this.fa),d=a.Nl(this.ga),a=d.x-c.x,c=d.y-c.y,b=b.yo(this.vd);return b.x*a+b.y*c};F.prototype.lk=function(b){this.V.S.call(this,b);this.fa.A(b.Mb);this.ga.A(b.Nb);this.vd.A(b.Jh);this.Sf.x=-this.vd.y;this.Sf.y=this.vd.x;this.$y=b.Og;this.i.ma();this.Ca=this.$c=0;this.he=b.Aq;this.ie=b.or;this.Kq=b.Qq;this.Vk=b.cl;this.Re=b.Gk;this.Ig=
b.Hk;this.ta=t.Yc;this.K.ma();this.ia.ma()};F.prototype.Xd=function(b){var a=this.Wa,c=this.Ga,d,f=0;this.pf.A(a.a.F);this.qf.A(c.a.F);var l=a.Vc();c.Vc();d=a.B.s;var n=this.fa.x-this.pf.x,k=this.fa.y-this.pf.y,f=d.b.x*n+d.c.x*k,k=d.b.y*n+d.c.y*k,n=f;d=c.B.s;var r=this.ga.x-this.qf.x,p=this.ga.y-this.qf.y,f=d.b.x*r+d.c.x*p,p=d.b.y*r+d.c.y*p,r=f;d=c.a.g.x+r-a.a.g.x-n;f=c.a.g.y+p-a.a.g.y-k;this.xb=a.D;this.yb=c.D;this.Sc=a.M;this.Tc=c.M;this.K.A(g.kc(l.s,this.vd));this.Ma=(d+n)*this.K.y-(f+k)*this.K.x;
this.Na=r*this.K.y-p*this.K.x;this.$c=this.xb+this.yb+this.Sc*this.Ma*this.Ma+this.Tc*this.Na*this.Na;this.$c>Number.MIN_VALUE&&(this.$c=1/this.$c);this.ia.A(g.kc(l.s,this.Sf));this.Sa=(d+n)*this.ia.y-(f+k)*this.ia.x;this.Ta=r*this.ia.y-p*this.ia.x;l=this.xb;n=this.yb;k=this.Sc;r=this.Tc;this.ca.b.x=l+n+k*this.Sa*this.Sa+r*this.Ta*this.Ta;this.ca.b.y=k*this.Sa+r*this.Ta;this.ca.b.z=k*this.Sa*this.Ma+r*this.Ta*this.Na;this.ca.c.x=this.ca.b.y;this.ca.c.y=k+r;this.ca.c.z=k*this.Ma+r*this.Na;this.ca.ja.x=
this.ca.b.z;this.ca.ja.y=this.ca.c.z;this.ca.ja.z=l+n+k*this.Ma*this.Ma+r*this.Na*this.Na;this.Re?(d=this.K.x*d+this.K.y*f,g.Yb(this.ie-this.he)<2*m.Ka?this.ta=t.Ag:d<=this.he?this.ta!=t.ff&&(this.ta=t.ff,this.i.z=0):d>=this.ie?this.ta!=t.pc&&(this.ta=t.pc,this.i.z=0):(this.ta=t.Yc,this.i.z=0)):this.ta=t.Yc;0==this.Ig&&(this.Ca=0);b.Ae?(this.i.x*=b.Bb,this.i.y*=b.Bb,this.Ca*=b.Bb,b=this.i.x*this.ia.x+(this.Ca+this.i.z)*this.K.x,d=this.i.x*this.ia.y+(this.Ca+this.i.z)*this.K.y,f=this.i.x*this.Sa+this.i.y+
(this.Ca+this.i.z)*this.Ma,l=this.i.x*this.Ta+this.i.y+(this.Ca+this.i.z)*this.Na,a.h.x-=this.xb*b,a.h.y-=this.xb*d,a.u-=this.Sc*f,c.h.x+=this.yb*b,c.h.y+=this.yb*d,c.u+=this.Tc*l):(this.i.ma(),this.Ca=0)};F.prototype.Gd=function(b){var a=this.Wa,f=this.Ga,l=a.h,n=a.u,k=f.h,r=f.u,p=0,e=0,m=0,x=0;this.Ig&&this.ta!=t.Ag&&(x=this.$c*(this.Vk-(this.K.x*(k.x-l.x)+this.K.y*(k.y-l.y)+this.Na*r-this.Ma*n)),p=this.Ca,b=b.ra*this.Kq,this.Ca=g.Oa(this.Ca+x,-b,b),x=this.Ca-p,p=x*this.K.x,e=x*this.K.y,m=x*this.Ma,
x*=this.Na,l.x-=this.xb*p,l.y-=this.xb*e,n-=this.Sc*m,k.x+=this.yb*p,k.y+=this.yb*e,r+=this.Tc*x);m=this.ia.x*(k.x-l.x)+this.ia.y*(k.y-l.y)+this.Ta*r-this.Sa*n;e=r-n;this.Re&&this.ta!=t.Yc?(b=this.K.x*(k.x-l.x)+this.K.y*(k.y-l.y)+this.Na*r-this.Ma*n,p=this.i.vc(),b=this.ca.Oj(new d,-m,-e,-b),this.i.$h(b),this.ta==t.ff?this.i.z=g.Hc(this.i.z,0):this.ta==t.pc&&(this.i.z=g.gh(this.i.z,0)),m=-m-(this.i.z-p.z)*this.ca.ja.x,e=-e-(this.i.z-p.z)*this.ca.ja.y,e=this.ca.hi(new c,m,e),e.x+=p.x,e.y+=p.y,this.i.x=
e.x,this.i.y=e.y,b.x=this.i.x-p.x,b.y=this.i.y-p.y,b.z=this.i.z-p.z,p=b.x*this.ia.x+b.z*this.K.x,e=b.x*this.ia.y+b.z*this.K.y,m=b.x*this.Sa+b.y+b.z*this.Ma,x=b.x*this.Ta+b.y+b.z*this.Na):(b=this.ca.hi(new c,-m,-e),this.i.x+=b.x,this.i.y+=b.y,p=b.x*this.ia.x,e=b.x*this.ia.y,m=b.x*this.Sa+b.y,x=b.x*this.Ta+b.y);l.x-=this.xb*p;l.y-=this.xb*e;n-=this.Sc*m;k.x+=this.yb*p;k.y+=this.yb*e;r+=this.Tc*x;a.h.A(l);a.u=n;f.h.A(k);f.u=r};F.prototype.Fd=function(){var b=this.Wa,f=this.Ga,l=b.a.g,n=b.a.j,k=f.a.g,
r=f.a.j,p,e=0,t=0,x=0,H=0,B=0,t=!1,D=0,E=a.Ll(n),z=a.Ll(r);p=E;var B=this.fa.x-this.pf.x,G=this.fa.y-this.pf.y,e=p.b.x*B+p.c.x*G,G=p.b.y*B+p.c.y*G,B=e;p=z;z=this.ga.x-this.qf.x;x=this.ga.y-this.qf.y;e=p.b.x*z+p.c.x*x;x=p.b.y*z+p.c.y*x;z=e;p=k.x+z-l.x-B;e=k.y+x-l.y-G;if(this.Re){this.K=g.kc(E,this.vd);this.Ma=(p+B)*this.K.y-(e+G)*this.K.x;this.Na=z*this.K.y-x*this.K.x;var u=this.K.x*p+this.K.y*e;g.Yb(this.ie-this.he)<2*m.Ka?(D=g.Oa(u,-m.Jd,m.Jd),H=g.Yb(u),t=!0):u<=this.he?(D=g.Oa(u-this.he+m.Ka,-m.Jd,
0),H=this.he-u,t=!0):u>=this.ie&&(D=g.Oa(u-this.ie+m.Ka,0,m.Jd),H=u-this.ie,t=!0)}this.ia=g.kc(E,this.Sf);this.Sa=(p+B)*this.ia.y-(e+G)*this.ia.x;this.Ta=z*this.ia.y-x*this.ia.x;E=new d;G=this.ia.x*p+this.ia.y*e;z=r-n-this.$y;H=g.Hc(H,g.Yb(G));B=g.Yb(z);t?(t=this.xb,x=this.yb,p=this.Sc,e=this.Tc,this.ca.b.x=t+x+p*this.Sa*this.Sa+e*this.Ta*this.Ta,this.ca.b.y=p*this.Sa+e*this.Ta,this.ca.b.z=p*this.Sa*this.Ma+e*this.Ta*this.Na,this.ca.c.x=this.ca.b.y,this.ca.c.y=p+e,this.ca.c.z=p*this.Ma+e*this.Na,
this.ca.ja.x=this.ca.b.z,this.ca.ja.y=this.ca.c.z,this.ca.ja.z=t+x+p*this.Ma*this.Ma+e*this.Na*this.Na,this.ca.Oj(E,-G,-z,-D)):(t=this.xb,x=this.yb,p=this.Sc,e=this.Tc,D=p*this.Sa+e*this.Ta,u=p+e,this.ca.b.Set(t+x+p*this.Sa*this.Sa+e*this.Ta*this.Ta,D,0),this.ca.c.Set(D,u,0),D=this.ca.hi(new c,-G,-z),E.x=D.x,E.y=D.y,E.z=0);D=E.x*this.ia.x+E.z*this.K.x;t=E.x*this.ia.y+E.z*this.K.y;G=E.x*this.Sa+E.y+E.z*this.Ma;E=E.x*this.Ta+E.y+E.z*this.Na;l.x-=this.xb*D;l.y-=this.xb*t;n-=this.Sc*G;k.x+=this.yb*D;
k.y+=this.yb*t;r+=this.Tc*E;b.a.j=n;f.a.j=r;b.vb();f.vb();return H<=m.Ka&&B<=m.sh};e.Qa(u,e.f.w.ea);u.prototype.V=e.f.w.ea.prototype;u.mk=function(){e.f.w.ea.ea.apply(this,arguments);this.Mb=new c;this.Nb=new c;this.Jh=new c};u.prototype.mk=function(){this.V.ea.call(this);this.type=t.xt;this.Jh.Set(1,0);this.Og=0;this.Gk=!1;this.or=this.Aq=0;this.Hk=!1;this.cl=this.Qq=0};u.prototype.Zb=function(b,a,c,d){this.Fa=b;this.La=a;this.Mb=this.Fa.Dd(c);this.Nb=this.La.Dd(c);this.Jh=this.Fa.wo(d);this.Og=
this.La.af()-this.Fa.af()};e.Qa(N,e.f.w.S);N.prototype.V=e.f.w.S.prototype;N.Fi=function(){e.f.w.S.S.apply(this,arguments);this.Pf=new c;this.Qf=new c;this.fa=new c;this.ga=new c;this.Ya=new c;this.Za=new c};N.prototype.Fi=function(b){this.V.S.call(this,b);this.ue=this.Wa.ec.Sy;this.Pf.x=b.fn.x-this.ue.B.position.x;this.Pf.y=b.fn.y-this.ue.B.position.y;this.Qf.x=b.gn.x-this.ue.B.position.x;this.Qf.y=b.gn.y-this.ue.B.position.y;this.fa.A(b.Mb);this.ga.A(b.Nb);this.zb=b.ratio;this.Xi=b.wq+this.zb*b.xq;
this.Xt=g.gh(b.au,this.Xi-this.zb*N.Hm);this.Yt=g.gh(b.bu,(this.Xi-N.Hm)/this.zb);this.of=this.nf=this.i=0};N.prototype.Xd=function(b){var a=this.Wa,c=this.Ga,d;d=a.B.s;var f=this.fa.x-a.a.F.x,g=this.fa.y-a.a.F.y,l=d.b.x*f+d.c.x*g,g=d.b.y*f+d.c.y*g,f=l;d=c.B.s;var n=this.ga.x-c.a.F.x,k=this.ga.y-c.a.F.y,l=d.b.x*n+d.c.x*k,k=d.b.y*n+d.c.y*k,n=l;d=c.a.g.x+n;var l=c.a.g.y+k,r=this.ue.B.position.x+this.Qf.x,p=this.ue.B.position.y+this.Qf.y;this.Ya.Set(a.a.g.x+f-(this.ue.B.position.x+this.Pf.x),a.a.g.y+
g-(this.ue.B.position.y+this.Pf.y));this.Za.Set(d-r,l-p);d=this.Ya.Cf();l=this.Za.Cf();d>m.Ka?this.Ya.Wc(1/d):this.Ya.ma();l>m.Ka?this.Za.Wc(1/l):this.Za.ma();0<this.Xi-d-this.zb*l?(this.Mq=t.Yc,this.i=0):this.Mq=t.pc;d<this.Xt?(this.Gq=t.Yc,this.nf=0):this.Gq=t.pc;l<this.Yt?(this.Hq=t.Yc,this.of=0):this.Hq=t.pc;d=f*this.Ya.y-g*this.Ya.x;l=n*this.Za.y-k*this.Za.x;this.Tk=a.D+a.M*d*d;this.Uk=c.D+c.M*l*l;this.vn=this.Tk+this.zb*this.zb*this.Uk;this.Tk=1/this.Tk;this.Uk=1/this.Uk;this.vn=1/this.vn;b.Ae?
(this.i*=b.Bb,this.nf*=b.Bb,this.of*=b.Bb,b=(-this.i-this.nf)*this.Ya.x,d=(-this.i-this.nf)*this.Ya.y,l=(-this.zb*this.i-this.of)*this.Za.x,r=(-this.zb*this.i-this.of)*this.Za.y,a.h.x+=a.D*b,a.h.y+=a.D*d,a.u+=a.M*(f*d-g*b),c.h.x+=c.D*l,c.h.y+=c.D*r,c.u+=c.M*(n*r-k*l)):this.of=this.nf=this.i=0};N.prototype.Gd=function(){var b=this.Wa,a=this.Ga,c;c=b.B.s;var d=this.fa.x-b.a.F.x,f=this.fa.y-b.a.F.y,l=c.b.x*d+c.c.x*f,f=c.b.y*d+c.c.y*f,d=l;c=a.B.s;var n=this.ga.x-a.a.F.x,k=this.ga.y-a.a.F.y,l=c.b.x*n+
c.c.x*k,k=c.b.y*n+c.c.y*k,n=l,r=0,p=0;this.Mq==t.pc&&(c=b.h.x+-b.u*f,l=b.h.y+b.u*d,r=a.h.x+-a.u*k,p=a.h.y+a.u*n,c=-(this.Ya.x*c+this.Ya.y*l)-this.zb*(this.Za.x*r+this.Za.y*p),p=this.vn*-c,c=this.i,this.i=g.Hc(0,this.i+p),p=this.i-c,c=-p*this.Ya.x,l=-p*this.Ya.y,r=-this.zb*p*this.Za.x,p=-this.zb*p*this.Za.y,b.h.x+=b.D*c,b.h.y+=b.D*l,b.u+=b.M*(d*l-f*c),a.h.x+=a.D*r,a.h.y+=a.D*p,a.u+=a.M*(n*p-k*r));this.Gq==t.pc&&(c=b.h.x+-b.u*f,l=b.h.y+b.u*d,c=-(this.Ya.x*c+this.Ya.y*l),p=-this.Tk*c,c=this.nf,this.nf=
g.Hc(0,this.nf+p),p=this.nf-c,c=-p*this.Ya.x,l=-p*this.Ya.y,b.h.x+=b.D*c,b.h.y+=b.D*l,b.u+=b.M*(d*l-f*c));this.Hq==t.pc&&(r=a.h.x+-a.u*k,p=a.h.y+a.u*n,c=-(this.Za.x*r+this.Za.y*p),p=-this.Uk*c,c=this.of,this.of=g.Hc(0,this.of+p),p=this.of-c,r=-p*this.Za.x,p=-p*this.Za.y,a.h.x+=a.D*r,a.h.y+=a.D*p,a.u+=a.M*(n*p-k*r))};N.prototype.Fd=function(){var b=this.Wa,a=this.Ga,c,d=this.ue.B.position.x+this.Pf.x,f=this.ue.B.position.y+this.Pf.y,l=this.ue.B.position.x+this.Qf.x,n=this.ue.B.position.y+this.Qf.y,
k=0,r=0,p=0,e=0,x=0,H=0,B=0,E=0;this.Mq==t.pc&&(c=b.B.s,k=this.fa.x-b.a.F.x,r=this.fa.y-b.a.F.y,x=c.b.x*k+c.c.x*r,r=c.b.y*k+c.c.y*r,k=x,c=a.B.s,p=this.ga.x-a.a.F.x,e=this.ga.y-a.a.F.y,x=c.b.x*p+c.c.x*e,e=c.b.y*p+c.c.y*e,p=x,c=b.a.g.x+k,x=b.a.g.y+r,H=a.a.g.x+p,B=a.a.g.y+e,this.Ya.Set(c-d,x-f),this.Za.Set(H-l,B-n),c=this.Ya.Cf(),x=this.Za.Cf(),c>m.Ka?this.Ya.Wc(1/c):this.Ya.ma(),x>m.Ka?this.Za.Wc(1/x):this.Za.ma(),c=this.Xi-c-this.zb*x,E=g.Hc(E,-c),c=g.Oa(c+m.Ka,-m.Jd,0),B=-this.vn*c,c=-B*this.Ya.x,
x=-B*this.Ya.y,H=-this.zb*B*this.Za.x,B=-this.zb*B*this.Za.y,b.a.g.x+=b.D*c,b.a.g.y+=b.D*x,b.a.j+=b.M*(k*x-r*c),a.a.g.x+=a.D*H,a.a.g.y+=a.D*B,a.a.j+=a.M*(p*B-e*H),b.vb(),a.vb());this.Gq==t.pc&&(c=b.B.s,k=this.fa.x-b.a.F.x,r=this.fa.y-b.a.F.y,x=c.b.x*k+c.c.x*r,r=c.b.y*k+c.c.y*r,k=x,c=b.a.g.x+k,x=b.a.g.y+r,this.Ya.Set(c-d,x-f),c=this.Ya.Cf(),c>m.Ka?(this.Ya.x*=1/c,this.Ya.y*=1/c):this.Ya.ma(),c=this.Xt-c,E=g.Hc(E,-c),c=g.Oa(c+m.Ka,-m.Jd,0),B=-this.Tk*c,c=-B*this.Ya.x,x=-B*this.Ya.y,b.a.g.x+=b.D*c,b.a.g.y+=
b.D*x,b.a.j+=b.M*(k*x-r*c),b.vb());this.Hq==t.pc&&(c=a.B.s,p=this.ga.x-a.a.F.x,e=this.ga.y-a.a.F.y,x=c.b.x*p+c.c.x*e,e=c.b.y*p+c.c.y*e,p=x,H=a.a.g.x+p,B=a.a.g.y+e,this.Za.Set(H-l,B-n),x=this.Za.Cf(),x>m.Ka?(this.Za.x*=1/x,this.Za.y*=1/x):this.Za.ma(),c=this.Yt-x,E=g.Hc(E,-c),c=g.Oa(c+m.Ka,-m.Jd,0),B=-this.Uk*c,H=-B*this.Za.x,B=-B*this.Za.y,a.a.g.x+=a.D*H,a.a.g.y+=a.D*B,a.a.j+=a.M*(p*B-e*H),a.vb());return E<m.Ka};e.Ab.push(function(){e.f.w.Fi.Hm=2});e.Qa(J,e.f.w.ea);J.prototype.V=e.f.w.ea.prototype;
J.nk=function(){e.f.w.ea.ea.apply(this,arguments);this.fn=new c;this.gn=new c;this.Mb=new c;this.Nb=new c};J.prototype.nk=function(){this.V.ea.call(this);this.type=t.yt;this.fn.Set(-1,1);this.gn.Set(1,1);this.Mb.Set(-1,0);this.Nb.Set(1,0);this.bu=this.xq=this.au=this.wq=0;this.ratio=1;this.ft=!0};J.prototype.Zb=function(b,a,c,d,f,l,g){void 0===g&&(g=0);this.Fa=b;this.La=a;this.fn.A(c);this.gn.A(d);this.Mb=this.Fa.Dd(f);this.Nb=this.La.Dd(l);b=f.x-c.x;c=f.y-c.y;this.wq=Math.sqrt(b*b+c*c);c=l.x-d.x;
d=l.y-d.y;this.xq=Math.sqrt(c*c+d*d);this.ratio=g;g=this.wq+this.ratio*this.xq;this.au=g-this.ratio*N.Hm;this.bu=(g-N.Hm)/this.ratio};e.Qa(E,e.f.w.S);E.prototype.V=e.f.w.S.prototype;E.Gi=function(){e.f.w.S.S.apply(this,arguments);this.jc=new a;this.Ee=new a;this.Fe=new a;this.Hj=new a;this.bc=new d;this.Ne=new c;this.Af=new c;this.fa=new c;this.ga=new c;this.i=new d;this.H=new k};E.prototype.Ml=function(){return this.Ga.a.j-this.Wa.a.j-this.Yk};E.prototype.Gi=function(b){this.V.S.call(this,b);this.fa.A(b.Mb);
this.ga.A(b.Nb);this.Yk=b.Og;this.i.ma();this.Ca=0;this.sn=b.Hy;this.Nq=b.eB;this.Yy=b.hz;this.Vk=b.cl;this.Re=b.Gk;this.Ig=b.Hk;this.ta=t.Yc};E.prototype.Xd=function(b){var a=this.Wa,c=this.Ga,d,f=0;d=a.B.s;var l=this.fa.x-a.a.F.x,n=this.fa.y-a.a.F.y,f=d.b.x*l+d.c.x*n,n=d.b.y*l+d.c.y*n,l=f;d=c.B.s;var k=this.ga.x-c.a.F.x,r=this.ga.y-c.a.F.y,f=d.b.x*k+d.c.x*r,r=d.b.y*k+d.c.y*r,k=f;d=a.D;var f=c.D,p=a.M,e=c.M;this.H.b.x=d+f+n*n*p+r*r*e;this.H.c.x=-n*l*p-r*k*e;this.H.ja.x=-n*p-r*e;this.H.b.y=this.H.c.x;
this.H.c.y=d+f+l*l*p+k*k*e;this.H.ja.y=l*p+k*e;this.H.b.z=this.H.ja.x;this.H.c.z=this.H.ja.y;this.H.ja.z=p+e;this.$c=1/(p+e);0==this.Ig&&(this.Ca=0);if(this.Re){var x=c.a.j-a.a.j-this.Yk;g.Yb(this.Nq-this.sn)<2*m.sh?this.ta=t.Ag:x<=this.sn?(this.ta!=t.ff&&(this.i.z=0),this.ta=t.ff):x>=this.Nq?(this.ta!=t.pc&&(this.i.z=0),this.ta=t.pc):(this.ta=t.Yc,this.i.z=0)}else this.ta=t.Yc;b.Ae?(this.i.x*=b.Bb,this.i.y*=b.Bb,this.Ca*=b.Bb,b=this.i.x,x=this.i.y,a.h.x-=d*b,a.h.y-=d*x,a.u-=p*(l*x-n*b+this.Ca+this.i.z),
c.h.x+=f*b,c.h.y+=f*x,c.u+=e*(k*x-r*b+this.Ca+this.i.z)):(this.i.ma(),this.Ca=0)};E.prototype.Gd=function(b){var a=this.Wa,c=this.Ga,d=0,f=0,l=0,n=0,k=0,r=a.h,p=a.u,e=c.h,x=c.u,m=a.D,H=c.D,B=a.M,E=c.M;this.Ig&&this.ta!=t.Ag&&(f=this.$c*-(x-p-this.Vk),l=this.Ca,n=b.ra*this.Yy,this.Ca=g.Oa(this.Ca+f,-n,n),f=this.Ca-l,p-=B*f,x+=E*f);if(this.Re&&this.ta!=t.Yc){b=a.B.s;f=this.fa.x-a.a.F.x;l=this.fa.y-a.a.F.y;d=b.b.x*f+b.c.x*l;l=b.b.y*f+b.c.y*l;f=d;b=c.B.s;n=this.ga.x-c.a.F.x;k=this.ga.y-c.a.F.y;d=b.b.x*
n+b.c.x*k;k=b.b.y*n+b.c.y*k;n=d;b=e.x+-x*k-r.x- -p*l;var D=e.y+x*n-r.y-p*f;this.H.Oj(this.bc,-b,-D,-(x-p));this.ta==t.Ag?this.i.$h(this.bc):this.ta==t.ff?(d=this.i.z+this.bc.z,0>d&&(this.H.hi(this.Af,-b,-D),this.bc.x=this.Af.x,this.bc.y=this.Af.y,this.bc.z=-this.i.z,this.i.x+=this.Af.x,this.i.y+=this.Af.y,this.i.z=0)):this.ta==t.pc&&(d=this.i.z+this.bc.z,0<d&&(this.H.hi(this.Af,-b,-D),this.bc.x=this.Af.x,this.bc.y=this.Af.y,this.bc.z=-this.i.z,this.i.x+=this.Af.x,this.i.y+=this.Af.y,this.i.z=0));
r.x-=m*this.bc.x;r.y-=m*this.bc.y;p-=B*(f*this.bc.y-l*this.bc.x+this.bc.z);e.x+=H*this.bc.x;e.y+=H*this.bc.y;x+=E*(n*this.bc.y-k*this.bc.x+this.bc.z)}else b=a.B.s,f=this.fa.x-a.a.F.x,l=this.fa.y-a.a.F.y,d=b.b.x*f+b.c.x*l,l=b.b.y*f+b.c.y*l,f=d,b=c.B.s,n=this.ga.x-c.a.F.x,k=this.ga.y-c.a.F.y,d=b.b.x*n+b.c.x*k,k=b.b.y*n+b.c.y*k,n=d,this.H.hi(this.Ne,-(e.x+-x*k-r.x- -p*l),-(e.y+x*n-r.y-p*f)),this.i.x+=this.Ne.x,this.i.y+=this.Ne.y,r.x-=m*this.Ne.x,r.y-=m*this.Ne.y,p-=B*(f*this.Ne.y-l*this.Ne.x),e.x+=
H*this.Ne.x,e.y+=H*this.Ne.y,x+=E*(n*this.Ne.y-k*this.Ne.x);a.h.A(r);a.u=p;c.h.A(e);c.u=x};E.prototype.Fd=function(){var b=0,a,c=this.Wa,d=this.Ga,f=0,l=0,n=0,k=0;if(this.Re&&this.ta!=t.Yc){var b=d.a.j-c.a.j-this.Yk,r=0;this.ta==t.Ag?(b=g.Oa(b-this.sn,-m.Gm,m.Gm),r=-this.$c*b,f=g.Yb(b)):this.ta==t.ff?(b-=this.sn,f=-b,b=g.Oa(b+m.sh,-m.Gm,0),r=-this.$c*b):this.ta==t.pc&&(f=b-=this.Nq,b=g.Oa(b-m.sh,0,m.Gm),r=-this.$c*b);c.a.j-=c.M*r;d.a.j+=d.M*r;c.vb();d.vb()}a=c.B.s;r=this.fa.x-c.a.F.x;b=this.fa.y-
c.a.F.y;l=a.b.x*r+a.c.x*b;b=a.b.y*r+a.c.y*b;r=l;a=d.B.s;var p=this.ga.x-d.a.F.x,e=this.ga.y-d.a.F.y,l=a.b.x*p+a.c.x*e,e=a.b.y*p+a.c.y*e,p=l,n=d.a.g.x+p-c.a.g.x-r,k=d.a.g.y+e-c.a.g.y-b,x=n*n+k*k;a=Math.sqrt(x);var l=c.D,H=d.D,B=c.M,D=d.M,z=10*m.Ka;x>z*z&&(x=1/(l+H),n=x*-n,k=x*-k,c.a.g.x-=.5*l*n,c.a.g.y-=.5*l*k,d.a.g.x+=.5*H*n,d.a.g.y+=.5*H*k,n=d.a.g.x+p-c.a.g.x-r,k=d.a.g.y+e-c.a.g.y-b);this.Ee.b.x=l+H;this.Ee.c.x=0;this.Ee.b.y=0;this.Ee.c.y=l+H;this.Fe.b.x=B*b*b;this.Fe.c.x=-B*r*b;this.Fe.b.y=-B*r*
b;this.Fe.c.y=B*r*r;this.Hj.b.x=D*e*e;this.Hj.c.x=-D*p*e;this.Hj.b.y=-D*p*e;this.Hj.c.y=D*p*p;this.jc.hh(this.Ee);this.jc.Hl(this.Fe);this.jc.Hl(this.Hj);this.jc.ih(E.lr,-n,-k);n=E.lr.x;k=E.lr.y;c.a.g.x-=c.D*n;c.a.g.y-=c.D*k;c.a.j-=c.M*(r*k-b*n);d.a.g.x+=d.D*n;d.a.g.y+=d.D*k;d.a.j+=d.M*(p*k-e*n);c.vb();d.vb();return a<=m.Ka&&f<=m.sh};e.Ab.push(function(){e.f.w.Gi.lr=new c});e.Qa(G,e.f.w.ea);G.prototype.V=e.f.w.ea.prototype;G.qk=function(){e.f.w.ea.ea.apply(this,arguments);this.Mb=new c;this.Nb=new c};
G.prototype.qk=function(){this.V.ea.call(this);this.type=t.Zm;this.Mb.Set(0,0);this.Nb.Set(0,0);this.cl=this.hz=this.eB=this.Hy=this.Og=0;this.Hk=this.Gk=!1};G.prototype.Zb=function(b,a,c){this.Fa=b;this.La=a;this.Mb=this.Fa.Dd(c);this.Nb=this.La.Dd(c);this.Og=this.La.af()-this.Fa.af()};e.Qa(O,e.f.w.S);O.prototype.V=e.f.w.S.prototype;O.tk=function(){e.f.w.S.S.apply(this,arguments);this.fe=new c;this.ge=new c;this.i=new d;this.H=new k};O.prototype.tk=function(b){this.V.S.call(this,b);this.fe.A(b.Mb);
this.ge.A(b.Nb);this.Yk=b.Og;this.i.ma();this.H=new k};O.prototype.Xd=function(b){var a,c=0,d=this.Wa,f=this.Ga;a=d.B.s;var l=this.fe.x-d.a.F.x,g=this.fe.y-d.a.F.y,c=a.b.x*l+a.c.x*g,g=a.b.y*l+a.c.y*g,l=c;a=f.B.s;var n=this.ge.x-f.a.F.x,k=this.ge.y-f.a.F.y,c=a.b.x*n+a.c.x*k,k=a.b.y*n+a.c.y*k,n=c;a=d.D;var c=f.D,r=d.M,p=f.M;this.H.b.x=a+c+g*g*r+k*k*p;this.H.c.x=-g*l*r-k*n*p;this.H.ja.x=-g*r-k*p;this.H.b.y=this.H.c.x;this.H.c.y=a+c+l*l*r+n*n*p;this.H.ja.y=l*r+n*p;this.H.b.z=this.H.ja.x;this.H.c.z=this.H.ja.y;
this.H.ja.z=r+p;b.Ae?(this.i.x*=b.Bb,this.i.y*=b.Bb,this.i.z*=b.Bb,d.h.x-=a*this.i.x,d.h.y-=a*this.i.y,d.u-=r*(l*this.i.y-g*this.i.x+this.i.z),f.h.x+=c*this.i.x,f.h.y+=c*this.i.y,f.u+=p*(n*this.i.y-k*this.i.x+this.i.z)):this.i.ma()};O.prototype.Gd=function(){var b,a=0,c=this.Wa,f=this.Ga,l=c.h,g=c.u,n=f.h,k=f.u,r=c.D,p=f.D,e=c.M,x=f.M;b=c.B.s;var t=this.fe.x-c.a.F.x,m=this.fe.y-c.a.F.y,a=b.b.x*t+b.c.x*m,m=b.b.y*t+b.c.y*m,t=a;b=f.B.s;var H=this.ge.x-f.a.F.x,B=this.ge.y-f.a.F.y,a=b.b.x*H+b.c.x*B,B=
b.b.y*H+b.c.y*B,H=a;b=n.x-k*B-l.x+g*m;var a=n.y+k*H-l.y-g*t,E=k-g,D=new d;this.H.Oj(D,-b,-a,-E);this.i.$h(D);l.x-=r*D.x;l.y-=r*D.y;g-=e*(t*D.y-m*D.x+D.z);n.x+=p*D.x;n.y+=p*D.y;k+=x*(H*D.y-B*D.x+D.z);c.u=g;f.u=k};O.prototype.Fd=function(){var b,a=0,c=this.Wa,f=this.Ga;b=c.B.s;var l=this.fe.x-c.a.F.x,n=this.fe.y-c.a.F.y,a=b.b.x*l+b.c.x*n,n=b.b.y*l+b.c.y*n,l=a;b=f.B.s;var k=this.ge.x-f.a.F.x,r=this.ge.y-f.a.F.y,a=b.b.x*k+b.c.x*r,r=b.b.y*k+b.c.y*r,k=a;b=c.D;var a=f.D,p=c.M,e=f.M,x=f.a.g.x+k-c.a.g.x-l,
t=f.a.g.y+r-c.a.g.y-n,H=f.a.j-c.a.j-this.Yk,B=10*m.Ka,D=Math.sqrt(x*x+t*t),E=g.Yb(H);D>B&&(p*=1,e*=1);this.H.b.x=b+a+n*n*p+r*r*e;this.H.c.x=-n*l*p-r*k*e;this.H.ja.x=-n*p-r*e;this.H.b.y=this.H.c.x;this.H.c.y=b+a+l*l*p+k*k*e;this.H.ja.y=l*p+k*e;this.H.b.z=this.H.ja.x;this.H.c.z=this.H.ja.y;this.H.ja.z=p+e;B=new d;this.H.Oj(B,-x,-t,-H);c.a.g.x-=b*B.x;c.a.g.y-=b*B.y;c.a.j-=p*(l*B.y-n*B.x+B.z);f.a.g.x+=a*B.x;f.a.g.y+=a*B.y;f.a.j+=e*(k*B.y-r*B.x+B.z);c.vb();f.vb();return D<=m.Ka&&E<=m.sh};e.Qa(P,e.f.w.ea);
P.prototype.V=e.f.w.ea.prototype;P.uk=function(){e.f.w.ea.ea.apply(this,arguments);this.Mb=new c;this.Nb=new c};P.prototype.uk=function(){this.V.ea.call(this);this.type=t.zt;this.Og=0};P.prototype.Zb=function(b,a,c){this.Fa=b;this.La=a;this.Mb.A(this.Fa.Dd(c));this.Nb.A(this.La.Dd(c));this.Og=this.La.af()-this.Fa.af()}})();(function(){var m=e.f.od;m.od=function(){};m.prototype.od=function(){}})();var m;for(m=0;m<e.Ab.length;++m)e.Ab[m]();delete e.Ab;"undefined"!==typeof Q&&(Q.o=e)},{}],2:[function(R,
Q,e){(function(C){!function(M){"object"==typeof e&&"undefined"!=typeof Q?Q.o=M():"function"==typeof define&&define.HC?define([],M):("undefined"!=typeof window?window:"undefined"!=typeof C?C:"undefined"!=typeof self?self:this).vv=M()}(function(){return function m(e,a,k){function g(d,b){if(!a[d]){if(!e[d]){var l="function"==typeof R&&R;if(!b&&l)return l(d,!0);if(c)return c(d,!0);l=Error("Cannot find module '"+d+"'");throw l.code="MODULE_NOT_FOUND",l;}l=a[d]={o:{}};e[d][0].call(l.o,function(b){var a=
e[d][1][b];return g(a?a:b)},l,l.o,m,e,a,k)}return a[d].o}for(var c="function"==typeof R&&R,d=0;d<k.length;d++)g(k[d]);return g}({1:[function(e,q){var a="undefined"!=typeof C?C:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};e("./polyfill");var k=q.o=e("./core");k.xD=e("./extras");k.filters=e("./filters");k.MD=e("./interaction");k.Gy=e("./loaders");k.cu=e("./mesh");k.RD=new k.Gy.qv;Object.Ik(k,e("./deprecation"));a.vv=k},{"./core":29,"./deprecation":78,"./extras":85,"./filters":102,
"./interaction":117,"./loaders":120,"./mesh":126,"./polyfill":130}],2:[function(e,q){(function(a){!function(){function k(b,a){function c(){var d=this,f=Array.prototype.slice.call(arguments),l=f.pop();return b(a,function(b,a){b.apply(d,f.concat([a]))},l)}return 2<arguments.length?c.apply(this,Array.prototype.slice.call(arguments,2)):c}function g(b){return function(a){a.apply(null,Array.prototype.slice.call(arguments,1).concat([function(a){var c=Array.prototype.slice.call(arguments,1);"undefined"!=
typeof console&&(a?console.error&&console.error(a):console[b]&&D(c,function(a){console[b](a)}))}]))}}function c(b,a,c,d){var f=[];b(a,function(b,a){c(b,function(b,c){f=f.concat(c||[]);a(b)})},function(b){d(b,f)})}function d(b,a,c){if(c=c||function(){},J(a))b.map(a,function(b,a){b&&b(function(b){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);a.call(null,b,c)})},c);else{var d={};b.Pc(m(a),function(b,c){a[b](function(a){var f=Array.prototype.slice.call(arguments,1);1>=f.length&&
(f=f[0]);d[b]=f;c(a)})},function(b){c(b,d)})}}function f(b,a,c,d){b(a,function(b,a){c(b,function(c){c?(d(b),d=function(){}):a()})},function(){d()})}function b(b,a,c,d){var f=[];a=K(a,function(b,a){return{index:a,value:b}});b(a,function(b,a){c(b.value,function(c){c||f.push(b);a()})},function(){d(K(f.sort(function(b,a){return b.index-a.index}),function(b){return b.value}))})}function l(b,a,c,d){var f=[];a=K(a,function(b,a){return{index:a,value:b}});b(a,function(b,a){c(b.value,function(c){c&&f.push(b);
a()})},function(){d(K(f.sort(function(b,a){return b.index-a.index}),function(b){return b.value}))})}function n(b,a,c,d){if(a=K(a,function(b,a){return{index:a,value:b}}),d){var f=[];b(a,function(b,a){c(b.value,function(c,d){f[b.index]=d;a(c)})},function(b){d(b,f)})}else b(a,function(b,a){c(b.value,function(b){a(b)})})}function r(b){return function(){return b.apply(null,[u.gf].concat(Array.prototype.slice.call(arguments)))}}function e(b,a){return function(){return a.apply(null,[t(b)].concat(Array.prototype.slice.call(arguments)))}}
function p(b){return function(){return b.apply(null,[u.Pc].concat(Array.prototype.slice.call(arguments)))}}function t(b){return function(a,c,d){if(d=d||function(){},!a.length||0>=b)return d();var f=0,l=0,g=0;!function S(){if(f>=a.length)return d();for(;b>g&&l<a.length;)l+=1,g+=1,c(a[l-1],function(b){b?(d(b),d=function(){}):(f+=1,--g,f>=a.length?d():S())})}()}}function m(b){if(Object.keys)return Object.keys(b);var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(c);return a}function B(b,a){var c=!0;return b.reduce?
b.reduce(a,c):(D(b,function(b,d,f){c=a(c,b,d,f)}),c)}function K(b,a){if(b.map)return b.map(a);var c=[];return D(b,function(b,d,f){c.push(a(b,d,f))}),c}function D(b,a){if(b.forEach)b.forEach(a);else for(var c=0;c<b.length;c+=1)a(b[c],c,b)}function L(b){var a=!1;return function(){if(a)throw Error("Callback was already called.");a=!0;b.apply(z,arguments)}}var z,F,u={};z=this;null!=z&&(F=z.async);u.rz=function(){return z.async=F,u};var N=Object.prototype.toString,J=Array.isArray||function(b){return"[object Array]"===
N.call(b)};"undefined"!=typeof a&&a.Bc?(u.Bc=a.Bc,u.setImmediate="undefined"!=typeof setImmediate?function(b){setImmediate(b)}:u.Bc):"function"==typeof setImmediate?(u.Bc=function(b){setImmediate(b)},u.setImmediate=u.Bc):(u.Bc=function(b){setTimeout(b,0)},u.setImmediate=u.Bc);u.Pc=function(b,a,c){function d(a){a?(c(a),c=function(){}):(f+=1,f>=b.length&&c())}if(c=c||function(){},!b.length)return c();var f=0;D(b,function(b){a(b,L(d))})};u.forEach=u.Pc;u.gf=function(b,a,c){function d(){a(b[f],function(a){a?
(c(a),c=function(){}):(f+=1,f>=b.length?c():d())})}if(c=c||function(){},!b.length)return c();var f=0;d()};u.by=u.gf;u.fq=function(b,a,c,d){t(a).apply(null,[b,c,d])};u.ay=u.fq;u.map=p(n);u.$k=r(n);u.fz=function(b,a,c,d){return e(a,n)(b,c,d)};u.reduce=function(b,a,c,d){u.gf(b,function(b,d){c(a,b,function(b,c){a=c;d(b)})},function(b){d(b,a)})};u.ry=u.reduce;u.Zx=u.reduce;u.reduceRight=function(b,a,c,d){b=K(b,function(b){return b}).reverse();u.reduce(b,a,c,d)};u.$x=u.reduceRight;u.filter=p(l);u.hq=r(l);
u.select=u.filter;u.xA=u.hq;u.reject=p(b);u.Uz=r(b);u.Mx=p(f);u.Nx=r(f);u.some=function(b,a,c){u.Pc(b,function(b,d){a(b,function(b){b&&(c(!0),c=function(){});d()})},function(){c(!1)})};u.Tw=u.some;u.every=function(b,a,c){u.Pc(b,function(b,d){a(b,function(b){b||(c(!1),c=function(){});d()})},function(){c(!0)})};u.all=u.every;u.EA=function(b,a,c){u.map(b,function(b,c){a(b,function(a,d){a?c(a):c(null,{value:b,yk:d})})},function(b,a){if(b)return c(b);c(null,K(a.sort(function(b,a){var c=b.yk,d=a.yk;return d>
c?-1:c>d?1:0}),function(b){return b.value}))})};u.Xw=function(b,a){function c(){l--;D(n.slice(0),function(b){b()})}function d(b){n.unshift(b)}a=a||function(){};var f=m(b),l=f.length;if(!l)return a();var g={},n=[];d(function(){if(!l){var b=a;a=function(){};b(null,g)}});D(f,function(f){function l(){return B(p,function(b,a){return b&&g.hasOwnProperty(a)})&&!g.hasOwnProperty(f)}function k(b){var d=Array.prototype.slice.call(arguments,1);if(1>=d.length&&(d=d[0]),b){var l={};D(m(g),function(b){l[b]=g[b]});
l[f]=d;a(b,l);a=function(){}}else g[f]=d,u.setImmediate(c)}var r=J(b[f])?b[f]:[b[f]],p=r.slice(0,Math.abs(r.length-1))||[];if(l())r[r.length-1](k,g);else{var e=function(){if(l()){a:for(var b=e,a=0;a<n.length;a+=1)if(n[a]===b){n.splice(a,1);break a}r[r.length-1](k,g)}};d(e)}})};u.aA=function(b,a,c){function d(l,g){function n(b,a){return function(c){b(function(b,d){c(!b||a,{gq:b,result:d})},g)}}for(;b;)f.push(n(a,!--b));u.hr(f,function(b,a){a=a[a.length-1];(l||c)(a.gq,a.result)})}var f=[];"function"==
typeof b&&(c=a,a=b,b=5);b=parseInt(b,10)||5;return c?d():d};u.gB=function(b,a){function c(b){return function(d){if(d)a.apply(null,arguments),a=function(){};else{var f=Array.prototype.slice.call(arguments,1),l=b.next();f.push(l?c(l):a);u.setImmediate(function(){b.apply(null,f)})}}}if(a=a||function(){},!J(b))return a(Error("First argument to waterfall must be an array of functions"));if(!b.length)return a();c(u.iterator(b))()};u.vz=function(b,a){d({map:u.map,Pc:u.Pc},b,a)};u.wz=function(b,a,c){d({map:e(a,
n),Pc:t(a)},b,c)};u.hr=function(b,a){if(a=a||function(){},J(b))u.$k(b,function(b,a){b&&b(function(b){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);a.call(null,b,c)})},a);else{var c={};u.gf(m(b),function(a,d){b[a](function(b){var f=Array.prototype.slice.call(arguments,1);1>=f.length&&(f=f[0]);c[a]=f;d(b)})},function(b){a(b,c)})}};u.iterator=function(b){function a(c){function d(){return b.length&&b[c].apply(null,arguments),d.next()}return d.next=function(){return c<b.length-1?
a(c+1):null},d}return a(0)};u.apply=function(b){var a=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,a.concat(Array.prototype.slice.call(arguments)))}};u.concat=p(c);u.Fx=r(c);u.qr=function(b,a,c){b()?a(function(d){return d?c(d):void u.qr(b,a,c)}):c()};u.Zp=function(b,a,c){b(function(d){if(d)return c(d);a.apply(null,Array.prototype.slice.call(arguments,1))?u.Zp(b,a,c):c()})};u.nr=function(b,a,c){b()?c():a(function(d){return d?c(d):void u.nr(b,a,c)})};u.Yp=function(b,
a,c){b(function(d){if(d)return c(d);a.apply(null,Array.prototype.slice.call(arguments,1))?c():u.Yp(b,a,c)})};u.Ln=function(b,a){function c(b,a,d,f){b.gc||(b.gc=!0);J(a)||(a=[a]);0==a.length?u.setImmediate(function(){b.Ub&&b.Ub()}):D(a,function(a){a={data:a,Md:"function"==typeof f?f:null};d?b.gb.unshift(a):b.gb.push(a);b.yd&&b.gb.length===b.uh&&b.yd();u.setImmediate(b.xd)})}void 0===a&&(a=1);var d=0,f={gb:[],uh:a,yd:null,empty:null,Ub:null,gc:!1,paused:!1,push:function(b,a){c(f,b,!1,a)},Lt:function(){f.Ub=
null;f.gb=[]},unshift:function(b,a){c(f,b,!0,a)},xd:function(){if(!f.paused&&d<f.uh&&f.gb.length){var a=f.gb.shift();f.empty&&0===f.gb.length&&f.empty();d+=1;b(a.data,L(function(){--d;a.Md&&a.Md.apply(a,arguments);f.Ub&&0===f.gb.length+d&&f.Ub();f.xd()}))}},length:function(){return f.gb.length},Nn:function(){return d},ly:function(){return 0===f.gb.length+d},pause:function(){!0!==f.paused&&(f.paused=!0,f.xd())},$z:function(){!1!==f.paused&&(f.paused=!1,f.xd())}};return f};u.Nz=function(b,a){function c(b,
a){return b.ql-a.ql}function d(b,a,c){for(var f=-1,l=b.length-1;l>f;){var g=f+(l-f+1>>>1);0<=c(a,b[g])?f=g:l=g-1}return f}function f(b,a,l,g){b.gc||(b.gc=!0);J(a)||(a=[a]);0==a.length?u.setImmediate(function(){b.Ub&&b.Ub()}):D(a,function(a){a={data:a,ql:l,Md:"function"==typeof g?g:null};b.gb.splice(d(b.gb,a,c)+1,0,a);b.yd&&b.gb.length===b.uh&&b.yd();u.setImmediate(b.xd)})}var l=u.Ln(b,a);return l.push=function(b,a,c){f(l,b,a,c)},delete l.unshift,l};u.Dx=function(b,a){var c=!1,d=[],f={gb:d,Az:a,yd:null,
empty:null,Ub:null,xh:!0,push:function(b,c){J(b)||(b=[b]);D(b,function(b){d.push({data:b,Md:"function"==typeof c?c:null});f.xh=!1;f.yd&&d.length===a&&f.yd()});u.setImmediate(f.xd)},xd:function A(){if(!c){if(0===d.length)return f.Ub&&!f.xh&&f.Ub(),void(f.xh=!0);var l="number"==typeof a?d.splice(0,a):d.splice(0,d.length),g=K(l,function(b){return b.data});f.empty&&f.empty();c=!0;b(g,function(){c=!1;var b=arguments;D(l,function(a){a.Md&&a.Md.apply(null,b)});A()})}},length:function(){return d.length},
Nn:function(){return c}};return f};u.log=g("log");u.dir=g("dir");u.kz=function(b,a){function c(){var l=Array.prototype.slice.call(arguments),g=l.pop(),n=a.apply(null,l);n in d?u.Bc(function(){g.apply(null,d[n])}):n in f?f[n].push(g):(f[n]=[g],b.apply(null,l.concat([function(){d[n]=arguments;var b=f[n];delete f[n];for(var a=0,c=b.length;c>a;a++)b[a].apply(null,arguments)}])))}var d={},f={};a=a||function(b){return b};return c.sd=d,c.mr=b,c};u.WA=function(b){return function(){return(b.mr||b).apply(null,
arguments)}};u.OA=function(b,a,c){for(var d=[],f=0;b>f;f++)d.push(f);return u.map(d,a,c)};u.PA=function(b,a,c){for(var d=[],f=0;b>f;f++)d.push(f);return u.$k(d,a,c)};u.gr=function(){var b=arguments;return function(){var a=this,c=Array.prototype.slice.call(arguments),d=c.pop();u.reduce(b,c,function(b,c,d){c.apply(a,b.concat([function(){d(arguments[0],Array.prototype.slice.call(arguments,1))}]))},function(b,c){d.apply(a,[b].concat(c))})}};u.Ex=function(){return u.gr.apply(null,Array.prototype.reverse.call(arguments))};
u.Uw=p(k);u.Vw=r(k);u.dy=function(b,a){function c(d){if(d){if(a)return a(d);throw d;}b(c)}c()};"undefined"!=typeof q&&q.o?q.o=u:z.async=u}()}).call(this,e("_process"))},{As:4}],3:[function(e,q,a){(function(){function k(a,b){for(var c=0,d=a.length-1;0<=d;d--){var g=a[d];"."===g?a.splice(d,1):".."===g?(a.splice(d,1),c++):c&&(a.splice(d,1),c--)}if(b)for(;c--;c)a.unshift("..");return a}function g(a,b){if(a.filter)return a.filter(b);for(var c=[],d=0;d<a.length;d++)b(a[d],d,a)&&c.push(a[d]);return c}var c=
/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;a.resolve=function(){for(var a="",b=!1,c=arguments.length-1;-1<=c&&!b;c--){var d=0<=c?arguments[c]:"/";if("string"!=typeof d)throw new TypeError("Arguments to path.resolve must be strings");d&&(a=d+"/"+a,b="/"===d.charAt(0))}return a=k(g(a.split("/"),function(b){return!!b}),!b).join("/"),(b?"/":"")+a||"."};a.normalize=function(c){var b=a.ty(c),l="/"===d(c,-1);return c=k(g(c.split("/"),function(b){return!!b}),!b).join("/"),c||b||(c="."),
c&&l&&(c+="/"),(b?"/":"")+c};a.ty=function(a){return"/"===a.charAt(0)};a.join=function(){return a.normalize(g(Array.prototype.slice.call(arguments,0),function(a){if("string"!=typeof a)throw new TypeError("Arguments to path.join must be strings");return a}).join("/"))};a.eE=function(c,b){function d(b){for(var a=0;a<b.length&&""===b[a];a++);for(var c=b.length-1;0<=c&&""===b[c];c--);return a>c?[]:b.slice(a,c-a+1)}c=a.resolve(c).substr(1);b=a.resolve(b).substr(1);for(var g=d(c.split("/")),k=d(b.split("/")),
e=Math.min(g.length,k.length),p=e,t=0;e>t;t++)if(g[t]!==k[t]){p=t;break}e=[];for(t=p;t<g.length;t++)e.push("..");return e=e.concat(k.slice(p)),e.join("/")};a.oE="/";a.hD=":";a.dirname=function(a){var b=c.exec(a).slice(1);a=b[0];b=b[1];return a||b?(b&&(b=b.substr(0,b.length-1)),a+b):"."};a.RC=function(a,b){var d=c.exec(a).slice(1)[2];return b&&d.substr(-1*b.length)===b&&(d=d.substr(0,d.length-b.length)),d};a.wD=function(a){return c.exec(a).slice(1)[3]};var d="b"==="ab".substr(-1)?function(a,b,c){return a.substr(b,
c)}:function(a,b,c){return 0>b&&(b=a.length+b),a.substr(b,c)}}).call(this,e("_process"))},{As:4}],4:[function(e,q){function a(){if(!d){d=!0;for(var a,b=c.length;b;){a=c;c=[];for(var l=-1;++l<b;)a[l]();b=c.length}d=!1}}function k(){}var g=q.o={},c=[],d=!1;g.Bc=function(f){c.push(f);d||setTimeout(a,0)};g.title="browser";g.WC=!0;g.vD={};g.IC=[];g.version="";g.HE={};g.Th=k;g.addListener=k;g.Rd=k;g.dl=k;g.removeListener=k;g.Vz=k;g.wb=k;g.SC=function(){throw Error("process.binding is not supported");};
g.fD=function(){return"/"};g.aD=function(){throw Error("process.chdir is not supported");};g.FE=function(){return 0}},{}],5:[function(e,q,a){(function(k){!function(g){function c(b){throw RangeError(y[b]);}function d(b,a){for(var c=b.length;c--;)b[c]=a(b[c]);return b}function f(b,a){return d(b.split(v),a).join(".")}function b(b){for(var a,c,d=[],f=0,l=b.length;l>f;)a=b.charCodeAt(f++),55296<=a&&56319>=a&&l>f?(c=b.charCodeAt(f++),56320==(64512&c)?d.push(((1023&a)<<10)+(1023&c)+65536):(d.push(a),f--)):
d.push(a);return d}function l(b){return d(b,function(b){var a="";return 65535<b&&(b-=65536,a+=C(b>>>10&1023|55296),b=56320|1023&b),a+C(b)}).join("")}function n(b){return 10>b-48?b-22:26>b-65?b-65:26>b-97?b-97:L}function r(b,a,c){var d=0;b=c?I(b/N):b>>1;for(b+=I(b/a);b>A*F>>1;d+=L)b=I(b/A);return I(d+(A+1)*b/(b+u))}function e(b){var a,d,f,g,k,p,x,t=[],m=b.length,H=0,B=E,u=J;d=b.lastIndexOf(G);0>d&&(d=0);for(f=0;d>f;++f)128<=b.charCodeAt(f)&&c("not-basic"),t.push(b.charCodeAt(f));for(d=0<d?d+1:0;m>
d;){f=H;a=1;for(g=L;d>=m&&c("invalid-input"),k=n(b.charCodeAt(d++)),(k>=L||k>I((D-H)/a))&&c("overflow"),H+=k*a,p=u>=g?z:g>=u+F?F:g-u,!(p>k);g+=L)x=L-p,a>I(D/x)&&c("overflow"),a*=x;a=t.length+1;u=r(H-f,a,0==f);I(H/a)>D-B&&c("overflow");B+=I(H/a);H%=a;t.splice(H++,0,B)}return l(t)}function p(a){var d,f,l,g,n,k,p,e,x,t,m,H,B,u=[];a=b(a);m=a.length;d=E;f=0;n=J;for(k=0;m>k;++k)t=a[k],128>t&&u.push(C(t));for((l=g=u.length)&&u.push(G);m>l;){p=D;for(k=0;m>k;++k)t=a[k],t>=d&&p>t&&(p=t);H=l+1;p-d>I((D-f)/H)&&
c("overflow");f+=(p-d)*H;d=p;for(k=0;m>k;++k)if(t=a[k],d>t&&++f>D&&c("overflow"),t==d){e=f;for(p=L;x=n>=p?z:p>=n+F?F:p-n,!(x>e);p+=L){B=e-x;e=L-x;var v=x+B%e;u.push(C(v+22+75*(26>v)-0));e=I(B/e)}u.push(C(e+22+75*(26>e)-0));n=r(f,H,l==g);f=0;++l}++f;++d}return u.join("")}var t="object"==typeof a&&a,m="object"==typeof q&&q&&q.o==t&&q,B="object"==typeof k&&k;B.global!==B&&B.window!==B||(g=B);var K,D=2147483647,L=36,z=1,F=26,u=38,N=700,J=72,E=128,G="-",O=/^xn--/,P=/[^ -~]/,v=/\x2E|\u3002|\uFF0E|\uFF61/g,
y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=L-z,I=Math.floor,C=String.fromCharCode,B={version:"1.2.4",EE:{decode:b,encode:l},decode:e,encode:p,xE:function(b){return f(b,function(b){return P.test(b)?"xn--"+p(b):b})},yE:function(b){return f(b,function(b){return O.test(b)?e(b.slice(4).toLowerCase()):b})}};if(t&&!t.nodeType)if(m)m.o=B;else for(K in B)B.hasOwnProperty(K)&&(t[K]=B[K]);else g.Oz=
B}(this)}).call(this,"undefined"!=typeof C?C:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,q){q.o=function(k,g,c,d){c=c||"=";var f={};if("string"!=typeof k||0===k.length)return f;var b=/\+/g;k=k.split(g||"&");g=1E3;d&&"number"==typeof d.gz&&(g=d.gz);d=k.length;0<g&&d>g&&(d=g);for(g=0;d>g;++g){var l,n,r,e;r=k[g].replace(b,"%20");e=r.indexOf(c);0<=e?(l=r.substr(0,e),n=r.substr(e+1)):(l=r,n="");r=decodeURIComponent(l);e=decodeURIComponent(n);Object.prototype.hasOwnProperty.call(f,
r)?a(f[r])?f[r].push(e):f[r]=[f[r],e]:f[r]=e}return f};var a=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],7:[function(e,q){function a(a){switch(typeof a){case "string":return a;case "boolean":return a?"true":"false";case "number":return isFinite(a)?a:"";default:return""}}function k(a,c){if(a.map)return a.map(c);for(var b=[],l=0;l<a.length;l++)b.push(c(a[l],l));return b}q.o=function(d,f,b,l){return f=f||"&",b=b||"=",null===d&&(d=void 0),"object"==typeof d?
k(c(d),function(c){var l=encodeURIComponent(a(c))+b;return g(d[c])?k(d[c],function(b){return l+encodeURIComponent(a(b))}).join(f):l+encodeURIComponent(a(d[c]))}).join(f):l?encodeURIComponent(a(l))+b+encodeURIComponent(a(d)):""};var g=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},c=Object.keys||function(a){var c=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c}},{}],8:[function(e,q,a){a.decode=a.parse=e("./decode");a.encode=a.stringify=
e("./encode")},{"./decode":6,"./encode":7}],9:[function(e,q,a){function k(){this.href=this.path=this.pathname=this.bd=this.search=this.hash=this.hostname=this.port=this.host=this.Ff=this.$f=this.protocol=null}function g(b,a,d){if(b&&c(b)&&b instanceof k)return b;var f=new k;return f.parse(b,a,d),f}function c(b){return"object"==typeof b&&null!==b}var d=e("punycode");a.parse=g;a.resolve=function(b,a){return g(b,!1,!0).resolve(a)};a.br=function(b,a){return b?g(b,!1,!0).br(a):a};a.format=function(b){return"string"==
typeof b&&(b=g(b)),b instanceof k?b.format():k.prototype.format.call(b)};a.EC=k;var f=/^([a-z0-9.+-]+:)/i,b=/:[0-9]*$/;q="{}|\\^`".split("").concat('<>"` \r\n\t'.split(""));var l=["'"].concat(q),n=["%","/","?",";","#"].concat(l),r=["/","?","#"],x=/^[a-z0-9A-Z_-]{0,63}$/,p=/^([a-z0-9A-Z_-]{0,63})(.*)$/,t={xy:!0,"javascript:":!0},H={xy:!0,"javascript:":!0},B={ID:!0,JD:!0,zD:!0,DD:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},K=e("querystring");k.prototype.parse=function(b,a,c){if("string"!=
typeof b)throw new TypeError("Parameter 'url' must be a string, not "+typeof b);b=b.trim();var g=f.exec(b);if(g){var g=g[0],k=g.toLowerCase();this.protocol=k;b=b.substr(g.length)}if(c||g||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var e="//"===b.substr(0,2);!e||g&&H[g]||(b=b.substr(2),this.$f=!0)}if(!H[g]&&(e||g&&!B[g])){e=-1;for(c=0;c<r.length;c++)g=b.indexOf(r[c]),-1!==g&&(-1===e||e>g)&&(e=g);var m;c=-1===e?b.lastIndexOf("@"):b.lastIndexOf("@",e);-1!==c&&(m=b.slice(0,c),b=b.slice(c+1),this.Ff=decodeURIComponent(m));
e=-1;for(c=0;c<n.length;c++)g=b.indexOf(n[c]),-1!==g&&(-1===e||e>g)&&(e=g);-1===e&&(e=b.length);this.host=b.slice(0,e);b=b.slice(e);this.xz();this.hostname=this.hostname||"";m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m){var E=this.hostname.split(/\./);c=0;for(e=E.length;e>c;c++)if((g=E[c])&&!g.match(x)){for(var q="",O=0,P=g.length;P>O;O++)q+=127<g.charCodeAt(O)?"x":g[O];if(!q.match(x)){e=E.slice(0,c);c=E.slice(c+1);(g=g.match(p))&&(e.push(g[1]),c.unshift(g[2]));c.length&&
(b="/"+c.join(".")+b);this.hostname=e.join(".");break}}}if(this.hostname=255<this.hostname.length?"":this.hostname.toLowerCase(),!m){g=this.hostname.split(".");E=[];for(c=0;c<g.length;++c)e=g[c],E.push(e.match(/[^A-Za-z0-9_-]/)?"xn--"+d.encode(e):e);this.hostname=E.join(".")}c=this.port?":"+this.port:"";this.host=(this.hostname||"")+c;this.href+=this.host;m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!t[k])for(c=0,e=l.length;e>c;c++)m=l[c],g=encodeURIComponent(m),
g===m&&(g=escape(m)),b=b.split(m).join(g);c=b.indexOf("#");-1!==c&&(this.hash=b.substr(c),b=b.slice(0,c));c=b.indexOf("?");if(-1!==c?(this.search=b.substr(c),this.bd=b.substr(c+1),a&&(this.bd=K.parse(this.bd)),b=b.slice(0,c)):a&&(this.search="",this.bd={}),b&&(this.pathname=b),B[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search)c=this.pathname||"",e=this.search||"",this.path=c+e;return this.href=this.format(),this};k.prototype.format=function(){var b=this.Ff||"";b&&
(b=encodeURIComponent(b),b=b.replace(/%3A/i,":"),b+="@");var a=this.protocol||"",d=this.pathname||"",f=this.hash||"",g=!1,l="";this.host?g=b+this.host:this.hostname&&(g=b+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(g+=":"+this.port));this.bd&&c(this.bd)&&Object.keys(this.bd).length&&(l=K.stringify(this.bd));b=this.search||l&&"?"+l||"";return a&&":"!==a.substr(-1)&&(a+=":"),this.$f||(!a||B[a])&&!1!==g?(g="//"+(g||""),d&&"/"!==d.charAt(0)&&(d="/"+d)):g||(g=""),
f&&"#"!==f.charAt(0)&&(f="#"+f),b&&"?"!==b.charAt(0)&&(b="?"+b),d=d.replace(/[?#]/g,function(b){return encodeURIComponent(b)}),b=b.replace("#","%23"),a+g+d+b+f};k.prototype.resolve=function(b){return this.br(g(b,!1,!0)).format()};k.prototype.br=function(b){if("string"==typeof b){var a=new k;a.parse(b,!1,!0);b=a}var c=new k;if(Object.keys(this).forEach(function(b){c[b]=this[b]},this),c.hash=b.hash,""===b.href)return c.href=c.format(),c;if(b.$f&&!b.protocol)return Object.keys(b).forEach(function(a){"protocol"!==
a&&(c[a]=b[a])}),B[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c;if(b.protocol&&b.protocol!==c.protocol){if(!B[b.protocol])return Object.keys(b).forEach(function(a){c[a]=b[a]}),c.href=c.format(),c;if(c.protocol=b.protocol,b.host||H[b.protocol])c.pathname=b.pathname;else{for(var d=(b.pathname||"").split("/");d.length&&!(b.host=d.shift()););b.host||(b.host="");b.hostname||(b.hostname="");""!==d[0]&&d.unshift("");2>d.length&&d.unshift("");c.pathname=d.join("/")}if(c.search=
b.search,c.bd=b.bd,c.host=b.host||"",c.Ff=b.Ff,c.hostname=b.hostname||b.host,c.port=b.port,c.pathname||c.search)c.path=(c.pathname||"")+(c.search||"");return c.$f=c.$f||b.$f,c.href=c.format(),c}var a=c.pathname&&"/"===c.pathname.charAt(0),f=b.host||b.pathname&&"/"===b.pathname.charAt(0),g=a=f||a||c.host&&b.pathname,l=c.pathname&&c.pathname.split("/")||[],d=b.pathname&&b.pathname.split("/")||[],n=c.protocol&&!B[c.protocol];if(n&&(c.hostname="",c.port=null,c.host&&(""===l[0]?l[0]=c.host:l.unshift(c.host)),
c.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(""===d[0]?d[0]=b.host:d.unshift(b.host)),b.host=null),a=a&&(""===d[0]||""===l[0])),f)c.host=b.host||""===b.host?b.host:c.host,c.hostname=b.hostname||""===b.hostname?b.hostname:c.hostname,c.search=b.search,c.bd=b.bd,l=d;else if(d.length)l||(l=[]),l.pop(),l=l.concat(d),c.search=b.search,c.bd=b.bd;else if(null!=b.search)return n&&(c.hostname=c.host=l.shift(),(n=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.Ff=n.shift(),c.host=c.hostname=
n.shift())),c.search=b.search,c.bd=b.bd,null===c.pathname&&null===c.search||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c;if(!l.length)return c.pathname=null,c.path=c.search?"/"+c.search:null,c.href=c.format(),c;for(var f=l.slice(-1)[0],d=(c.host||b.host)&&("."===f||".."===f)||""===f,r=0,p=l.length;0<=p;p--)f=l[p],"."==f?l.splice(p,1):".."===f?(l.splice(p,1),r++):r&&(l.splice(p,1),r--);if(!a&&!g)for(;r--;r)l.unshift("..");!a||""===l[0]||l[0]&&"/"===l[0].charAt(0)||
l.unshift("");d&&"/"!==l.join("/").substr(-1)&&l.push("");g=""===l[0]||l[0]&&"/"===l[0].charAt(0);n&&(c.hostname=c.host=g?"":l.length?l.shift():"",(n=c.host&&0<c.host.indexOf("@")?c.host.split("@"):!1)&&(c.Ff=n.shift(),c.host=c.hostname=n.shift()));return a=a||c.host&&l.length,a&&!g&&l.unshift(""),l.length?c.pathname=l.join("/"):(c.pathname=null,c.path=null),null===c.pathname&&null===c.search||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.Ff=b.Ff||c.Ff,c.$f=c.$f||b.$f,c.href=c.format(),
c};k.prototype.xz=function(){var a=this.host,c=b.exec(a);c&&(c=c[0],":"!==c&&(this.port=c.substr(1)),a=a.substr(0,a.length-c.length));a&&(this.hostname=a)}},{Oz:5,dE:8}],10:[function(e,q){function a(b,a,c,d,f){var l,g,n,k=0;l=a;for(g=c-d;c>l;l+=d)k+=(b[g]-b[l])*(b[l+1]+b[g+1]),g=l;if(f===0<k)for(l=a;c>l;l+=d)n=p(l,n);else for(l=c-d;l>=a;l-=d)n=p(l,n);return n}function k(b,a,c){c||(c=a);var d=a;do{a=!1;var f=d.T,g=d.next.T;if(b[f]===b[g]&&b[f+1]===b[g+1]||0===l(b,d.za.T,d.T,d.next.T)){if(d.za.next=
d.next,d.next.za=d.za,d.ad&&(d.ad.Kb=d.Kb),d.Kb&&(d.Kb.ad=d.ad),d=c=d.za,d===d.next)return null;a=!0}else d=d.next}while(a||d!==c);return c}function g(b,a,c,d,l,p,e,t){if(a){if(!t&&void 0!==l){var m=a,q=m;do null===q.z&&(q.z=f(b[q.T],b[q.T+1],l,p,e)),q.ad=q.za,q=q.Kb=q.next;while(q!==m);q.ad.Kb=null;q.ad=null;var m=q,E,G,O,P,v,y,A=1;do{q=m;P=m=null;for(v=0;q;){v++;G=q;for(E=y=0;A>E&&(y++,G=G.Kb,G);E++);for(E=A;0<y||0<E&&G;)0===y?(O=G,G=G.Kb,E--):0!==E&&G?q.z<=G.z?(O=q,q=q.Kb,y--):(O=G,G=G.Kb,E--):
(O=q,q=q.Kb,y--),P?P.Kb=O:m=O,O.ad=P,P=O;q=G}P.Kb=null;A*=2}while(1<v)}for(q=a;a.za!==a.next;){O=a.za;m=a.next;a:{G=a.za.T;E=a.T;P=a.next.T;v=b[G];y=b[G+1];var A=b[E],I=b[E+1],C=b[P],W=b[P+1];E=v*I-y*A;var Z=v*W-y*C,aa=E-Z-(C*I-W*A);if(0>=aa)G=!1;else{var T=void 0,Q=void 0,X=void 0,U=void 0,V=void 0,Y=void 0,R=void 0,ca=W-y,da=v-C,ea=y-I,fa=A-v;if(void 0!==l){var ga=f(A>v?C>v?v:C:C>A?A:C,I>y?W>y?y:W:W>I?I:W,l,p,e);v=f(v>A?v>C?v:C:A>C?A:C,y>I?y>W?y:W:I>W?I:W,l,p,e);for(R=a.Kb;R&&R.z<=v;)if(T=R.T,R=
R.Kb,T!==G&&T!==P&&(Q=b[T],X=b[T+1],U=ca*Q+da*X-Z,0<=U&&(V=ea*Q+fa*X+E,0<=V&&(Y=aa-U-V,0<=Y&&(U&&V||U&&Y||V&&Y))))){G=!1;break a}for(R=a.ad;R&&R.z>=ga;)if(T=R.T,R=R.ad,T!==G&&T!==P&&(Q=b[T],X=b[T+1],U=ca*Q+da*X-Z,0<=U&&(V=ea*Q+fa*X+E,0<=V&&(Y=aa-U-V,0<=Y&&(U&&V||U&&Y||V&&Y))))){G=!1;break a}}else for(R=a.next.next;R!==a.za;)if(T=R.T,R=R.next,Q=b[T],X=b[T+1],U=ca*Q+da*X-Z,0<=U&&(V=ea*Q+fa*X+E,0<=V&&(Y=aa-U-V,0<=Y&&(U&&V||U&&Y||V&&Y)))){G=!1;break a}G=!0}}if(G)c.push(O.T/d),c.push(a.T/d),c.push(m.T/
d),m.za=O,O.next=m,a.ad&&(a.ad.Kb=a.Kb),a.Kb&&(a.Kb.ad=a.ad),q=a=m.next;else if(a=m,a===q){if(t)if(1===t){t=b;G=a;a=c;O=d;q=G;do P=q.za,m=q.next.next,P.T!==m.T&&n(t,P.T,q.T,q.next.T,m.T)&&r(t,P,m)&&r(t,m,P)&&(a.push(P.T/O),a.push(q.T/O),a.push(m.T/O),P.next=m,m.za=P,G=q.ad,q=q.Kb&&q.Kb.Kb,G&&(G.Kb=q),q&&(q.ad=G),q=G=m),q=q.next;while(q!==G);a=q;g(b,a,c,d,l,p,e,2)}else{if(2===t)a:{t=a;do{for(O=t.next.next;O!==t.za;){if(m=t.T!==O.T){m=void 0;b:{m=t.T;q=O.T;G=t;do{P=G.T;v=G.next.T;if(P!==m&&v!==m&&P!==
q&&v!==q&&n(b,P,v,m,q)){m=!0;break b}G=G.next}while(G!==t);m=!1}q=void 0;if(q=!m&&r(b,t,O)&&r(b,O,t)){P=t.T;v=O.T;m=t;q=!1;G=(b[P]+b[v])/2;P=(b[P+1]+b[v+1])/2;do v=m.T,y=m.next.T,b[v+1]>P!=b[y+1]>P&&G<(b[y]-b[v])*(P-b[v+1])/(b[y+1]-b[v+1])+b[v]&&(q=!q),m=m.next;while(m!==t)}m=q}if(m){a=x(t,O);t=k(b,t,t.next);a=k(b,a,a.next);g(b,t,c,d,l,p,e);g(b,a,c,d,l,p,e);break a}O=O.next}t=t.next}while(t!==a)}}else g(b,k(b,a),c,d,l,p,e,1);break}}}}function c(c,f,l,g){var n,r,p,e,t=[];n=0;for(r=f.length;r>n;n++)p=
f[n]*g,e=r-1>n?f[n+1]*g:c.length,(p=k(c,a(c,p,e,g,!1)))&&t.push(b(c,p));t.sort(function(b,a){return c[b.T]-c[a.T]});for(n=0;n<t.length;n++)d(c,t[n],l),l=k(c,l,l.next);return l}function d(b,a,c){var d;var f,l,g=c,n=a.T,p=b[n],n=b[n+1],e=-(1/0);do{if(f=g.T,l=g.next.T,n<=b[f+1]&&n>=b[l+1]){var t=b[f]+(n-b[f+1])*(b[l]-b[f])/(b[l+1]-b[f+1]);p>=t&&t>e&&(e=t,d=b[f]<b[l]?g:g.next)}g=g.next}while(g!==c);if(d){var m,q,P,v,y;c=b[d.T];g=b[d.T+1];f=p*g-n*c;l=p*n-n*e;for(var t=n-n,A=p-e,I=n-g,C=c-p,W=f-l-(e*g-
n*c),Z=0>=W?-1:1,R=d,Q=1/0,g=d.next;g!==R;)e=b[g.T],m=b[g.T+1],q=p-e,0<=q&&e>=c&&(P=(t*e+A*m-l)*Z,0<=P&&(v=(I*e+C*m+f)*Z,0<=v&&0<=W*Z-P-v&&(y=Math.abs(n-m)/q,Q>y&&r(b,g,a)&&(d=g,Q=y)))),g=g.next}else d=null;if(c=d)a=x(c,a),k(b,a,a.next)}function f(b,a,c,d,f){return b=1E3*(b-c)/f,b=16711935&(b|b<<8),b=252645135&(b|b<<4),b=858993459&(b|b<<2),b=1431655765&(b|b<<1),a=1E3*(a-d)/f,a=16711935&(a|a<<8),a=252645135&(a|a<<4),a=858993459&(a|a<<2),a=1431655765&(a|a<<1),b|a<<1}function b(b,a){var c=a,d=a;do b[c.T]<
b[d.T]&&(d=c),c=c.next;while(c!==a);return d}function l(b,a,c,d){b=(b[c+1]-b[a+1])*(b[d]-b[c])-(b[c]-b[a])*(b[d+1]-b[c+1]);return 0<b?1:0>b?-1:0}function n(b,a,c,d,f){return l(b,a,c,d)!==l(b,a,c,f)&&l(b,d,f,a)!==l(b,d,f,c)}function r(b,a,c){return-1===l(b,a.za.T,a.T,a.next.T)?-1!==l(b,a.T,c.T,a.next.T)&&-1!==l(b,a.T,a.za.T,c.T):-1===l(b,a.T,c.T,a.za.T)||-1===l(b,a.T,a.next.T,c.T)}function x(b,a){var c=new t(b.T),d=new t(a.T),f=b.next,l=a.za;return b.next=a,a.za=b,c.next=f,f.za=c,d.next=c,c.za=d,l.next=
d,d.za=l,d}function p(b,a){var c=new t(b);return a?(c.next=a.next,c.za=a,a.next.za=c,a.next=c):(c.za=c,c.next=c),c}function t(b){this.T=b;this.Kb=this.ad=this.z=this.next=this.za=null}q.o=function(b,d,f){f=f||2;var l=d&&d.length,n=l?d[0]*f:b.length,r=k(b,a(b,0,n,f,!0)),p=[];if(!r)return p;var e,t,m,x;if(l&&(r=c(b,d,r,f)),b.length>80*f){e=d=b[0];t=l=b[1];for(var q=f;n>q;q+=f)m=b[q],x=b[q+1],e>m&&(e=m),t>x&&(t=x),m>d&&(d=m),x>l&&(l=x);m=Math.max(d-e,l-t)}return g(b,r,p,f,e,t,m),p}},{}],11:[function(e,
q){function a(a,d,f){this.qc=a;this.context=d;this.Rd=f||!1}function k(){}var g="function"!=typeof Object.create?"~":!1;k.prototype.fb=void 0;k.prototype.zq=function(a){a=g?g+a:a;return!(!this.fb||!this.fb[a])};k.prototype.wb=function(a,d,f,b,l,n){var k=g?g+a:a;if(!this.fb||!this.fb[k])return!1;var e,p=this.fb[k],t=arguments.length;if("function"==typeof p.qc){switch(p.Rd&&this.removeListener(a,p.qc,void 0,!0),t){case 1:return p.qc.call(p.context),!0;case 2:return p.qc.call(p.context,d),!0;case 3:return p.qc.call(p.context,
d,f),!0;case 4:return p.qc.call(p.context,d,f,b),!0;case 5:return p.qc.call(p.context,d,f,b,l),!0;case 6:return p.qc.call(p.context,d,f,b,l,n),!0}k=1;for(e=Array(t-1);t>k;k++)e[k-1]=arguments[k];p.qc.apply(p.context,e)}else for(var m,B=p.length,k=0;B>k;k++)switch(p[k].Rd&&this.removeListener(a,p[k].qc,void 0,!0),t){case 1:p[k].qc.call(p[k].context);break;case 2:p[k].qc.call(p[k].context,d);break;case 3:p[k].qc.call(p[k].context,d,f);break;default:if(!e)for(m=1,e=Array(t-1);t>m;m++)e[m-1]=arguments[m];
p[k].qc.apply(p[k].context,e)}return!0};k.prototype.Th=function(c,d,f){d=new a(d,f||this);c=g?g+c:c;return this.fb||(this.fb=g?{}:Object.create(null)),this.fb[c]?this.fb[c].qc?this.fb[c]=[this.fb[c],d]:this.fb[c].push(d):this.fb[c]=d,this};k.prototype.Rd=function(c,d,f){d=new a(d,f||this,!0);c=g?g+c:c;return this.fb||(this.fb=g?{}:Object.create(null)),this.fb[c]?this.fb[c].qc?this.fb[c]=[this.fb[c],d]:this.fb[c].push(d):this.fb[c]=d,this};k.prototype.removeListener=function(a,d,f,b){a=g?g+a:a;if(!this.fb||
!this.fb[a])return this;var l=this.fb[a],n=[];if(d)if(l.qc)(l.qc!==d||b&&!l.Rd||f&&l.context!==f)&&n.push(l);else for(var k=0,e=l.length;e>k;k++)(l[k].qc!==d||b&&!l[k].Rd||f&&l[k].context!==f)&&n.push(l[k]);return n.length?this.fb[a]=1===n.length?n[0]:n:delete this.fb[a],this};k.prototype.Vz=function(a){return this.fb?(a?delete this.fb[g?g+a:a]:this.fb=g?{}:Object.create(null),this):this};k.prototype.dl=k.prototype.removeListener;k.prototype.addListener=k.prototype.Th;k.Si=g;q.o=k},{}],12:[function(e,
q){q.o=Object.Ik||function(a,k){var g,c,d;if(null==a)throw new TypeError("Object.assign cannot be called with null or undefined");d=Object(a);for(var f=1;f<arguments.length;f++){g=arguments[f];c=Object.keys(Object(g));for(var b=0;b<c.length;b++)d[c[b]]=g[c[b]]}return d}},{}],13:[function(e,q){(function(a){!function(){function k(b,a){function c(){var d=this,f=Array.prototype.slice.call(arguments),l=f.pop();return b(a,function(b,a){b.apply(d,f.concat([a]))},l)}return 2<arguments.length?c.apply(this,
Array.prototype.slice.call(arguments,2)):c}function g(b){return function(a){a.apply(null,Array.prototype.slice.call(arguments,1).concat([function(a){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(a?console.error&&console.error(a):console[b]&&D(c,function(a){console[b](a)}))}]))}}function c(b,a,c,d){var f=[];b(a,function(b,a){c(b,function(b,c){f=f.concat(c||[]);a(b)})},function(b){d(b,f)})}function d(b,a,c){if(c=c||function(){},J(a))b.map(a,function(b,a){b&&b(function(b){var c=
Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);a.call(null,b,c)})},c);else{var d={};b.Pc(m(a),function(b,c){a[b](function(a){var f=Array.prototype.slice.call(arguments,1);1>=f.length&&(f=f[0]);d[b]=f;c(a)})},function(b){c(b,d)})}}function f(b,a,c,d){b(a,function(b,a){c(b,function(c){c?(d(b),d=function(){}):a()})},function(){d()})}function b(b,a,c,d){var f=[];a=K(a,function(b,a){return{index:a,value:b}});b(a,function(b,a){c(b.value,function(c){c||f.push(b);a()})},function(){d(K(f.sort(function(b,
a){return b.index-a.index}),function(b){return b.value}))})}function l(b,a,c,d){var f=[];a=K(a,function(b,a){return{index:a,value:b}});b(a,function(b,a){c(b.value,function(c){c&&f.push(b);a()})},function(){d(K(f.sort(function(b,a){return b.index-a.index}),function(b){return b.value}))})}function n(b,a,c,d){if(a=K(a,function(b,a){return{index:a,value:b}}),d){var f=[];b(a,function(b,a){c(b.value,function(c,d){f[b.index]=d;a(c)})},function(b){d(b,f)})}else b(a,function(b,a){c(b.value,function(b){a(b)})})}
function r(b){return function(){return b.apply(null,[u.gf].concat(Array.prototype.slice.call(arguments)))}}function e(b,a){return function(){return a.apply(null,[t(b)].concat(Array.prototype.slice.call(arguments)))}}function p(b){return function(){return b.apply(null,[u.Pc].concat(Array.prototype.slice.call(arguments)))}}function t(b){return function(a,c,d){if(d=d||function(){},!a.length||0>=b)return d();var f=0,l=0,g=0;!function S(){if(f>=a.length)return d();for(;b>g&&l<a.length;)l+=1,g+=1,c(a[l-
1],function(b){b?(d(b),d=function(){}):(f+=1,--g,f>=a.length?d():S())})}()}}function m(b){if(Object.keys)return Object.keys(b);var a=[],c;for(c in b)b.hasOwnProperty(c)&&a.push(c);return a}function B(b,a){var c=!0;return b.reduce?b.reduce(a,c):(D(b,function(b,d,f){c=a(c,b,d,f)}),c)}function K(b,a){if(b.map)return b.map(a);var c=[];return D(b,function(b,d,f){c.push(a(b,d,f))}),c}function D(b,a){if(b.forEach)b.forEach(a);else for(var c=0;c<b.length;c+=1)a(b[c],c,b)}function C(b){var a=!1;return function(){if(a)throw Error("Callback was already called.");
a=!0;b.apply(z,arguments)}}var z,F,u={};z=this;null!=z&&(F=z.async);u.rz=function(){return z.async=F,u};var N=Object.prototype.toString,J=Array.isArray||function(b){return"[object Array]"===N.call(b)};"undefined"!=typeof a&&a.Bc?(u.Bc=a.Bc,u.setImmediate="undefined"!=typeof setImmediate?function(b){setImmediate(b)}:u.Bc):"function"==typeof setImmediate?(u.Bc=function(b){setImmediate(b)},u.setImmediate=u.Bc):(u.Bc=function(b){setTimeout(b,0)},u.setImmediate=u.Bc);u.Pc=function(b,a,c){function d(a){a?
(c(a),c=function(){}):(f+=1,f>=b.length&&c())}if(c=c||function(){},!b.length)return c();var f=0;D(b,function(b){a(b,C(d))})};u.forEach=u.Pc;u.gf=function(b,a,c){function d(){a(b[f],function(a){a?(c(a),c=function(){}):(f+=1,f>=b.length?c():d())})}if(c=c||function(){},!b.length)return c();var f=0;d()};u.by=u.gf;u.fq=function(b,a,c,d){t(a).apply(null,[b,c,d])};u.ay=u.fq;u.map=p(n);u.$k=r(n);u.fz=function(b,a,c,d){return e(a,n)(b,c,d)};u.reduce=function(b,a,c,d){u.gf(b,function(b,d){c(a,b,function(b,
c){a=c;d(b)})},function(b){d(b,a)})};u.ry=u.reduce;u.Zx=u.reduce;u.reduceRight=function(b,a,c,d){b=K(b,function(b){return b}).reverse();u.reduce(b,a,c,d)};u.$x=u.reduceRight;u.filter=p(l);u.hq=r(l);u.select=u.filter;u.xA=u.hq;u.reject=p(b);u.Uz=r(b);u.Mx=p(f);u.Nx=r(f);u.some=function(b,a,c){u.Pc(b,function(b,d){a(b,function(b){b&&(c(!0),c=function(){});d()})},function(){c(!1)})};u.Tw=u.some;u.every=function(b,a,c){u.Pc(b,function(b,d){a(b,function(b){b||(c(!1),c=function(){});d()})},function(){c(!0)})};
u.all=u.every;u.EA=function(b,a,c){u.map(b,function(b,c){a(b,function(a,d){a?c(a):c(null,{value:b,yk:d})})},function(b,a){if(b)return c(b);c(null,K(a.sort(function(b,a){var c=b.yk,d=a.yk;return d>c?-1:c>d?1:0}),function(b){return b.value}))})};u.Xw=function(b,a){function c(){l--;D(n.slice(0),function(b){b()})}function d(b){n.unshift(b)}a=a||function(){};var f=m(b),l=f.length;if(!l)return a();var g={},n=[];d(function(){if(!l){var b=a;a=function(){};b(null,g)}});D(f,function(f){function l(){return B(e,
function(b,a){return b&&g.hasOwnProperty(a)})&&!g.hasOwnProperty(f)}function k(b){var d=Array.prototype.slice.call(arguments,1);if(1>=d.length&&(d=d[0]),b){var l={};D(m(g),function(b){l[b]=g[b]});l[f]=d;a(b,l);a=function(){}}else g[f]=d,u.setImmediate(c)}var r=J(b[f])?b[f]:[b[f]],e=r.slice(0,Math.abs(r.length-1))||[];if(l())r[r.length-1](k,g);else{var p=function(){if(l()){a:for(var b=p,a=0;a<n.length;a+=1)if(n[a]===b){n.splice(a,1);break a}r[r.length-1](k,g)}};d(p)}})};u.aA=function(b,a,c){function d(l,
g){function n(b,a){return function(c){b(function(b,d){c(!b||a,{gq:b,result:d})},g)}}for(;b;)f.push(n(a,!--b));u.hr(f,function(b,a){a=a[a.length-1];(l||c)(a.gq,a.result)})}var f=[];"function"==typeof b&&(c=a,a=b,b=5);b=parseInt(b,10)||5;return c?d():d};u.gB=function(b,a){function c(b){return function(d){if(d)a.apply(null,arguments),a=function(){};else{var f=Array.prototype.slice.call(arguments,1),l=b.next();f.push(l?c(l):a);u.setImmediate(function(){b.apply(null,f)})}}}if(a=a||function(){},!J(b))return a(Error("First argument to waterfall must be an array of functions"));
if(!b.length)return a();c(u.iterator(b))()};u.vz=function(b,a){d({map:u.map,Pc:u.Pc},b,a)};u.wz=function(b,a,c){d({map:e(a,n),Pc:t(a)},b,c)};u.hr=function(b,a){if(a=a||function(){},J(b))u.$k(b,function(b,a){b&&b(function(b){var c=Array.prototype.slice.call(arguments,1);1>=c.length&&(c=c[0]);a.call(null,b,c)})},a);else{var c={};u.gf(m(b),function(a,d){b[a](function(b){var f=Array.prototype.slice.call(arguments,1);1>=f.length&&(f=f[0]);c[a]=f;d(b)})},function(b){a(b,c)})}};u.iterator=function(b){function a(c){function d(){return b.length&&
b[c].apply(null,arguments),d.next()}return d.next=function(){return c<b.length-1?a(c+1):null},d}return a(0)};u.apply=function(b){var a=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,a.concat(Array.prototype.slice.call(arguments)))}};u.concat=p(c);u.Fx=r(c);u.qr=function(b,a,c){b()?a(function(d){return d?c(d):void u.qr(b,a,c)}):c()};u.Zp=function(b,a,c){b(function(d){if(d)return c(d);a.apply(null,Array.prototype.slice.call(arguments,1))?u.Zp(b,a,c):c()})};u.nr=function(b,
a,c){b()?c():a(function(d){return d?c(d):void u.nr(b,a,c)})};u.Yp=function(b,a,c){b(function(d){if(d)return c(d);a.apply(null,Array.prototype.slice.call(arguments,1))?c():u.Yp(b,a,c)})};u.Ln=function(b,a){function c(b,a,d,f){b.gc||(b.gc=!0);J(a)||(a=[a]);0==a.length?u.setImmediate(function(){b.Ub&&b.Ub()}):D(a,function(a){a={data:a,Md:"function"==typeof f?f:null};d?b.gb.unshift(a):b.gb.push(a);b.yd&&b.gb.length===b.uh&&b.yd();u.setImmediate(b.xd)})}void 0===a&&(a=1);var d=0,f={gb:[],uh:a,yd:null,
empty:null,Ub:null,gc:!1,paused:!1,push:function(b,a){c(f,b,!1,a)},Lt:function(){f.Ub=null;f.gb=[]},unshift:function(b,a){c(f,b,!0,a)},xd:function(){if(!f.paused&&d<f.uh&&f.gb.length){var a=f.gb.shift();f.empty&&0===f.gb.length&&f.empty();d+=1;b(a.data,C(function(){--d;a.Md&&a.Md.apply(a,arguments);f.Ub&&0===f.gb.length+d&&f.Ub();f.xd()}))}},length:function(){return f.gb.length},Nn:function(){return d},ly:function(){return 0===f.gb.length+d},pause:function(){!0!==f.paused&&(f.paused=!0,f.xd())},$z:function(){!1!==
f.paused&&(f.paused=!1,f.xd())}};return f};u.Nz=function(b,a){function c(b,a){return b.ql-a.ql}function d(b,a,c){for(var f=-1,l=b.length-1;l>f;){var g=f+(l-f+1>>>1);0<=c(a,b[g])?f=g:l=g-1}return f}function f(b,a,l,g){b.gc||(b.gc=!0);J(a)||(a=[a]);0==a.length?u.setImmediate(function(){b.Ub&&b.Ub()}):D(a,function(a){a={data:a,ql:l,Md:"function"==typeof g?g:null};b.gb.splice(d(b.gb,a,c)+1,0,a);b.yd&&b.gb.length===b.uh&&b.yd();u.setImmediate(b.xd)})}var l=u.Ln(b,a);return l.push=function(b,a,c){f(l,b,
a,c)},delete l.unshift,l};u.Dx=function(b,a){var c=!1,d=[],f={gb:d,Az:a,yd:null,empty:null,Ub:null,xh:!0,push:function(b,c){J(b)||(b=[b]);D(b,function(b){d.push({data:b,Md:"function"==typeof c?c:null});f.xh=!1;f.yd&&d.length===a&&f.yd()});u.setImmediate(f.xd)},xd:function A(){if(!c){if(0===d.length)return f.Ub&&!f.xh&&f.Ub(),void(f.xh=!0);var l="number"==typeof a?d.splice(0,a):d.splice(0,d.length),g=K(l,function(b){return b.data});f.empty&&f.empty();c=!0;b(g,function(){c=!1;var b=arguments;D(l,function(a){a.Md&&
a.Md.apply(null,b)});A()})}},length:function(){return d.length},Nn:function(){return c}};return f};u.log=g("log");u.dir=g("dir");u.kz=function(b,a){function c(){var l=Array.prototype.slice.call(arguments),g=l.pop(),n=a.apply(null,l);n in d?u.Bc(function(){g.apply(null,d[n])}):n in f?f[n].push(g):(f[n]=[g],b.apply(null,l.concat([function(){d[n]=arguments;var b=f[n];delete f[n];for(var a=0,c=b.length;c>a;a++)b[a].apply(null,arguments)}])))}var d={},f={};a=a||function(b){return b};return c.sd=d,c.mr=
b,c};u.WA=function(b){return function(){return(b.mr||b).apply(null,arguments)}};u.OA=function(b,a,c){for(var d=[],f=0;b>f;f++)d.push(f);return u.map(d,a,c)};u.PA=function(b,a,c){for(var d=[],f=0;b>f;f++)d.push(f);return u.$k(d,a,c)};u.gr=function(){var b=arguments;return function(){var a=this,c=Array.prototype.slice.call(arguments),d=c.pop();u.reduce(b,c,function(b,c,d){c.apply(a,b.concat([function(){d(arguments[0],Array.prototype.slice.call(arguments,1))}]))},function(b,c){d.apply(a,[b].concat(c))})}};
u.Ex=function(){return u.gr.apply(null,Array.prototype.reverse.call(arguments))};u.Uw=p(k);u.Vw=r(k);u.dy=function(b,a){function c(d){if(d){if(a)return a(d);throw d;}b(c)}c()};"undefined"!=typeof q&&q.o?q.o=u:z.async=u}()}).call(this,e("_process"))},{As:4}],14:[function(e,q,a){arguments[4][11][0].apply(a,arguments)},{lD:11}],15:[function(e,q){function a(a,b){d.call(this);b=b||10;this.cf=a||"";this.km=this.Jn=0;this.Xv=[];this.js=[];this.Yv=this.nw.bind(this);this.Zv=this.vw.bind(this);this.ki=[];
this.hm=0;this.og=k.Ln(this.Yv,b);this.Wh={}}var k=e("async"),g=e("url"),c=e("./Resource"),d=e("eventemitter3");a.prototype=Object.create(d.prototype);a.prototype.constructor=a;q.o=a;a.prototype.add=function(a,b,d,g){if(Array.isArray(a)){for(b=0;b<a.length;++b)this.add(a[b]);return this}if("object"==typeof a&&(g=b||a.Md||a.el,d=a,b=a.url,a=a.name||a.key||a.url),"string"!=typeof b&&(g=d,d=b,b=a),"string"!=typeof b)throw Error("No url passed to add resource to loader.");if("function"==typeof d&&(g=
d,d=null),this.Wh[a])throw Error('Resource with name "'+a+'" already exists.');return b=this.hw(b),this.Wh[a]=new c(a,b,d),"function"==typeof g&&this.Wh[a].Rd("afterMiddleware",g),this.hm++,this.og.gc?(this.og.push(this.Wh[a]),this.km=(100-this.Jn)/(this.og.length()+this.og.Nn())):(this.ki.push(this.Wh[a]),this.km=100/this.ki.length),this};a.prototype.hw=function(a){var b=g.parse(a);return b.protocol||0===b.pathname.indexOf("//")?a:this.cf.length&&this.cf.lastIndexOf("/")!==this.cf.length-1&&a.lastIndexOf("/")!==
a.length-1?this.cf+"/"+a:this.cf+a};a.prototype.use=function(a){return this.js.push(a),this};a.prototype.reset=function(){this.km=this.Jn=0;this.hm=this.ki.length=0;this.og.Lt();this.og.gc=!1;this.Wh={}};a.prototype.load=function(a){if("function"==typeof a&&this.Rd("complete",a),this.og.gc)return this;this.wb("start",this);for(a=0;a<this.ki.length;++a)this.og.push(this.ki[a]);return this.ki.length=0,this};a.prototype.nw=function(a,b){var c=this;a.os=b;this.Fs(a,this.Xv,function(){a.load(c.Zv)})};
a.prototype.tw=function(){this.wb("complete",this,this.Wh)};a.prototype.vw=function(a){this.Jn+=this.km;this.wb("progress",this,a);a.error?this.wb("error",a.error,this,a):this.wb("load",this,a);this.Fs(a,this.js,function(){a.wb("afterMiddleware",a);this.hm--;0===this.hm&&this.tw()});a.os()};a.prototype.Fs=function(a,b,c){var d=this;k.gf(b,function(b,c){b.call(d,a,c)},c.bind(this,a))};a.Gc=c.Gc;a.gs=c.gs;a.ab=c.ab},{"./Resource":16,async:13,Ah:14,url:9}],16:[function(e,q){function a(b,a,d){if(c.call(this),
d=d||{},"string"!=typeof b||"string"!=typeof a)throw Error("Both name and url are required for constructing a resource.");this.name=b;this.url=a;this.uy=0===this.url.indexOf("data:");this.data=null;this.crossOrigin=!0===d.crossOrigin?"anonymous":null;this.nn=d.nn||this.gw();this.Be=d.Be;this.Xb=this.error=null;this.ln=this.Kt=this.Jt=!1;this.os=null;this.Rj=this.complete.bind(this);this.Vo=this.uw.bind(this);this.ji=this.yw.bind(this);this.Wo=this.Iw.bind(this);this.ks=this.Hw.bind(this);this.Xo=
this.Jw.bind(this);this.$v=this.Gw.bind(this)}function k(b){return b.toString().replace("object ","")}function g(b,a,c){a&&0===a.indexOf(".")&&(a=a.substring(1));a&&(b[a]=c)}var c=e("eventemitter3"),d=e("url"),f=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),b=null;a.prototype=Object.create(c.prototype);a.prototype.constructor=a;q.o=a;a.prototype.complete=function(){this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this.Vo),this.data.removeEventListener("load",
this.Rj),this.data.removeEventListener("progress",this.ji),this.data.removeEventListener("canplaythrough",this.Rj));this.Xb&&(this.Xb.removeEventListener?(this.Xb.removeEventListener("error",this.Wo),this.Xb.removeEventListener("abort",this.ks),this.Xb.removeEventListener("progress",this.ji),this.Xb.removeEventListener("load",this.Xo)):(this.Xb.onerror=null,this.Xb.ontimeout=null,this.Xb.onprogress=null,this.Xb.onload=null));this.wb("complete",this)};a.prototype.load=function(b){switch(this.wb("start",
this),b&&this.Rd("complete",b),"string"!=typeof this.crossOrigin&&(this.crossOrigin=this.fw(this.url)),this.nn){case a.Gc.IMAGE:this.mw();break;case a.Gc.AUDIO:this.ws("audio");break;case a.Gc.VIDEO:this.ws("video");break;default:f&&this.crossOrigin?this.ow():this.pw()}};a.prototype.mw=function(){this.data=new Image;this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin);this.data.src=this.url;this.ln=!0;this.data.addEventListener("error",this.Vo,!1);this.data.addEventListener("load",this.Rj,!1);
this.data.addEventListener("progress",this.ji,!1)};a.prototype.ws=function(b){if(this.data=document.createElement(b),Array.isArray(this.url))for(var a=0;a<this.url.length;++a)this.data.appendChild(this.ms(b,this.url[a]));else this.data.appendChild(this.ms(b,this.url));this["is"+b[0].toUpperCase()+b.substring(1)]=!0;this.data.addEventListener("error",this.Vo,!1);this.data.addEventListener("load",this.Rj,!1);this.data.addEventListener("progress",this.ji,!1);this.data.addEventListener("canplaythrough",
this.Rj,!1);this.data.load()};a.prototype.pw=function(){"string"!=typeof this.Be&&(this.Be=this.ps());var b=this.Xb=new XMLHttpRequest;b.open("GET",this.url,!0);b.responseType=this.Be===a.ab.JSON||this.Be===a.ab.$e?a.ab.Pj:this.Be;b.addEventListener("error",this.Wo,!1);b.addEventListener("abort",this.ks,!1);b.addEventListener("progress",this.ji,!1);b.addEventListener("load",this.Xo,!1);b.send()};a.prototype.ow=function(){"string"!=typeof this.Be&&(this.Be=this.ps());var b=this.Xb=new XDomainRequest;
b.timeout=5E3;b.onerror=this.Wo;b.ontimeout=this.$v;b.onprogress=this.ji;b.onload=this.Xo;b.open("GET",this.url,!0);setTimeout(function(){b.send()},0)};a.prototype.ms=function(b,a){var c;c||(c=b+"/"+a.substr(a.lastIndexOf(".")+1));var d=document.createElement("source");return d.src=a,d.type=c,d};a.prototype.uw=function(b){this.error=Error("Failed to load element using "+b.target.nodeName);this.complete()};a.prototype.yw=function(b){b&&b.lengthComputable&&this.wb("progress",this,b.loaded/b.total)};
a.prototype.Iw=function(){this.error=Error(k(this.Xb)+" Request failed. Status: "+this.Xb.status+', text: "'+this.Xb.statusText+'"');this.complete()};a.prototype.Hw=function(){this.error=Error(k(this.Xb)+" Request was aborted by the user.");this.complete()};a.prototype.Gw=function(){this.error=Error(k(this.Xb)+" Request timed out.");this.complete()};a.prototype.Jw=function(){var b=this.Xb,c=void 0!==b.status?b.status:200;if(200===c||204===c||0===c&&0<b.responseText.length)if(this.Be===a.ab.Pj)this.data=
b.responseText;else if(this.Be===a.ab.JSON)try{this.data=JSON.parse(b.responseText),this.Jt=!0}catch(d){this.error=Error("Error trying to parse loaded json:",d)}else if(this.Be===a.ab.$e)try{if(window.DOMParser)this.data=(new DOMParser).parseFromString(b.responseText,"text/xml");else{var f=document.createElement("div");f.innerHTML=b.responseText;this.data=f}this.Kt=!0}catch(g){this.error=Error("Error trying to parse loaded xml:",g)}else this.data=b.response||b.responseText;else this.error=Error("["+
b.status+"]"+b.statusText+":"+b.gE);this.complete()};a.prototype.fw=function(a){var c;if(0===a.indexOf("data:"))return"";c=c||window.location;b||(b=document.createElement("a"));b.href=a;a=d.parse(b.href);var f=!a.port&&""===c.port||a.port===c.port;return a.hostname===c.hostname&&f&&a.protocol===c.protocol?"":"anonymous"};a.prototype.ps=function(){return a.Si[this.ss()]||a.ab.Pj};a.prototype.gw=function(){return a.sd[this.ss()]||a.Gc.Wv};a.prototype.ss=function(){var b;b=this.url;if(this.uy){var a=
b.indexOf("/");b=b.substring(a+1,b.indexOf(";",a))}else a=b.indexOf("?"),-1!==a&&(b=b.substring(0,a)),b=b.substring(b.lastIndexOf(".")+1);return b};a.Gc={Wv:1,IMAGE:2,AUDIO:3,VIDEO:4};a.gs={CC:0,gC:1,TB:2,LOADING:3,DONE:4};a.ab={DEFAULT:"text",uB:"arraybuffer",Ze:"blob",$e:"document",JSON:"json",Pj:"text"};a.sd={iy:a.Gc.IMAGE,Jz:a.Gc.IMAGE,px:a.Gc.IMAGE,zy:a.Gc.IMAGE,yy:a.Gc.IMAGE,MA:a.Gc.IMAGE,NA:a.Gc.IMAGE,hB:a.Gc.IMAGE,LA:a.Gc.IMAGE};a.Si={LE:a.ab.$e,HD:a.ab.$e,GD:a.ab.$e,xml:a.ab.$e,wE:a.ab.$e,
BE:a.ab.$e,qE:a.ab.$e,iy:a.ab.Ze,Jz:a.ab.Ze,px:a.ab.Ze,zy:a.ab.Ze,yy:a.ab.Ze,MA:a.ab.Ze,NA:a.ab.Ze,hB:a.ab.Ze,LA:a.ab.Ze,json:a.ab.JSON,text:a.ab.Pj,CE:a.ab.Pj};a.hE=function(b,c){g(a.sd,b,c)};a.zA=function(b){g(a.Si,"fnt",b)}},{Ah:14,url:9}],17:[function(e,q){q.o={lw:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Tx:function(a){for(var k,g="",c=Array(4),d=0,f=0;d<a.length;){k=Array(3);for(f=0;f<k.length;f++)k[f]=d<a.length?255&a.charCodeAt(d++):0;switch(c[0]=k[0]>>2,c[1]=(3&
k[0])<<4|k[1]>>4,c[2]=(15&k[1])<<2|k[2]>>6,c[3]=63&k[2],d-(a.length-1)){case 2:c[3]=64;c[2]=64;break;case 1:c[3]=64}for(f=0;f<c.length;f++)g+=this.lw.charAt(c[f])}return g}}},{}],18:[function(e,q){q.o=e("./Loader");q.o.Mj=e("./Resource");q.o.nz={ZC:{memory:e("./middlewares/caching/memory")},yz:{blob:e("./middlewares/parsing/blob")}}},{"./Loader":15,"./Resource":16,"./middlewares/caching/memory":19,"./middlewares/parsing/blob":20}],19:[function(e,q){var a={};q.o=function(){return function(k,g){a[k.url]?
(k.data=a[k.url],k.complete()):(k.Rd("complete",function(){a[this.url]=this.data}),g())}}},{}],20:[function(e,q){var a=e("../../Resource"),k=e("../../b64");window.URL=window.URL||window.webkitURL;q.o=function(){return function(g,c){if(!g.data)return c();if(g.Xb&&g.Be===a.ab.Ze)if(window.Blob&&"string"!=typeof g.data){if(0===g.data.type.indexOf("image")){var d=URL.createObjectURL(g.data);g.blob=g.data;g.data=new Image;g.data.src=d;g.ln=!0;g.data.onload=function(){URL.revokeObjectURL(d);g.data.onload=
null;c()}}}else{var f=g.Xb.getResponseHeader("content-type");f&&0===f.indexOf("image")&&(g.data=new Image,g.data.src="data:"+f+";base64,"+k.Tx(g.Xb.responseText),g.ln=!0,g.data.onload=function(){g.data.onload=null;c()})}else c()}}},{"../../Resource":16,"../../b64":17}],21:[function(e,q){q.o={name:"pixi.js",version:"3.0.7",description:"Pixi.js is a fast lightweight 2D library that works across all devices.",JC:"Mat Groves",dD:["Chad Engler <chad@pantherdev.com>","Richard Davey <rdavey@gmail.com>"],
UD:"./src/index.js",FD:"http://goodboydigital.com/",XC:"https://github.com/GoodBoyDigital/pixi.js/issues",QD:"MIT",fE:{type:"git",url:"https://github.com/GoodBoyDigital/pixi.js.git"},scripts:{start:"gulp && gulp watch",test:"gulp && testem ci",YC:"gulp",kD:"jsdoc -c ./gulp/util/jsdoc.conf.json -R README.md"},files:["bin/","src/"],iD:{async:"^0.9.0",VC:"^1.4.0",Sx:"^2.0.1",Ah:"^1.1.0","object-assign":"^2.0.0","resource-loader":"^1.6.1"},jD:{rx:"^10.2.3",$C:"^3.0.0",gD:"^1.2.0",ED:"^3.9.0","gulp-cached":"^1.1.0",
"gulp-concat":"^2.5.2","gulp-debug":"^2.0.1","gulp-jshint":"^1.11.0","gulp-mirror":"^0.4.0","gulp-plumber":"^1.0.1","gulp-rename":"^1.2.2","gulp-sourcemaps":"^1.5.2","gulp-uglify":"^1.2.0","gulp-util":"^3.0.5","jaguarjs-jsdoc":"git+https://github.com/davidshimjs/jaguarjs-jsdoc.git",PD:"^3.3.0","jshint-summary":"^0.4.0",YD:"^1.1.1",ZD:"^2.2.5","require-dir":"^0.3.0","run-sequence":"^1.1.0",rE:"^0.8.3","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.1.0",IE:"^3.2.1"},rx:{transform:["brfs"]}}},{}],
22:[function(e,q){var a={VERSION:e("../../package.json").version,wv:2*Math.PI,kC:180/Math.PI,IB:Math.PI/180,Oo:.06,gi:{es:0,Qo:1,Xu:2},P:{Yd:0,bo:1,Tl:2,Ul:3,Ho:4,mo:5,Do:6,io:7,ho:8,zo:9,Lo:10,oo:11,ro:12,Ao:13,Ko:14,fo:15,Eo:16},le:{POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Ed:{DEFAULT:0,LINEAR:0,NEAREST:1},xv:/@(.+)x/,Jo:1,hv:1,no:{view:null,N:1,antialias:!1,cy:!1,sm:!1,eg:!1,backgroundColor:0,xk:!0,preserveDrawingBuffer:!1},nb:{Ij:0,Jj:1,ai:2,Cj:3,
Kj:4},Cv:2E3};q.o=a},{"../../package.json":21}],23:[function(e,q){function a(){g.call(this);this.children=[]}var k=e("../math"),g=e("./DisplayObject");e("../textures/RenderTexture");new k.ed;a.prototype=Object.create(g.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{width:{get:function(){return this.scale.x*this.hf().width},set:function(a){var d=this.hf().width;this.scale.x=0!==d?a/d:1;this.nd=a}},height:{get:function(){return this.scale.y*this.hf().height},set:function(a){var d=
this.hf().height;this.scale.y=0!==d?a/d:1;this.jd=a}}});a.prototype.mh=function(a){this.Ls(a,this.children.length)};a.prototype.Ls=function(a,d){if(a===this)return a;if(0<=d&&d<=this.children.length)return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(d,0,a),a.wb("added",this),a;throw Error(a+"addChildAt: The index "+d+" supplied is out of bounds "+this.children.length);};a.prototype.Ct=function(a){if(0>a||a>=this.children.length)throw Error("getChildAt: Supplied index "+a+
" does not exist in the child list, or the supplied DisplayObject is not a child of the caller");return this.children[a]};a.prototype.removeChild=function(a){a=this.children.indexOf(a);if(-1!==a)return this.uu(a)};a.prototype.uu=function(a){var d=this.Ct(a);return d.parent=null,this.children.splice(a,1),d.wb("removed",this),d};a.prototype.ar=function(){var a=this.children.length,d=a-0;if(0<d&&a>=d)for(a=this.children.splice(0,d),d=0;d<a.length;++d)a[d].parent=null;else if(0!==d||0!==this.children.length)throw new RangeError("removeChildren: numeric values are outside the acceptable range.");
};a.prototype.Dc=function(){if(this.visible){this.Ni();for(var a=0,d=this.children.length;d>a;++a)this.children[a].Dc()}};a.prototype.gt=a.prototype.Dc;a.prototype.$b=function(){if(!this.Kc){if(0===this.children.length)return k.lc.EMPTY;for(var a,d,f,b=1/0,g=1/0,n=-(1/0),r=-(1/0),e=!1,p=0,t=this.children.length;t>p;++p)this.children[p].visible&&(e=!0,a=this.children[p].$b(),b=b<a.x?b:a.x,g=g<a.y?g:a.y,d=a.width+a.x,f=a.height+a.y,n=n>d?n:d,r=r>f?r:f);if(!e)return k.lc.EMPTY;a=this.hd;a.x=b;a.y=g;
a.width=n-b;a.height=r-g;this.Kc=a}return this.Kc};a.prototype.Hx=a.prototype.$b;a.prototype.hf=function(){var a=this.sa;this.sa=k.ed.Bo;for(var d=0,f=this.children.length;f>d;++d)this.children[d].Dc();return this.sa=a,this.Kc=null,this.$b(k.ed.Bo)};a.prototype.Ud=function(a){if(this.visible&&!(0>=this.hb)&&this.xe){var d,f;if(this.kd||this.lg){a.Le.flush();this.lg&&a.Z.su(this,this.lg);this.kd&&a.Uf.sl(this,this.kd);a.Le.start();this.oi(a);d=0;for(f=this.children.length;f>d;d++)this.children[d].Ud(a);
a.Le.flush();this.kd&&a.Uf.nl(this,this.kd);this.lg&&a.Z.ou();a.Le.start()}else for(this.oi(a),d=0,f=this.children.length;f>d;++d)this.children[d].Ud(a)}};a.prototype.oi=function(){};a.prototype.lh=function(){};a.prototype.we=function(a){if(this.visible&&!(0>=this.alpha)&&this.xe){this.kd&&a.Uf.sl(this.kd,a);this.lh(a);for(var d=0,f=this.children.length;f>d;++d)this.children[d].we(a);this.kd&&a.Uf.nl(a)}};a.prototype.O=function(a){if(g.prototype.O.call(this),a)for(var d=0,f=this.children.length;f>
d;++d)this.children[d].O(a);this.ar();this.children=null}},{"../math":32,"../textures/RenderTexture":70,"./DisplayObject":24}],24:[function(e,q){function a(){g.call(this);this.position=new k.Eb;this.scale=new k.Eb(1,1);this.Xf=new k.Eb(0,0);this.rotation=0;this.alpha=1;this.xe=this.visible=!0;this.parent=null;this.hb=1;this.sa=new k.ed;this.bn=null;this.kp=0;this.Zo=1;this.hd=new k.lc(0,0,1,1);this.kd=this.Kc=null;this.am=!1}var k=e("../math");e("../textures/RenderTexture");var g=e("eventemitter3"),
c=e("../const");new k.ed;a.prototype=Object.create(g.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{x:{get:function(){return this.position.x},set:function(a){this.position.x=a}},y:{get:function(){return this.position.y},set:function(a){this.position.y=a}},KE:{get:function(){var a=this;do{if(!a.visible)return!1;a=a.parent}while(a);return!0}},xn:{get:function(){return this.kd},set:function(a){this.kd&&(this.kd.xe=!0);(this.kd=a)&&(this.kd.xe=!1)}},filters:{get:function(){return this.lg&&
this.lg.slice()},set:function(a){this.lg=a&&a.slice()}}});a.prototype.Dc=function(){var a,f,b,g,n,k,e=this.parent.sa,p=this.sa;this.rotation%c.wv?(this.rotation!==this.bA&&(this.bA=this.rotation,this.kp=Math.sin(this.rotation),this.Zo=Math.cos(this.rotation)),a=this.Zo*this.scale.x,f=this.kp*this.scale.x,b=-this.kp*this.scale.y,g=this.Zo*this.scale.y,n=this.position.x,k=this.position.y,(this.Xf.x||this.Xf.y)&&(n-=this.Xf.x*a+this.Xf.y*b,k-=this.Xf.x*f+this.Xf.y*g),p.j=a*e.j+f*e.g,p.ba=a*e.ba+f*e.d,
p.g=b*e.j+g*e.g,p.d=b*e.ba+g*e.d,p.da=n*e.j+k*e.g+e.da,p.aa=n*e.ba+k*e.d+e.aa):(a=this.scale.x,g=this.scale.y,n=this.position.x-this.Xf.x*a,k=this.position.y-this.Xf.y*g,p.j=a*e.j,p.ba=a*e.ba,p.g=g*e.g,p.d=g*e.d,p.da=n*e.j+k*e.g+e.da,p.aa=n*e.ba+k*e.d+e.aa);this.hb=this.alpha*this.parent.hb;this.Kc=null};a.prototype.Ni=a.prototype.Dc;a.prototype.$b=function(){return k.lc.EMPTY};a.prototype.hf=function(){return this.$b(k.ed.Bo)};a.prototype.Ud=function(){};a.prototype.we=function(){};a.prototype.O=
function(){this.bn=this.sa=this.kd=this.Kc=this.hd=this.parent=this.Xf=this.scale=this.position=null}},{"../const":22,"../math":32,"../textures/RenderTexture":70,Ah:11}],25:[function(e,q){function a(){k.call(this);this.yc=1;this.Ih=this.lineWidth=0;this.Jb=[];this.zs=this.cb=16777215;this.Mc=f.P.Yd;this.ib=null;this.pi={};this.tq=!1;this.Qp=0;this.mi=new d.lc(0,0,1,1);this.ya=!0;this.Jk=!1;this.th=!0;this.Rp=!1}var k=e("../display/Container");e("../textures/Texture");e("../renderers/canvas/utils/CanvasBuffer");
var g=e("../renderers/canvas/utils/CanvasGraphics"),c=e("./GraphicsData"),d=e("../math"),f=e("../const"),b=new d.Eb;a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{});a.prototype.clone=function(){var b=new a;b.xe=this.xe;b.yc=this.yc;b.lineWidth=this.lineWidth;b.Ih=this.Ih;b.cb=this.cb;b.Mc=this.Mc;b.tq=this.tq;b.Qp=this.Qp;b.ya=this.ya;b.Jk=this.Jk;b.Rp=this.Rp;for(var c=0;c<this.Jb.length;++c)b.Jb.push(this.Jb[c].clone());return b.ib=b.Jb[b.Jb.length-
1],b.Nu(),b};a.prototype.moveTo=function(b,a){return this.ot(new d.Sr([b,a])),this};a.prototype.lineTo=function(b,a){return this.ib.shape.I.push(b,a),this.ya=!0,this};a.prototype.quadraticCurveTo=function(b,a,c,d){this.ib?0===this.ib.shape.I.length&&(this.ib.shape.I=[0,0]):this.moveTo(0,0);var f,g,k=this.ib.shape.I;0===k.length&&this.moveTo(0,0);for(var e=k[k.length-2],m=k[k.length-1],q=0,C=1;20>=C;++C)q=C/20,f=e+(b-e)*q,g=m+(a-m)*q,k.push(f+(b+(c-b)*q-f)*q,g+(a+(d-a)*q-g)*q);return this.ya=this.th=
!0,this};a.prototype.bezierCurveTo=function(b,a,c,d,f,g){this.ib?0===this.ib.shape.I.length&&(this.ib.shape.I=[0,0]):this.moveTo(0,0);for(var k,e,m,q,C,z=this.ib.shape.I,F=z[z.length-2],u=z[z.length-1],N=0,J=1;20>=J;++J)N=J/20,k=1-N,e=k*k,m=e*k,q=N*N,C=q*N,z.push(m*F+3*e*N*b+3*k*q*c+C*f,m*u+3*e*N*a+3*k*q*d+C*g);return this.ya=this.th=!0,this};a.prototype.arcTo=function(b,a,c,d,f){this.ib?0===this.ib.shape.I.length&&this.ib.shape.I.push(b,a):this.moveTo(b,a);var g=this.ib.shape.I,k=g[g.length-1]-a,
e=g[g.length-2]-b;d=d-a;c=c-b;var m=Math.abs(k*c-e*d);if(1E-8>m||0===f)g[g.length-2]===b&&g[g.length-1]===a||g.push(b,a);else{var q=k*k+e*e,C=d*d+c*c,z=k*d+e*c,g=f*Math.sqrt(q)/m,m=f*Math.sqrt(C)/m,q=g*z/q,C=m*z/C,z=g*c+m*e,F=g*d+m*k;this.arc(z+b,F+a,f,Math.atan2(k*(m+q)-F,e*(m+q)-z),Math.atan2(d*(g+C)-F,c*(g+C)-z),e*d>c*k)}return this.ya=this.th=!0,this};a.prototype.arc=function(b,a,c,d,f,g){if(g=g||!1,d===f)return this;!g&&d>=f?f+=2*Math.PI:g&&f>=d&&(d+=2*Math.PI);f=g?-1*(d-f):f-d;var k=40*Math.ceil(Math.abs(f)/
(2*Math.PI));if(0===f)return this;var e=b+Math.cos(d)*c,m=a+Math.sin(d)*c;this.ib?g&&this.Ri?this.ib.shape.I.push(b,a):this.ib.shape.I.push(e,m):g&&this.Ri?this.moveTo(b,a):this.moveTo(e,m);g=this.ib.shape.I;f/=2*k;for(var e=2*f,m=Math.cos(f),q=Math.sin(f),k=k-1,C=k%1/k,z=0;k>=z;z++){var F=f+d+e*(z+C*z),u=Math.cos(F),F=-Math.sin(F);g.push((m*u+q*F)*c+b,(m*-F+q*u)*c+a)}return this.ya=this.th=!0,this};a.prototype.Li=function(b,a){this.Ri=!0;this.fillColor=b||0;this.yc=void 0===a?1:a;this.ib&&2>=this.ib.shape.I.length&&
(this.ib.fill=this.Ri,this.ib.fillColor=this.fillColor,this.ib.yc=this.yc)};a.prototype.zk=function(b,a,c,f){this.ot(new d.lc(b,a,c,f))};a.prototype.clear=function(){return this.lineWidth=0,this.Ri=!1,this.ya=!0,this.et=!0,this.Jb=[],this};a.prototype.oi=function(b){this.Jk&&(this.ya=!0,this.Jk=!1);b.Tg(b.plugins.en);b.plugins.en.Cc(this)};a.prototype.lh=function(b){if(!0!==this.tq){this.zs!==this.cb&&(this.ya=!0,this.zs=this.cb);var a=b.context,c=this.sa;this.Mc!==b.Nc&&(b.Nc=this.Mc,a.globalCompositeOperation=
b.U[b.Nc]);b=b.N;a.setTransform(c.j*b,c.ba*b,c.g*b,c.d*b,c.da*b,c.aa*b);g.Wz(this,a)}};a.prototype.$b=function(b){if(!this.Kc){if(!this.xe)return d.lc.EMPTY;this.th&&(this.Nu(),this.Jk=!0,this.Rp=!0,this.th=!1);var a=this.mi,c=a.x,f=a.width+a.x,g=a.y,k=a.height+a.y;b=b||this.sa;var e=b.j,m=b.ba,q=b.g,D=b.d,C=b.da,z=b.aa,F=e*f+q*k+C,a=D*k+m*f+z;b=e*c+q*k+C;var k=D*k+m*c+z,u=e*c+q*g+C,c=D*g+m*c+z,e=e*f+q*g+C,f=D*g+m*f+z,g=F,m=a,F=F>b?b:F,F=F>u?u:F,F=F>e?e:F,a=a>k?k:a,a=a>c?c:a,a=a>f?f:a,g=b>g?b:g,g=
u>g?u:g,m=k>m?k:m,m=c>m?c:m;this.hd.x=F;this.hd.width=(e>g?e:g)-F;this.hd.y=a;this.hd.height=(f>m?f:m)-a;this.Kc=this.hd}return this.Kc};a.prototype.Ke=function(a){this.sa.Tj(a,b);a=this.Jb;for(var c=0;c<a.length;c++){var d=a[c];if(d.fill&&d.shape&&d.shape.contains(b.x,b.y))return!0}return!1};a.prototype.Nu=function(){var b=1/0,a=-(1/0),c=1/0,d=-(1/0);if(this.Jb.length)for(var g,k,e,m,q,D=0;D<this.Jb.length;D++)if(e=this.Jb[D],k=e.type,q=e.lineWidth,g=e.shape,k===f.nb.Jj||k===f.nb.Kj)k=g.x-q/2,e=
g.y-q/2,m=g.width+q,q=g.height+q,b=b>k?k:b,a=k+m>a?k+m:a,c=c>e?e:c,d=e+q>d?e+q:d;else if(k===f.nb.ai)k=g.x,e=g.y,m=g.mb+q/2,q=g.mb+q/2,b=b>k-m?k-m:b,a=k+m>a?k+m:a,c=c>e-q?e-q:c,d=e+q>d?e+q:d;else if(k===f.nb.Cj)k=g.x,e=g.y,m=g.width+q/2,q=g.height+q/2,b=b>k-m?k-m:b,a=k+m>a?k+m:a,c=c>e-q?e-q:c,d=e+q>d?e+q:d;else for(g=g.I,m=0;m<g.length;m+=2)k=g[m],e=g[m+1],b=b>k-q?k-q:b,a=k+q>a?k+q:a,c=c>e-q?e-q:c,d=e+q>d?e+q:d;else d=c=a=b=0;D=this.Qp;this.mi.x=b-D;this.mi.width=a-b+2*D;this.mi.y=c-D;this.mi.height=
d-c+2*D};a.prototype.ot=function(b){this.ib&&2>=this.ib.shape.I.length&&this.Jb.pop();this.ib=null;b=new c(this.lineWidth,this.Ih,this.Fg,this.fillColor,this.yc,this.Ri,b);this.Jb.push(b);b.type===f.nb.Ij&&(b.shape.closed=b.shape.closed||this.Ri,this.ib=b);this.ya=this.th=!0};a.prototype.O=function(){k.prototype.O.apply(this,arguments);for(var b=0;b<this.Jb.length;++b)this.Jb[b].O();for(var a in this.mp)for(b=0;b<this.mp[a].data.length;++b)this.mp[a].data[b].O();this.mi=this.mp=this.ib=this.Jb=null}},
{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/canvas/utils/CanvasGraphics":45,"../textures/Texture":71,"./GraphicsData":26}],26:[function(e,q){function a(a,g,c,d,f,b,l){this.lineWidth=a;this.Ih=g;this.Fg=c;this.vs=g;this.fillColor=d;this.yc=f;this.qs=d;this.fill=b;this.shape=l;this.type=l.type}a.prototype.constructor=a;q.o=a;a.prototype.clone=function(){return new a(this.lineWidth,this.Ih,this.Fg,this.fillColor,this.yc,this.fill,this.shape)};
a.prototype.O=function(){this.shape=null}},{}],27:[function(e,q){function a(b){d.call(this,b);this.Ti=[];this.Vp=this.Cn=null;this.jz=200}var k=e("../../utils"),g=e("../../math"),c=e("../../const"),d=e("../../renderers/webgl/utils/ObjectRenderer"),f=e("../../renderers/webgl/WebGLRenderer"),b=e("./WebGLGraphicsData"),l=e("earcut");a.prototype=Object.create(d.prototype);a.prototype.constructor=a;q.o=a;f.Vh("graphics",a);a.prototype.Vf=function(){};a.prototype.O=function(){d.prototype.O.call(this);for(var b=
0;b<this.Ti.length;++b)this.Ti[b].O();this.Ti=null};a.prototype.Cc=function(b){var a,c=this.v,d=c.G,f=c.Db.plugins.Cn;b.ya&&this.Mu(b);var g=b.pi[d.id];c.Je.Zf(b.Mc);for(var l=0;l<g.data.length;l++)1===g.data[l].mode?(a=g.data[l],c.sj.tu(b,a),d.uniform1f(c.Db.Vp.m.alpha.Sb,b.hb*a.alpha),d.drawElements(d.TRIANGLE_FAN,4,d.UNSIGNED_SHORT,2*(a.$.length-4)),c.sj.pu(b,a)):(a=g.data[l],f=c.Db.Cn,c.Db.Yh(f),d.uniformMatrix3fv(f.m.vj.Sb,!1,b.sa.Ad()),d.uniformMatrix3fv(f.m.fc.Sb,!1,c.Oc.fc.Ad()),d.uniform3fv(f.m.cb.Sb,
k.Od(b.cb)),d.uniform1f(f.m.alpha.Sb,b.hb),d.bindBuffer(d.ARRAY_BUFFER,a.buffer),d.vertexAttribPointer(f.attributes.He,2,d.FLOAT,!1,24,0),d.vertexAttribPointer(f.attributes.ri,4,d.FLOAT,!1,24,8),d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a.rc),d.drawElements(d.TRIANGLE_STRIP,a.$.length,d.UNSIGNED_SHORT,0))};a.prototype.Mu=function(b){var a=this.v.G,d=b.pi[a.id];d||(d=b.pi[a.id]={lastIndex:0,data:[],G:a});b.ya=!1;if(b.et){b.et=!1;for(a=0;a<d.data.length;a++){var f=d.data[a];f.reset();this.Ti.push(f)}d.data=
[];d.lastIndex=0}for(var g,a=d.lastIndex;a<b.Jb.length;a++){f=b.Jb[a];if(f.type===c.nb.Ij){if(f.I=f.shape.I.slice(),f.shape.closed&&(f.I[0]!==f.I[f.I.length-2]||f.I[1]!==f.I[f.I.length-1])&&f.I.push(f.I[0],f.I[1]),f.fill&&6<=f.I.length)f.I.length<2*this.jz?(g=this.xl(d,0),this.tx(f,g)||(g=this.xl(d,1),this.$s(f,g))):(g=this.xl(d,1),this.$s(f,g));0<f.lineWidth&&(g=this.xl(d,0),this.Jm(f,g))}else g=this.xl(d,0),f.type===c.nb.Jj?this.ux(f,g):f.type===c.nb.ai||f.type===c.nb.Cj?this.sx(f,g):f.type===c.nb.Kj&&
this.vx(f,g);d.lastIndex++}for(a=0;a<d.data.length;a++)g=d.data[a],g.ya&&g.upload()};a.prototype.xl=function(a,c){var d;return a.data.length?(d=a.data[a.data.length-1],(32E4<d.I.length||d.mode!==c||1===c)&&(d=this.Ti.pop()||new b(a.G),d.mode=c,a.data.push(d))):(d=this.Ti.pop()||new b(a.G),d.mode=c,a.data.push(d)),d.ya=!0,d};a.prototype.ux=function(b,a){var c=b.shape,d=c.x,f=c.y,g=c.width,c=c.height;if(b.fill){var l=k.Od(b.fillColor),e=b.yc,m=l[0]*e,q=l[1]*e,l=l[2]*e,z=a.I,C=a.$,u=z.length/6;z.push(d,
f);z.push(m,q,l,e);z.push(d+g,f);z.push(m,q,l,e);z.push(d,f+c);z.push(m,q,l,e);z.push(d+g,f+c);z.push(m,q,l,e);C.push(u,u,u+1,u+2,u+3,u+3)}b.lineWidth&&(e=b.I,b.I=[d,f,d+g,f,d+g,f+c,d,f+c,d,f],this.Jm(b,a),b.I=e)};a.prototype.vx=function(b,a){var c=b.shape,d=c.x,f=c.y,g=c.width,e=c.height,m=c.mb,c=[];if(c.push(d,f+m),this.Kn(d,f+e-m,d,f+e,d+m,f+e,c),this.Kn(d+g-m,f+e,d+g,f+e,d+g,f+e-m,c),this.Kn(d+g,f+m,d+g,f,d+g-m,f,c),this.Kn(d+m,f,d,f,d,f+m+1E-10,c),b.fill){for(var e=k.Od(b.fillColor),d=b.yc,f=
e[0]*d,g=e[1]*d,e=e[2]*d,m=a.I,q=a.$,C=m.length/6,z=l(c,null,2),F=0,F=0;F<z.length;F+=3)q.push(z[F]+C),q.push(z[F]+C),q.push(z[F+1]+C),q.push(z[F+2]+C),q.push(z[F+2]+C);for(F=0;F<c.length;F++)m.push(c[F],c[++F],f,g,e,d)}b.lineWidth&&(d=b.I,b.I=c,this.Jm(b,a),b.I=d)};a.prototype.Kn=function(b,a,c,d,f,g,l){var k,e,m,q;l=l||[];for(var C=0,u=0;20>=u;u++)C=u/20,k=b+(c-b)*C,e=a+(d-a)*C,m=c+(f-c)*C,q=d+(g-d)*C,k+=(m-k)*C,e+=(q-e)*C,l.push(k,e)};a.prototype.sx=function(b,a){var d,f,g=b.shape,l=g.x,e=g.y;
b.type===c.nb.ai?(d=g.mb,f=g.mb):(d=g.width,f=g.height);var g=2*Math.PI/40,m=0;if(b.fill){var m=k.Od(b.fillColor),q=b.yc,C=m[0]*q,z=m[1]*q,F=m[2]*q,u=a.I,N=a.$,J=u.length/6;N.push(J);for(m=0;41>m;m++)u.push(l,e,C,z,F,q),u.push(l+Math.sin(g*m)*d,e+Math.cos(g*m)*f,C,z,F,q),N.push(J++,J++);N.push(J-1)}if(b.lineWidth){q=b.I;b.I=[];for(m=0;41>m;m++)b.I.push(l+Math.sin(g*m)*d,e+Math.cos(g*m)*f);this.Jm(b,a);b.I=q}};a.prototype.Jm=function(b,a){var c=0,d=b.I;if(0!==d.length){if(b.lineWidth%2)for(c=0;c<d.length;c++)d[c]+=
.5;var f=new g.Eb(d[0],d[1]),l=new g.Eb(d[d.length-2],d[d.length-1]);if(f.x===l.x&&f.y===l.y){d=d.slice();d.pop();d.pop();var l=new g.Eb(d[d.length-2],d[d.length-1]),e=l.x+.5*(f.x-l.x),f=l.y+.5*(f.y-l.y);d.unshift(e,f);d.push(e,f)}var m,q,C,z,F,u,N,J,E,G,O,P,v,y,A,I,S,R,Q,e=a.I,f=a.$,l=d.length/2,aa=d.length,T=e.length/6,ba=b.lineWidth/2,c=k.Od(b.Ih),X=b.Fg,U=c[0]*X,V=c[1]*X,Y=c[2]*X;C=d[0];z=d[1];F=d[2];u=d[3];E=-(z-u);G=C-F;Q=Math.sqrt(E*E+G*G);E=E/Q*ba;G=G/Q*ba;e.push(C-E,z-G,U,V,Y,X);e.push(C+
E,z+G,U,V,Y,X);for(c=1;l-1>c;c++)C=d[2*(c-1)],z=d[2*(c-1)+1],F=d[2*c],u=d[2*c+1],N=d[2*(c+1)],J=d[2*(c+1)+1],E=-(z-u),G=C-F,Q=Math.sqrt(E*E+G*G),E/=Q,G/=Q,E*=ba,G*=ba,O=-(u-J),P=F-N,Q=Math.sqrt(O*O+P*P),O/=Q,P/=Q,O*=ba,P*=ba,A=-G+z-(-G+u),I=-E+F-(-E+C),C=(-E+C)*(-G+u)-(-E+F)*(-G+z),z=-P+J-(-P+u),S=-O+F-(-O+N),N=(-O+N)*(-P+u)-(-O+F)*(-P+J),J=A*S-z*I,.1>Math.abs(J)?(e.push(F-E,u-G,U,V,Y,X),e.push(F+E,u+G,U,V,Y,X)):(m=(I*N-S*C)/J,q=(z*C-A*N)/J,R=(m-F)*(m-F)+(q-u)+(q-u),19600<R?(v=E-O,y=G-P,Q=Math.sqrt(v*
v+y*y),v/=Q,y/=Q,v*=ba,y*=ba,e.push(F-v,u-y),e.push(U,V,Y,X),e.push(F+v,u+y),e.push(U,V,Y,X),e.push(F-v,u-y),e.push(U,V,Y,X),aa++):(e.push(m,q),e.push(U,V,Y,X),e.push(F-(m-F),u-(q-u)),e.push(U,V,Y,X)));C=d[2*(l-2)];z=d[2*(l-2)+1];F=d[2*(l-1)];u=d[2*(l-1)+1];E=-(z-u);G=C-F;Q=Math.sqrt(E*E+G*G);E/=Q;G/=Q;E*=ba;G*=ba;e.push(F-E,u-G);e.push(U,V,Y,X);e.push(F+E,u+G);e.push(U,V,Y,X);f.push(T);for(c=0;aa>c;c++)f.push(T++);f.push(T-1)}};a.prototype.$s=function(b,a){var c=b.I.slice();if(!(6>c.length)){var d=
a.$;a.I=c;a.alpha=b.yc;a.color=k.Od(b.fillColor);for(var f,g,l=1/0,e=-(1/0),m=1/0,q=-(1/0),z=0;z<c.length;z+=2)f=c[z],g=c[z+1],l=l>f?f:l,e=f>e?f:e,m=m>g?g:m,q=g>q?g:q;c.push(l,m,e,m,e,q,l,q);c=c.length/2;for(z=0;c>z;z++)d.push(z)}};a.prototype.tx=function(b,a){var c=b.I;if(!(6>c.length)){var d=a.I,f=a.$,g=c.length/2,e=k.Od(b.fillColor),m=b.yc,q=e[0]*m,C=e[1]*m,e=e[2]*m,z=l(c,null,2);if(!z)return!1;for(var F=d.length/6,u=0,u=0;u<z.length;u+=3)f.push(z[u]+F),f.push(z[u]+F),f.push(z[u+1]+F),f.push(z[u+
2]+F),f.push(z[u+2]+F);for(u=0;g>u;u++)d.push(c[2*u],c[2*u+1],q,C,e,m);return!0}}},{"../../const":22,"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"../../utils":76,"./WebGLGraphicsData":28,Sx:10}],28:[function(e,q){function a(a){this.G=a;this.color=[0,0,0];this.I=[];this.$=[];this.buffer=a.createBuffer();this.rc=a.createBuffer();this.alpha=this.mode=1;this.ya=!0;this.oq=this.pq=null}a.prototype.constructor=a;q.o=a;a.prototype.reset=function(){this.I.length=
0;this.$.length=0};a.prototype.upload=function(){var a=this.G;this.pq=new Float32Array(this.I);a.bindBuffer(a.ARRAY_BUFFER,this.buffer);a.bufferData(a.ARRAY_BUFFER,this.pq,a.STATIC_DRAW);this.oq=new Uint16Array(this.$);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.rc);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.oq,a.STATIC_DRAW);this.ya=!1};a.prototype.O=function(){this.$=this.I=this.color=null;this.G.deleteBuffer(this.buffer);this.G.deleteBuffer(this.rc);this.oq=this.pq=this.rc=this.buffer=this.G=null}},
{}],29:[function(e,q){var a=q.o=Object.Ik(e("./const"),e("./math"),{Vd:e("./utils"),Vn:e("./ticker"),po:e("./display/DisplayObject"),Ce:e("./display/Container"),Df:e("./sprites/Sprite"),hC:e("./particles/ParticleContainer"),uC:e("./sprites/webgl/SpriteRenderer"),iC:e("./particles/webgl/ParticleRenderer"),Text:e("./text/Text"),Lr:e("./graphics/Graphics"),QB:e("./graphics/GraphicsData"),RB:e("./graphics/webgl/GraphicsRenderer"),ii:e("./textures/Texture"),Wu:e("./textures/BaseTexture"),Tr:e("./textures/RenderTexture"),
FC:e("./textures/VideoBaseTexture"),Sv:e("./textures/TextureUvs"),zr:e("./renderers/canvas/CanvasRenderer"),AB:e("./renderers/canvas/utils/CanvasGraphics"),Yu:e("./renderers/canvas/utils/CanvasBuffer"),Ro:e("./renderers/webgl/WebGLRenderer"),Mv:e("./renderers/webgl/managers/ShaderManager"),Zr:e("./renderers/webgl/shaders/Shader"),Rr:e("./renderers/webgl/utils/ObjectRenderer"),oC:e("./renderers/webgl/utils/RenderTarget"),W:e("./renderers/webgl/filters/AbstractFilter"),Dr:e("./renderers/webgl/filters/FXAAFilter"),
$r:e("./renderers/webgl/filters/SpriteMaskFilter"),Yw:function(k,g,c,d){return k=k||800,g=g||600,!d&&a.Vd.wy()?new a.Ro(k,g,c):new a.zr(k,g,c)}})},{"./const":22,"./display/Container":23,"./display/DisplayObject":24,"./graphics/Graphics":25,"./graphics/GraphicsData":26,"./graphics/webgl/GraphicsRenderer":27,"./math":32,"./particles/ParticleContainer":38,"./particles/webgl/ParticleRenderer":40,"./renderers/canvas/CanvasRenderer":43,"./renderers/canvas/utils/CanvasBuffer":44,"./renderers/canvas/utils/CanvasGraphics":45,
"./renderers/webgl/WebGLRenderer":48,"./renderers/webgl/filters/AbstractFilter":49,"./renderers/webgl/filters/FXAAFilter":50,"./renderers/webgl/filters/SpriteMaskFilter":51,"./renderers/webgl/managers/ShaderManager":55,"./renderers/webgl/shaders/Shader":60,"./renderers/webgl/utils/ObjectRenderer":62,"./renderers/webgl/utils/RenderTarget":64,"./sprites/Sprite":66,"./sprites/webgl/SpriteRenderer":67,"./text/Text":68,"./textures/BaseTexture":69,"./textures/RenderTexture":70,"./textures/Texture":71,"./textures/TextureUvs":72,
"./textures/VideoBaseTexture":73,"./ticker":75,"./utils":76}],30:[function(e,q){function a(){this.j=1;this.g=this.ba=0;this.d=1;this.aa=this.da=0}var k=e("./Point");a.prototype.constructor=a;q.o=a;a.prototype.Ad=function(){this.Ns||(this.Ns=new Float32Array(9));var a=this.Ns;return a[0]=this.j,a[1]=this.ba,a[2]=0,a[3]=this.g,a[4]=this.d,a[5]=0,a[6]=this.da,a[7]=this.aa,a[8]=1,a};a.prototype.apply=function(a,c){c=c||new k;var d=a.x,f=a.y;return c.x=this.j*d+this.g*f+this.da,c.y=this.ba*d+this.d*f+
this.aa,c};a.prototype.Tj=function(a,c){c=c||new k;var d=1/(this.j*this.d+this.g*-this.ba),f=a.x,b=a.y;c.x=this.d*d*f+-this.g*d*b+(this.aa*this.g-this.da*this.d)*d;c.y=this.j*d*b+-this.ba*d*f+(-this.aa*this.j+this.da*this.ba)*d};a.prototype.translate=function(a,c){return this.da+=a,this.aa+=c,this};a.prototype.scale=function(a,c){return this.j*=a,this.d*=c,this.g*=a,this.ba*=c,this.da*=a,this.aa*=c,this};a.prototype.rotate=function(a){var c=Math.cos(a);a=Math.sin(a);var d=this.j,f=this.g,b=this.da;
return this.j=d*c-this.ba*a,this.ba=d*a+this.ba*c,this.g=f*c-this.d*a,this.d=f*a+this.d*c,this.da=b*c-this.aa*a,this.aa=b*a+this.aa*c,this};a.prototype.append=function(a){var c=this.j,d=this.ba,f=this.g,b=this.d;return this.j=a.j*c+a.ba*f,this.ba=a.j*d+a.ba*b,this.g=a.g*c+a.d*f,this.d=a.g*d+a.d*b,this.da=a.da*c+a.aa*f+this.da,this.aa=a.da*d+a.aa*b+this.aa,this};a.prototype.qu=function(a){var c=this.da;if(1!==a.j||0!==a.ba||0!==a.g||1!==a.d){var d=this.j,f=this.g;this.j=d*a.j+this.ba*a.g;this.ba=d*
a.ba+this.ba*a.d;this.g=f*a.j+this.d*a.g;this.d=f*a.ba+this.d*a.d}this.da=c*a.j+this.aa*a.g+a.da;this.aa=c*a.ba+this.aa*a.d+a.aa};a.prototype.Nk=function(){var a=this.j,c=this.ba,d=this.g,f=this.d,b=this.da,l=a*f-c*d;return this.j=f/l,this.ba=-c/l,this.g=-d/l,this.d=a/l,this.da=(d*this.aa-f*b)/l,this.aa=-(a*this.aa-c*b)/l,this};a.prototype.jn=function(){return this.j=1,this.ba=0,this.g=0,this.d=1,this.da=0,this.aa=0,this};a.prototype.clone=function(){var g=new a;return g.j=this.j,g.ba=this.ba,g.g=
this.g,g.d=this.d,g.da=this.da,g.aa=this.aa,g};a.prototype.Wp=function(a){return a.j=this.j,a.ba=this.ba,a.g=this.g,a.d=this.d,a.da=this.da,a.aa=this.aa,a};a.Bo=new a;a.Rv=new a},{"./Point":31}],31:[function(e,q){function a(a,g){this.x=a||0;this.y=g||0}a.prototype.constructor=a;q.o=a;a.prototype.clone=function(){return new a(this.x,this.y)};a.prototype.Wp=function(a){this.set(a.x,a.y)};a.prototype.set=function(a,g){this.x=a||0;this.y=g||(0!==g?this.x:0)}},{}],32:[function(e,q){q.o={Eb:e("./Point"),
ed:e("./Matrix"),BB:e("./shapes/Circle"),OB:e("./shapes/Ellipse"),Sr:e("./shapes/Polygon"),lc:e("./shapes/Rectangle"),pC:e("./shapes/RoundedRectangle")}},{"./Matrix":30,"./Point":31,"./shapes/Circle":33,"./shapes/Ellipse":34,"./shapes/Polygon":35,"./shapes/Rectangle":36,"./shapes/RoundedRectangle":37}],33:[function(e,q){function a(a,d,f){this.x=a||0;this.y=d||0;this.mb=f||0;this.type=g.nb.ai}var k=e("./Rectangle"),g=e("../../const");a.prototype.constructor=a;q.o=a;a.prototype.clone=function(){return new a(this.x,
this.y,this.mb)};a.prototype.contains=function(a,d){if(0>=this.mb)return!1;var f=this.x-a,b=this.y-d,g=this.mb*this.mb;return f*=f,b*=b,g>=f+b};a.prototype.$b=function(){return new k(this.x-this.mb,this.y-this.mb,2*this.mb,2*this.mb)}},{"../../const":22,"./Rectangle":36}],34:[function(e,q){function a(a,d,f,b){this.x=a||0;this.y=d||0;this.width=f||0;this.height=b||0;this.type=g.nb.Cj}var k=e("./Rectangle"),g=e("../../const");a.prototype.constructor=a;q.o=a;a.prototype.clone=function(){return new a(this.x,
this.y,this.width,this.height)};a.prototype.contains=function(a,d){if(0>=this.width||0>=this.height)return!1;var f=(a-this.x)/this.width,b=(d-this.y)/this.height;return f*=f,b*=b,1>=f+b};a.prototype.$b=function(){return new k(this.x-this.width,this.y-this.height,this.width,this.height)}},{"../../const":22,"./Rectangle":36}],35:[function(e,q){function a(a){var d=a;if(!Array.isArray(d))for(var d=Array(arguments.length),f=0;f<d.length;++f)d[f]=arguments[f];if(d[0]instanceof k){for(var f=[],b=0,l=d.length;l>
b;b++)f.push(d[b].x,d[b].y);d=f}this.closed=!0;this.I=d;this.type=g.nb.Ij}var k=e("../Point"),g=e("../../const");a.prototype.constructor=a;q.o=a;a.prototype.clone=function(){return new a(this.I.slice())};a.prototype.contains=function(a,d){for(var f=!1,b=this.I.length/2,g=0,e=b-1;b>g;e=g++){var k=this.I[2*g],m=this.I[2*g+1],p=this.I[2*e],e=this.I[2*e+1];m>d!=e>d&&(p-k)*(d-m)/(e-m)+k>a&&(f=!f)}return f}},{"../../const":22,"../Point":31}],36:[function(e,q){function a(a,c,d,f){this.x=a||0;this.y=c||0;
this.width=d||0;this.height=f||0;this.type=k.nb.Jj}var k=e("../../const");a.prototype.constructor=a;q.o=a;a.EMPTY=new a(0,0,0,0);a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height)};a.prototype.contains=function(a,c){return 0>=this.width||0>=this.height?!1:a>=this.x&&a<this.x+this.width&&c>=this.y&&c<this.y+this.height?!0:!1}},{"../../const":22}],37:[function(e,q){function a(a,c,d,f,b){this.x=a||0;this.y=c||0;this.width=d||0;this.height=f||0;this.mb=b||20;this.type=k.nb.Kj}
var k=e("../../const");a.prototype.constructor=a;q.o=a;a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.mb)};a.prototype.contains=function(a,c){return 0>=this.width||0>=this.height?!1:a>=this.x&&a<=this.x+this.width&&c>=this.y&&c<=this.y+this.height?!0:!1}},{"../../const":22}],38:[function(e,q){function a(a,d){k.call(this);this.Zd=[!1,!0,!1,!1,!1];this.Hs=a||15E3;this.jh=null;this.It=this.om=!1;this.Mc=g.P.Yd;this.lj=!0;this.CA(d)}var k=e("../display/Container"),
g=e("../const");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.CA=function(a){a&&(this.Zd[0]="scale"in a?!!a.scale:this.Zd[0],this.Zd[1]="position"in a?!!a.position:this.Zd[1],this.Zd[2]="rotation"in a?!!a.rotation:this.Zd[2],this.Zd[3]="uvs"in a?!!a.Uc:this.Zd[3],this.Zd[4]="alpha"in a?!!a.alpha:this.Zd[4])};a.prototype.Dc=function(){this.Ni()};a.prototype.Ud=function(a){this.visible&&!(0>=this.hb)&&this.children.length&&this.xe&&(a.Tg(a.plugins.zz),a.plugins.zz.Cc(this))};
a.prototype.Ls=function(a,d){if(a===this)return a;if(0<=d&&d<=this.children.length)return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(d,0,a),this.om=!0,a;throw Error(a+"addChildAt: The index "+d+" supplied is out of bounds "+this.children.length);};a.prototype.uu=function(a){var d=this.Ct(a);return d.parent=null,this.children.splice(a,1),this.om=!0,d};a.prototype.we=function(a){if(this.visible&&!(0>=this.hb)&&this.children.length&&this.xe){var d=a.context,f=this.sa,b=!0,g=
0,e=0,k=0,m=0;d.globalAlpha=this.hb;this.Ni();for(var p=0;p<this.children.length;++p){var t=this.children[p];if(t.visible){var q=t.wa.frame;(d.globalAlpha=this.hb*t.alpha,0===t.rotation%(2*Math.PI))?(b&&(d.setTransform(f.j,f.ba,f.g,f.d,f.da,f.aa),b=!1),g=t.anchor.x*-q.width*t.scale.x+t.position.x+.5,e=t.anchor.y*-q.height*t.scale.y+t.position.y+.5,k=q.width*t.scale.x,m=q.height*t.scale.y):(b||(b=!0),t.Ni(),g=t.sa,a.lj?d.setTransform(g.j,g.ba,g.g,g.d,0|g.da,0|g.aa):d.setTransform(g.j,g.ba,g.g,g.d,
g.da,g.aa),g=t.anchor.x*-q.width+.5,e=t.anchor.y*-q.height+.5,k=q.width,m=q.height);d.drawImage(t.wa.X.source,q.x,q.y,q.width,q.height,g,e,k,m)}}}};a.prototype.O=function(){if(k.prototype.O.apply(this,arguments),this.jh)for(var a=0;a<this.jh.length;++a)this.jh[a].O();this.jh=this.Zd=null}},{"../const":22,"../display/Container":23}],39:[function(e,q){function a(a,g,c){this.G=a;this.pr=2;this.Dl=4*this.pr;this.size=c;this.zg=[];this.Vg=[];for(a=0;a<g.length;a++)c=g[a],c.yg?this.zg.push(c):this.Vg.push(c);
this.qj=0;this.wl=this.vl=null;this.Oi=0;this.Dk=this.Ck=null;this.py()}a.prototype.constructor=a;q.o=a;a.prototype.py=function(){var a,g,c=this.G,d=0;for(a=this.Oi=0;a<this.zg.length;a++)g=this.zg[a],g.offset=d,d+=g.size,this.Oi+=g.size;this.Dk=new Float32Array(this.size*this.Oi*4);this.Ck=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.Ck);c.bufferData(c.ARRAY_BUFFER,this.Dk,c.DYNAMIC_DRAW);for(a=this.qj=d=0;a<this.Vg.length;a++)g=this.Vg[a],g.offset=d,d+=g.size,this.qj+=g.size;this.wl=new Float32Array(this.size*
this.qj*4);this.vl=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,this.vl);c.bufferData(c.ARRAY_BUFFER,this.wl,c.DYNAMIC_DRAW)};a.prototype.ZA=function(a,g,c){for(var d=this.G,f=0;f<this.zg.length;f++){var b=this.zg[f];b.wj(a,g,c,this.Dk,this.Oi,b.offset)}d.bindBuffer(d.ARRAY_BUFFER,this.Ck);d.bufferSubData(d.ARRAY_BUFFER,0,this.Dk)};a.prototype.bB=function(a,g,c){for(var d=this.G,f=0;f<this.Vg.length;f++){var b=this.Vg[f];b.wj(a,g,c,this.wl,this.qj,b.offset)}d.bindBuffer(d.ARRAY_BUFFER,this.vl);d.bufferSubData(d.ARRAY_BUFFER,
0,this.wl)};a.prototype.bind=function(){var a,g,c=this.G;c.bindBuffer(c.ARRAY_BUFFER,this.Ck);for(a=0;a<this.zg.length;a++)g=this.zg[a],c.vertexAttribPointer(g.ui,g.size,c.FLOAT,!1,4*this.Oi,4*g.offset);c.bindBuffer(c.ARRAY_BUFFER,this.vl);for(a=0;a<this.Vg.length;a++)g=this.Vg[a],c.vertexAttribPointer(g.ui,g.size,c.FLOAT,!1,4*this.qj,4*g.offset)};a.prototype.O=function(){this.Dk=this.zg=null;this.G.deleteBuffer(this.Ck);this.wl=this.Vg=null;this.G.deleteBuffer(this.vl)}},{}],40:[function(e,q){function a(b){k.call(this,
b);this.size=15E3;b=6*this.size;this.$=new Uint16Array(b);for(var a=0,c=0;b>a;a+=6,c+=4)this.$[a+0]=c+0,this.$[a+1]=c+1,this.$[a+2]=c+2,this.$[a+3]=c+0,this.$[a+4]=c+2,this.$[a+5]=c+3;this.rl=this.rc=this.Ia=null;this.Hu=new f.ed}var k=e("../../renderers/webgl/utils/ObjectRenderer"),g=e("../../renderers/webgl/WebGLRenderer"),c=e("./ParticleShader"),d=e("./ParticleBuffer"),f=e("../../math");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;g.Vh("particle",a);a.prototype.Vf=function(){var b=
this.v.G;this.Ia=new c(this.v.Db);this.rc=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.rc);b.bufferData(b.ELEMENT_ARRAY_BUFFER,this.$,b.STATIC_DRAW);this.rl=[{ui:this.Ia.attributes.He,yg:!1,size:2,wj:this.dB,offset:0},{ui:this.Ia.attributes.Kw,yg:!0,size:2,wj:this.$A,offset:0},{ui:this.Ia.attributes.Lw,yg:!1,size:1,wj:this.aB,offset:0},{ui:this.Ia.attributes.si,yg:!1,size:2,wj:this.cB,offset:0},{ui:this.Ia.attributes.ri,yg:!1,size:1,wj:this.YA,offset:0}]};a.prototype.start=function(){var b=
this.v.G;b.activeTexture(b.TEXTURE0);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,this.rc);this.v.Db.Yh(this.Ia)};a.prototype.Cc=function(b){var a=b.children,c=a.length,d=b.Hs;if(0!==c){c>d&&(c=d);b.jh||(b.jh=this.ey(b));this.v.Je.Zf(b.Mc);var d=this.v.G,f=b.sa.Wp(this.Hu);f.qu(this.v.Oc.fc);d.uniformMatrix3fv(this.Ia.m.fc.Sb,!1,f.Ad());d.uniform1f(this.Ia.m.VA.Sb,b.hb);var f=b.om,g=a[0].la.X;if(g.Rb[d.id])d.bindTexture(d.TEXTURE_2D,g.Rb[d.id]);else{if(!this.v.Yg(g))return;this.rl[0].yg&&this.rl[3].yg||(f=
!0)}for(var e=g=0;c>e;e+=this.size){var k=c-e;k>this.size&&(k=this.size);var m=b.jh[g++];m.ZA(a,e,k);f&&m.bB(a,e,k);m.bind(this.Ia);d.drawElements(d.TRIANGLES,6*k,d.UNSIGNED_SHORT,0);this.v.Sm++}b.om=!1}};a.prototype.ey=function(b){var a,c=this.v.G,f=[],g=b.Hs;for(a=0;a<b.Zd.length;a++)this.rl[a].yg=b.Zd[a];for(a=0;g>a;a+=this.size)f.push(new d(c,this.rl,this.size,this.Ia));return f};a.prototype.dB=function(b,a,c,d,f,g){for(var e,k,m,q,C,L,z,F,u,N=0;c>N;N++)e=b[a+N],k=e.la,q=e.scale.x,C=e.scale.y,
k.trim?(m=k.trim,z=m.x-e.anchor.x*m.width,L=z+k.Hb.width,u=m.y-e.anchor.y*m.height,F=u+k.Hb.height):(L=k.Y.width*(1-e.anchor.x),z=k.Y.width*-e.anchor.x,F=k.Y.height*(1-e.anchor.y),u=k.Y.height*-e.anchor.y),d[g]=z*q,d[g+1]=u*C,d[g+f]=L*q,d[g+f+1]=u*C,d[g+2*f]=L*q,d[g+2*f+1]=F*C,d[g+3*f]=z*q,d[g+3*f+1]=F*C,g+=4*f};a.prototype.$A=function(b,a,c,d,f,g){for(var e=0;c>e;e++){var k=b[a+e].position;d[g]=k.x;d[g+1]=k.y;d[g+f]=k.x;d[g+f+1]=k.y;d[g+2*f]=k.x;d[g+2*f+1]=k.y;d[g+3*f]=k.x;d[g+3*f+1]=k.y;g+=4*f}};
a.prototype.aB=function(b,a,c,d,f,g){for(var e=0;c>e;e++){var k=b[a+e].rotation;d[g]=k;d[g+f]=k;d[g+2*f]=k;d[g+3*f]=k;g+=4*f}};a.prototype.cB=function(b,a,c,d,f,g){for(var e=0;c>e;e++){var k=b[a+e].la.md;k?(d[g]=k.ah,d[g+1]=k.bh,d[g+f]=k.Fl,d[g+f+1]=k.$n,d[g+2*f]=k.Gl,d[g+2*f+1]=k.yj,d[g+3*f]=k.Zn,d[g+3*f+1]=k.ao,g+=4*f):(d[g]=0,d[g+1]=0,d[g+f]=0,d[g+f+1]=0,d[g+2*f]=0,d[g+2*f+1]=0,d[g+3*f]=0,d[g+3*f+1]=0,g+=4*f)}};a.prototype.YA=function(b,a,c,d,f,g){for(var e=0;c>e;e++){var k=b[a+e].alpha;d[g]=k;
d[g+f]=k;d[g+2*f]=k;d[g+3*f]=k;g+=4*f}};a.prototype.O=function(){this.v.G&&this.v.G.deleteBuffer(this.rc);k.prototype.O.apply(this,arguments);this.Ia.O();this.Hu=this.$=null}},{"../../math":32,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62,"./ParticleBuffer":39,"./ParticleShader":41}],41:[function(e,q){function a(a){k.call(this,a,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute float aColor;\nattribute vec2 aPositionCoord;\nattribute vec2 aScale;\nattribute float aRotation;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nvoid main(void){\n   vec2 v = aVertexPosition;\n   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n   v = v + aPositionCoord;\n   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = aColor;\n}",
"precision lowp float;\nvarying vec2 vTextureCoord;\nvarying float vColor;\nuniform sampler2D uSampler;\nuniform float uAlpha;\nvoid main(void){\n  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;\n  if (color.a == 0.0) discard;\n  gl_FragColor = color;\n}",{VA:{type:"1f",value:1}},{Kw:0,Lw:0})}var k=e("../../renderers/webgl/shaders/TextureShader");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a},{"../../renderers/webgl/shaders/TextureShader":61}],42:[function(e,
q){function a(a,b,l,e){if(d.call(this),k.wA(a),e)for(var r in c.no)"undefined"==typeof e[r]&&(e[r]=c.no[r]);else e=c.no;this.type=c.gi.es;this.width=b||800;this.height=l||600;this.view=e.view||document.createElement("canvas");this.N=e.N;this.eg=e.eg;this.sm=e.sm||!1;this.U=null;this.preserveDrawingBuffer=e.preserveDrawingBuffer;this.xk=e.xk;this.$l=0;this.Qj=[0,0,0];this.Uo="#000000";this.backgroundColor=e.backgroundColor||this.$l;this.bf=this.mm={sa:new g.ed,hb:1,children:[]}}var k=e("../utils"),
g=e("../math"),c=e("../const"),d=e("eventemitter3");a.prototype=Object.create(d.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{backgroundColor:{get:function(){return this.$l},set:function(a){this.$l=a;this.Uo=k.hn(a);k.Od(a,this.Qj)}}});a.prototype.resize=function(a,b){this.width=a*this.N;this.height=b*this.N;this.view.width=this.width;this.view.height=this.height;this.sm&&(this.view.style.width=this.width/this.N+"px",this.view.style.height=this.height/this.N+"px")};
a.prototype.O=function(a){a&&this.view.parent&&this.view.parent.removeChild(this.view);this.type=c.gi.es;this.height=this.width=0;this.view=null;this.N=0;this.sm=this.eg=!1;this.U=null;this.xk=this.preserveDrawingBuffer=!1;this.$l=0;this.Uo=this.Qj=null}},{"../const":22,"../math":32,"../utils":76,Ah:11}],43:[function(e,q){function a(b,a,c){k.call(this,"Canvas",b,a,c);this.type=f.gi.Xu;this.context=this.view.getContext("2d",{alpha:this.eg});this.refresh=!0;this.Uf=new g;this.lj=!1;this.Mi=f.Ed.DEFAULT;
this.Nc=f.P.Yd;this.ag="imageSmoothingEnabled";this.context.LD||(this.context.JE?this.ag="webkitImageSmoothingEnabled":this.context.$D?this.ag="mozImageSmoothingEnabled":this.context.bE?this.ag="oImageSmoothingEnabled":this.context.aE&&(this.ag="msImageSmoothingEnabled"));this.rq();this.qw();this.mm={sa:new d.ed,hb:1};this.resize(b,a)}var k=e("../SystemRenderer"),g=e("./utils/CanvasMaskManager"),c=e("../../utils"),d=e("../../math"),f=e("../../const");a.prototype=Object.create(k.prototype);a.prototype.constructor=
a;q.o=a;c.Wq.Sq(a);a.prototype.Cc=function(b){var a=b.parent;this.bf=b;b.parent=this.mm;b.Dc();b.parent=a;this.context.setTransform(1,0,0,1,0,0);this.context.globalAlpha=1;this.Nc=f.P.Yd;this.context.globalCompositeOperation=this.U[f.P.Yd];navigator.sd&&this.view.nE&&(this.context.fillStyle="black",this.context.clear());this.xk&&(this.eg?this.context.clearRect(0,0,this.width,this.height):(this.context.fillStyle=this.Uo,this.context.fillRect(0,0,this.width,this.height)));this.tl(b,this.context)};a.prototype.O=
function(b){this.Xp();k.prototype.O.call(this,b);this.context=null;this.refresh=!0;this.Uf.O();this.Uf=null;this.lj=!1;this.Nc=this.Mi=0;this.ag=null};a.prototype.tl=function(b,a){var c=this.context;this.context=a;b.we(this);this.context=c};a.prototype.resize=function(b,a){k.prototype.resize.call(this,b,a);this.Mi=f.Ed.DEFAULT;this.ag&&(this.context[this.ag]=this.Mi===f.Ed.LINEAR)};a.prototype.qw=function(){this.U||(this.U={},c.ct()?(this.U[f.P.Yd]="source-over",this.U[f.P.bo]="lighter",this.U[f.P.Tl]=
"multiply",this.U[f.P.Ul]="screen",this.U[f.P.Ho]="overlay",this.U[f.P.mo]="darken",this.U[f.P.Do]="lighten",this.U[f.P.io]="color-dodge",this.U[f.P.ho]="color-burn",this.U[f.P.zo]="hard-light",this.U[f.P.Lo]="soft-light",this.U[f.P.oo]="difference",this.U[f.P.ro]="exclusion",this.U[f.P.Ao]="hue",this.U[f.P.Ko]="saturate",this.U[f.P.fo]="color",this.U[f.P.Eo]="luminosity"):(this.U[f.P.Yd]="source-over",this.U[f.P.bo]="lighter",this.U[f.P.Tl]="source-over",this.U[f.P.Ul]="source-over",this.U[f.P.Ho]=
"source-over",this.U[f.P.mo]="source-over",this.U[f.P.Do]="source-over",this.U[f.P.io]="source-over",this.U[f.P.ho]="source-over",this.U[f.P.zo]="source-over",this.U[f.P.Lo]="source-over",this.U[f.P.oo]="source-over",this.U[f.P.ro]="source-over",this.U[f.P.Ao]="source-over",this.U[f.P.Ko]="source-over",this.U[f.P.fo]="source-over",this.U[f.P.Eo]="source-over"))}},{"../../const":22,"../../math":32,"../../utils":76,"../SystemRenderer":42,"./utils/CanvasMaskManager":46}],44:[function(e,q){function a(a,
g){this.canvas=document.createElement("canvas");this.context=this.canvas.getContext("2d");this.canvas.width=a;this.canvas.height=g}a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{width:{get:function(){return this.canvas.width},set:function(a){this.canvas.width=a}},height:{get:function(){return this.canvas.height},set:function(a){this.canvas.height=a}}});a.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0);this.context.clearRect(0,0,this.canvas.width,this.canvas.height)};
a.prototype.resize=function(a,g){this.canvas.width=a;this.canvas.height=g};a.prototype.O=function(){this.canvas=this.context=null}},{}],45:[function(e,q){var a=e("../../../const"),k={};q.o=k;k.Wz=function(g,c){var d=g.hb;g.ya&&(this.XA(g),g.ya=!1);for(var f=0;f<g.Jb.length;f++){var b=g.Jb[f],l=b.shape,e=b.qs,k=b.vs;if(c.lineWidth=b.lineWidth,b.type===a.nb.Ij){c.beginPath();var m=l.I;c.moveTo(m[0],m[1]);for(var p=1;p<m.length/2;p++)c.lineTo(m[2*p],m[2*p+1]);l.closed&&c.lineTo(m[0],m[1]);m[0]===m[m.length-
2]&&m[1]===m[m.length-1]&&c.closePath();b.fill&&(c.globalAlpha=b.yc*d,c.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),c.fill());b.lineWidth&&(c.globalAlpha=b.Fg*d,c.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),c.stroke())}else if(b.type===a.nb.Jj)(b.fillColor||0===b.fillColor)&&(c.globalAlpha=b.yc*d,c.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),c.fillRect(l.x,l.y,l.width,l.height)),b.lineWidth&&(c.globalAlpha=b.Fg*d,c.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),
c.strokeRect(l.x,l.y,l.width,l.height));else if(b.type===a.nb.ai)c.beginPath(),c.arc(l.x,l.y,l.mb,0,2*Math.PI),c.closePath(),b.fill&&(c.globalAlpha=b.yc*d,c.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),c.fill()),b.lineWidth&&(c.globalAlpha=b.Fg*d,c.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),c.stroke());else if(b.type===a.nb.Cj){var t=2*l.width,p=2*l.height,m=l.x-t/2,l=l.y-p/2;c.beginPath();var q=t/2*.5522848,B=p/2*.5522848,C=m+t,D=l+p,t=m+t/2,p=l+p/2;c.moveTo(m,p);c.bezierCurveTo(m,
p-B,t-q,l,t,l);c.bezierCurveTo(t+q,l,C,p-B,C,p);c.bezierCurveTo(C,p+B,t+q,D,t,D);c.bezierCurveTo(t-q,D,m,p+B,m,p);c.closePath();b.fill&&(c.globalAlpha=b.yc*d,c.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),c.fill());b.lineWidth&&(c.globalAlpha=b.Fg*d,c.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),c.stroke())}else b.type===a.nb.Kj&&(m=l.x,p=l.y,q=l.width,B=l.height,l=l.mb,C=Math.min(q,B)/2|0,l=l>C?C:l,c.beginPath(),c.moveTo(m,p+l),c.lineTo(m,p+B-l),c.quadraticCurveTo(m,p+B,m+l,p+
B),c.lineTo(m+q-l,p+B),c.quadraticCurveTo(m+q,p+B,m+q,p+B-l),c.lineTo(m+q,p+l),c.quadraticCurveTo(m+q,p,m+q-l,p),c.lineTo(m+l,p),c.quadraticCurveTo(m,p,m,p+l),c.closePath(),(b.fillColor||0===b.fillColor)&&(c.globalAlpha=b.yc*d,c.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),c.fill()),b.lineWidth&&(c.globalAlpha=b.Fg*d,c.strokeStyle="#"+("00000"+(0|k).toString(16)).substr(-6),c.stroke()))}};k.Xz=function(g,c){var d=g.Jb.length;if(0!==d){c.beginPath();for(var f=0;d>f;f++){var b=g.Jb[f],l=b.shape;
if(b.type===a.nb.Ij){b=l.I;c.moveTo(b[0],b[1]);for(var e=1;e<b.length/2;e++)c.lineTo(b[2*e],b[2*e+1]);b[0]===b[b.length-2]&&b[1]===b[b.length-1]&&c.closePath()}else if(b.type===a.nb.Jj)c.rect(l.x,l.y,l.width,l.height),c.closePath();else if(b.type===a.nb.ai)c.arc(l.x,l.y,l.mb,0,2*Math.PI),c.closePath();else if(b.type===a.nb.Cj){var k=2*l.width,e=2*l.height,b=l.x-k/2,l=l.y-e/2,m=k/2*.5522848,p=e/2*.5522848,t=b+k,q=l+e,k=b+k/2,e=l+e/2;c.moveTo(b,e);c.bezierCurveTo(b,e-p,k-m,l,k,l);c.bezierCurveTo(k+
m,l,t,e-p,t,e);c.bezierCurveTo(t,e+p,k+m,q,k,q);c.bezierCurveTo(k-m,q,b,e+p,b,e);c.closePath()}else b.type===a.nb.Kj&&(b=l.x,e=l.y,m=l.width,p=l.height,l=l.mb,t=Math.min(m,p)/2|0,l=l>t?t:l,c.moveTo(b,e+l),c.lineTo(b,e+p-l),c.quadraticCurveTo(b,e+p,b+l,e+p),c.lineTo(b+m-l,e+p),c.quadraticCurveTo(b+m,e+p,b+m,e+p-l),c.lineTo(b+m,e+l),c.quadraticCurveTo(b+m,e,b+m-l,e),c.lineTo(b+l,e),c.quadraticCurveTo(b,e,b,e+l),c.closePath())}}};k.XA=function(a){if(16777215!==a.cb)for(var c=(a.cb>>16&255)/255,d=(a.cb>>
8&255)/255,f=(255&a.cb)/255,b=0;b<a.Jb.length;b++){var l=a.Jb[b],e=0|l.fillColor,k=0|l.Ih;l.qs=((e>>16&255)/255*c*255<<16)+((e>>8&255)/255*d*255<<8)+(255&e)/255*f*255;l.vs=((k>>16&255)/255*c*255<<16)+((k>>8&255)/255*d*255<<8)+(255&k)/255*f*255}}},{"../../../const":22}],46:[function(e,q){function a(){}var k=e("./CanvasGraphics");a.prototype.constructor=a;q.o=a;a.prototype.sl=function(a,c){c.context.save();var d=a.alpha,f=a.sa,b=c.N;c.context.setTransform(f.j*b,f.ba*b,f.g*b,f.d*b,f.da*b,f.aa*b);a.wa||
(k.Xz(a,c.context),c.context.clip());a.hb=d};a.prototype.nl=function(a){a.context.restore()};a.prototype.O=function(){}},{"./CanvasGraphics":45}],47:[function(e,q){var a=e("../../../utils"),k={};q.o=k;k.hy=function(a,c){var d=a.wa;c=k.cA(c);var f="#"+("00000"+(0|c).toString(16)).substr(-6);if(d.Al=d.Al||{},d.Al[f])return d.Al[f];var b=k.canvas||document.createElement("canvas");if(k.QA(d,c,b),k.Ix){var l=new Image;l.src=b.toDataURL();d.Al[f]=l}else d.Al[f]=b,k.canvas=null;return b};k.RA=function(a,
c,d){var f=d.getContext("2d"),b=a.Hb;d.width=b.width;d.height=b.height;f.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6);f.fillRect(0,0,b.width,b.height);f.globalCompositeOperation="multiply";f.drawImage(a.X.source,b.x,b.y,b.width,b.height,0,0,b.width,b.height);f.globalCompositeOperation="destination-atop";f.drawImage(a.X.source,b.x,b.y,b.width,b.height,0,0,b.width,b.height)};k.vE=function(a,c,d){var f=d.getContext("2d"),b=a.Hb;d.width=b.width;d.height=b.height;f.globalCompositeOperation="copy";
f.fillStyle="#"+("00000"+(0|c).toString(16)).substr(-6);f.fillRect(0,0,b.width,b.height);f.globalCompositeOperation="destination-atop";f.drawImage(a.X.source,b.x,b.y,b.width,b.height,0,0,b.width,b.height)};k.SA=function(g,c,d){var f=d.getContext("2d"),b=g.Hb;d.width=b.width;d.height=b.height;f.globalCompositeOperation="copy";f.drawImage(g.X.source,b.x,b.y,b.width,b.height,0,0,b.width,b.height);d=a.Od(c);g=d[0];c=d[1];d=d[2];for(var b=f.getImageData(0,0,b.width,b.height),l=b.data,e=0;e<l.length;e+=
4)l[e+0]*=g,l[e+1]*=c,l[e+2]*=d;f.putImageData(b,0,0)};k.cA=function(g){var c=k.Ax;g=a.Od(g);return g[0]=Math.min(255,g[0]/c*c),g[1]=Math.min(255,g[1]/c*c),g[2]=Math.min(255,g[2]/c*c),a.xu(g)};k.Ax=8;k.Ix=!1;k.Cx=a.ct();k.QA=k.Cx?k.RA:k.SA},{"../../../utils":76}],48:[function(e,q){function a(a,l,e){e=e||{};k.call(this,"WebGL",a,l,e);this.type=p.gi.Qo;this.Kk=this.Kk.bind(this);this.Lk=this.Lk.bind(this);this.view.addEventListener("webglcontextlost",this.Kk,!1);this.view.addEventListener("webglcontextrestored",
this.Lk,!1);this.pm=!!e.cy&&e.antialias;this.Xl=null;this.bm={alpha:this.eg,antialias:e.antialias,premultipliedAlpha:this.eg&&"notMultiplied"!==this.eg,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer};this.Sm=0;this.Db=new g(this);this.Uf=new c(this);this.sj=new d(this);this.Z=new f(this);this.Je=new b(this);this.Oc=null;this.Le=new n(this);this.rq();this.dw();this.us();this.rw()}var k=e("../SystemRenderer"),g=e("./managers/ShaderManager"),c=e("./managers/MaskManager"),d=e("./managers/StencilManager"),
f=e("./managers/FilterManager"),b=e("./managers/BlendModeManager"),l=e("./utils/RenderTarget"),n=e("./utils/ObjectRenderer"),r=e("./filters/FXAAFilter"),x=e("../../utils"),p=e("../../const");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;x.Wq.Sq(a);a.nq=0;a.prototype.dw=function(){var b=this.view.getContext("webgl",this.bm)||this.view.getContext("experimental-webgl",this.bm);if(this.G=b,!b)throw Error("This browser does not support webGL. Try using the canvas renderer");this.nq=
a.nq++;b.id=this.nq;b.v=this};a.prototype.us=function(){var a=this.G;a.disable(a.DEPTH_TEST);a.disable(a.CULL_FACE);a.enable(a.BLEND);this.Td=new l(a,this.width,this.height,null,this.N,!0);this.oj(this.Td);this.wb("context",a);this.resize(this.width,this.height);this.pm||(this.pm=this.bm.antialias&&!a.getContextAttributes().antialias);this.pm&&(window.console.warn("FXAA antialiasing being used instead of native antialiasing"),this.Xl=[new r])};a.prototype.Cc=function(a){if(!this.G.isContextLost()){this.Sm=
0;this.bf=a;this.pm&&(this.Xl[0].m.N.value.x=this.width,this.Xl[0].m.N.value.y=this.height,a.bn=this.Td.size,a.filters=this.Xl);var b=a.parent;a.parent=this.mm;a.Dc();a.parent=b;b=this.G;this.oj(this.Td);this.xk&&(this.eg?b.clearColor(0,0,0,0):b.clearColor(this.Qj[0],this.Qj[1],this.Qj[2],1),b.clear(b.COLOR_BUFFER_BIT));this.tl(a,this.Td)}};a.prototype.tl=function(a,b,c){this.oj(b);c&&b.clear();this.Z.AA(b.re);a.Ud(this);this.Le.flush()};a.prototype.Tg=function(a){this.Le!==a&&(this.Le.stop(),this.Le=
a,this.Le.start())};a.prototype.oj=function(a){this.Oc!==a&&(this.Oc=a,this.Oc.rm(),this.sj.BA(a.tj))};a.prototype.resize=function(a,b){k.prototype.resize.call(this,a,b);this.Z.resize(a,b);this.Td.resize(a,b);this.Oc===this.Td&&(this.Td.rm(),this.G.viewport(0,0,this.width,this.height))};a.prototype.Yg=function(a){if(a=a.X||a,a.ud){var b=this.G;return a.Rb[b.id]||(a.Rb[b.id]=b.createTexture(),a.Th("update",this.Yg,this),a.Th("dispose",this.Lx,this)),b.bindTexture(b.TEXTURE_2D,a.Rb[b.id]),b.pixelStorei(b.UNPACK_PREMULTIPLY_ALPHA_WEBGL,
a.premultipliedAlpha),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,a.source),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,a.Sg===p.Ed.LINEAR?b.LINEAR:b.NEAREST),a.qz&&a.Ui?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a.Sg===p.Ed.LINEAR?b.LINEAR_MIPMAP_LINEAR:b.NEAREST_MIPMAP_NEAREST),b.generateMipmap(b.TEXTURE_2D)):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,a.Sg===p.Ed.LINEAR?b.LINEAR:b.NEAREST),a.Ui?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT),b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_WRAP_T,b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE)),a.Rb[b.id]}};a.prototype.Lx=function(a){a=a.X||a;a.ud&&a.Rb[this.G.id]&&this.G.deleteTexture(a.Rb[this.G.id])};a.prototype.Kk=function(a){a.preventDefault()};a.prototype.Lk=function(){this.us();for(var a in x.Bd)x.Bd[a].Rb.length=0};a.prototype.O=function(a){this.Xp();this.view.removeEventListener("webglcontextlost",this.Kk);this.view.removeEventListener("webglcontextrestored",
this.Lk);k.prototype.O.call(this,a);this.uid=0;this.Db.O();this.Uf.O();this.sj.O();this.Z.O();this.bm=this.Lk=this.Kk=this.Je=this.Z=this.Uf=this.Db=null;this.Sm=0;this.G=null};a.prototype.rw=function(){var a=this.G;this.U||(this.U={},this.U[p.P.Yd]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.bo]=[a.SRC_ALPHA,a.DST_ALPHA],this.U[p.P.Tl]=[a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.Ul]=[a.SRC_ALPHA,a.ONE],this.U[p.P.Ho]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.mo]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.Do]=
[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.io]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.ho]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.zo]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.Lo]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.oo]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.ro]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.Ao]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.Ko]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.fo]=[a.ONE,a.ONE_MINUS_SRC_ALPHA],this.U[p.P.Eo]=[a.ONE,a.ONE_MINUS_SRC_ALPHA]);this.xg||(this.xg={},
this.xg[p.le.POINTS]=a.POINTS,this.xg[p.le.LINES]=a.LINES,this.xg[p.le.LINE_LOOP]=a.LINE_LOOP,this.xg[p.le.LINE_STRIP]=a.LINE_STRIP,this.xg[p.le.TRIANGLES]=a.TRIANGLES,this.xg[p.le.TRIANGLE_STRIP]=a.TRIANGLE_STRIP,this.xg[p.le.TRIANGLE_FAN]=a.TRIANGLE_FAN)}},{"../../const":22,"../../utils":76,"../SystemRenderer":42,"./filters/FXAAFilter":50,"./managers/BlendModeManager":52,"./managers/FilterManager":53,"./managers/MaskManager":54,"./managers/ShaderManager":55,"./managers/StencilManager":56,"./utils/ObjectRenderer":62,
"./utils/RenderTarget":64}],49:[function(e,q){function a(a,c,d){this.pj=[];this.padding=0;this.m=d||{};this.Yn=a||k.kt;this.cn=c||k.jt}var k=e("../shaders/TextureShader");a.prototype.constructor=a;q.o=a;a.prototype.Lf=function(a){var c=a.G,d=this.pj[c.id];return d||(d=new k(a.Db,this.Yn,this.cn,this.m,this.attributes),this.pj[c.id]=d),d};a.prototype.na=function(a,c,d,f){var b=this.Lf(a);a.Z.na(b,c,d,f)};a.prototype.kr=function(a){for(var c=0,d=this.pj.length;d>c;++c)this.pj[c].kr(a)}},{"../shaders/TextureShader":61}],
50:[function(e,q){function a(){k.call(this,"\nprecision mediump float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform vec2 resolution;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n            out vec2 v_rgbNW, out vec2 v_rgbNE,\n            out vec2 v_rgbSW, out vec2 v_rgbSE,\n            out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n   vResolution = resolution;\n\n   //compute the texture coords and send them to varyings\n   texcoords(aTextureCoord * resolution, resolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",
'precision lowp float;\n\n\n/**\nBasic FXAA implementation based on the code on geeks3d.com with the\nmodification that the texture2DLod stuff was removed since it\'s\nunsupported by WebGL.\n\n--\n\nFrom:\nhttps://github.com/mitsuhiko/webgl-meincraft\n\nCopyright (c) 2011 by Armin Ronacher.\n\nSome rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are\nmet:\n\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n\n    * Redistributions in binary form must reproduce the above\n      copyright notice, this list of conditions and the following\n      disclaimer in the documentation and/or other materials provided\n      with the distribution.\n\n    * The names of the contributors may not be used to endorse or\n      promote products derived from this software without specific\n      prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n"AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\nLIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\nA PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\nOWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\nSPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\nLIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\nDATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\nTHEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n#ifndef FXAA_REDUCE_MIN\n    #define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n    #define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n    #define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n            vec2 v_rgbNW, vec2 v_rgbNE,\n            vec2 v_rgbSW, vec2 v_rgbSE,\n            vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n              dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n        texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n        texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n        texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vResolution;\n\n//texcoords computed in vertex step\n//to avoid dependent texture reads\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform sampler2D uSampler;\n\n\nvoid main(void){\n\n    gl_FragColor = fxaa(uSampler, vTextureCoord * vResolution, vResolution, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n}\n',
{N:{type:"v2",value:{x:1,y:1}}})}var k=e("./AbstractFilter");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,c,d){var f=a.Z;a=this.Lf(a);f.na(a,c,d)}},{"./AbstractFilter":49}],51:[function(e,q){function a(a){var d=new g.ed;k.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    original *= (masky.r * masky.a * alpha * clip);\n    gl_FragColor = original;\n}\n",
{xn:{type:"sampler2D",value:a.la},alpha:{type:"f",value:1},Uq:{type:"mat3",value:d.Ad()}});this.fj=a;this.bl=d}var k=e("./AbstractFilter"),g=e("../../../math");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,d,f){var b=a.Z;this.m.xn.value=this.fj.la;b.at(d.frame,this.fj,this.bl);this.m.Uq.value=this.bl.Ad();this.m.alpha.value=this.fj.hb;a=this.Lf(a);b.na(a,d,f)};Object.defineProperties(a.prototype,{map:{get:function(){return this.m.xn.value},set:function(a){this.m.xn.value=
a}},offset:{get:function(){return this.m.offset.value},set:function(a){this.m.offset.value=a}}})},{"../../../math":32,"./AbstractFilter":49}],52:[function(e,q){function a(a){k.call(this,a);this.Nc=99999}var k=e("./WebGLManager");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.Zf=function(a){this.Nc!==a&&(this.Nc=a,a=this.v.U[this.Nc],this.v.G.blendFunc(a[0],a[1]))}},{"./WebGLManager":57}],53:[function(e,q){function a(a){k.call(this,a);this.re=[];this.re.push({Td:a.Oc,
filter:[],qx:null});this.Wg=[];this.zd=new f.lc(0,0,a.width,a.height);this.Lm=null}var k=e("./WebGLManager"),g=e("../utils/RenderTarget"),c=e("../../../const"),d=e("../utils/Quad"),f=e("../../../math");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.Vf=function(){this.Wg.length=0;this.Uh=new d(this.v.G)};a.prototype.AA=function(a){this.re=a};a.prototype.su=function(a,c){var d=a.bn?a.bn.clone():a.$b();d.x=0|d.x;d.y=0|d.y;d.width=0|d.width;d.height=0|d.height;var f=
0|c[0].padding;(d.x-=f,d.y-=f,d.width+=2*f,d.height+=2*f,this.v.Oc.transform)?(f=this.v.Oc.transform,d.x+=f.da,d.y+=f.aa,this.dt(d),d.x-=f.da,d.y-=f.aa):this.dt(d);0<d.width&&0<d.height?(this.Lm=d,d=this.jf(),this.v.oj(d),d.clear(),this.re.push({Td:d,filter:c})):this.re.push({Td:null,filter:c})};a.prototype.ou=function(){var a=this.re.pop(),d=this.re[this.re.length-1],f=a.Td;if(a.Td){var d=d.Td,g=this.v.G;this.Lm=f.frame;this.Uh.map(this.zd,f.frame);g.bindBuffer(g.ARRAY_BUFFER,this.Uh.$g);g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,
this.Uh.rc);var e=a.filter;if(g.vertexAttribPointer(this.v.Db.Om.attributes.He,2,g.FLOAT,!1,0,0),g.vertexAttribPointer(this.v.Db.Om.attributes.si,2,g.FLOAT,!1,0,32),g.vertexAttribPointer(this.v.Db.Om.attributes.ri,4,g.FLOAT,!1,0,64),this.v.Je.Zf(c.P.Yd),1===e.length)e[0].m.Nd&&(e[0].m.Nd.value[0]=this.v.width,e[0].m.Nd.value[1]=this.v.height,e[0].m.Nd.value[2]=this.Uh.eb[0],e[0].m.Nd.value[3]=this.Uh.eb[5]),e[0].na(this.v,f,d),this.Xe(f);else{for(var g=this.jf(!0),k=0;k<e.length-1;k++){var m=e[k];
m.m.Nd&&(m.m.Nd.value[0]=this.v.width,m.m.Nd.value[1]=this.v.height,m.m.Nd.value[2]=this.Uh.eb[0],m.m.Nd.value[3]=this.Uh.eb[5]);m.na(this.v,f,g);m=f;f=g;g=m}e[e.length-1].na(this.v,f,d);this.Xe(f);this.Xe(g)}return a.filter}};a.prototype.jf=function(a){var d=this.Wg.pop()||new g(this.v.G,this.zd.width,this.zd.height,c.Ed.LINEAR,this.v.N*c.hv);return d.frame=this.Lm,a&&d.clear(!0),d};a.prototype.Xe=function(a){this.Wg.push(a)};a.prototype.na=function(a,c,d,f){var g=this.v.G;this.v.oj(d);f&&d.clear();
this.v.Db.Yh(a);a.m.fc.value=this.v.Oc.fc.Ad();a.Gu();g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,c.wa);g.drawElements(g.TRIANGLES,6,g.UNSIGNED_SHORT,0)};a.prototype.at=function(a,c,d){var g=c.sa.Wp(f.ed.Rv),e=c.la.X;d=d.jn();var k=this.zd.height/this.zd.width;d.translate(a.x/this.zd.width,a.y/this.zd.height);d.scale(1,k);a=this.zd.width/e.width;var m=this.zd.height/e.height;g.da/=e.width*a;g.aa/=e.width*a;g.Nk();d.qu(g);d.scale(1,1/k);d.scale(a,m);d.translate(c.anchor.x,c.anchor.y)};a.prototype.dt=
function(a){0>a.x&&(a.width+=a.x,a.x=0);0>a.y&&(a.height+=a.y,a.y=0);a.x+a.width>this.zd.width&&(a.width=this.zd.width-a.x);a.y+a.height>this.zd.height&&(a.height=this.zd.height-a.y)};a.prototype.resize=function(a,c){this.zd.width=a;this.zd.height=c;for(var d=0;d<this.Wg.length;d++)this.Wg[d].resize(a,c)};a.prototype.O=function(){this.re=null;for(var a=this.offsetY=0;a<this.Wg.length;a++)this.Wg[a].O();this.Wg=null}},{"../../../const":22,"../../../math":32,"../utils/Quad":63,"../utils/RenderTarget":64,
"./WebGLManager":57}],54:[function(e,q){function a(a){k.call(this,a);this.Zh=[];this.reverse=!0;this.count=0;this.Ms=[]}var k=e("./WebGLManager"),g=e("../filters/SpriteMaskFilter");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.sl=function(a,d){d.wa?this.Pz(a,d):this.Qz(d)};a.prototype.nl=function(a,d){d.wa?this.Lz():this.Mz(d)};a.prototype.Pz=function(a,d){var f=this.Ms.pop();f||(f=[new g(d)]);f[0].fj=d;this.v.Z.su(a,f)};a.prototype.Lz=function(){var a=this.v.Z.ou();
this.Ms.push(a)};a.prototype.Qz=function(a){this.v.sj.sl(a)};a.prototype.Mz=function(a){this.v.sj.nl(a)}},{"../filters/SpriteMaskFilter":51,"./WebGLManager":57}],55:[function(e,q){function a(a){k.call(this,a);this.Oq=10;this.qg=[];this.uj=[];for(a=0;a<this.Oq;a++)this.qg[a]=!1;this.stack=[];this.ns=-1}var k=e("./WebGLManager"),g=e("../shaders/TextureShader"),c=e("../shaders/ComplexPrimitiveShader"),d=e("../shaders/PrimitiveShader"),f=e("../../../utils");a.prototype=Object.create(k.prototype);a.prototype.constructor=
a;f.Wq.Sq(a);q.o=a;a.prototype.Vf=function(){this.rq();var a=this.v.G;this.Oq=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.qg=[];for(a=0;a<this.Oq;a++)this.qg[a]=!1;this.Om=new g(this);this.Cn=new d(this);this.Vp=new c(this)};a.prototype.yA=function(a){var c;for(c=0;c<this.uj.length;c++)this.uj[c]=!1;for(var d in a)this.uj[a[d]]=!0;a=this.v.G;for(c=0;c<this.qg.length;c++)this.qg[c]!==this.uj[c]&&(this.qg[c]=this.uj[c],this.qg[c]?a.enableVertexAttribArray(c):a.disableVertexAttribArray(c))};a.prototype.Yh=
function(a){this.ns===a.uid||(this.ns=a.uid,this.v.G.useProgram(a.jj),this.yA(a.attributes))};a.prototype.O=function(){k.prototype.O.call(this);this.Xp();this.uj=this.qg=null}},{"../../../utils":76,"../shaders/ComplexPrimitiveShader":58,"../shaders/PrimitiveShader":59,"../shaders/TextureShader":61,"./WebGLManager":57}],56:[function(e,q){function a(a){k.call(this,a);this.tj=null}var k=e("./WebGLManager"),g=e("../../../utils");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.BA=
function(a){this.tj=a;var d=this.v.G;0===a.Zh.length?d.disable(d.STENCIL_TEST):d.enable(d.STENCIL_TEST)};a.prototype.tu=function(a,d){this.v.Oc.Ww();var f=this.v.G,b=this.tj;this.Xs(a,d);0===b.Zh.length&&(f.enable(f.STENCIL_TEST),f.clear(f.STENCIL_BUFFER_BIT),b.reverse=!0,b.count=0);b.Zh.push(d);var g=b.count;f.colorMask(!1,!1,!1,!1);f.stencilFunc(f.ALWAYS,0,255);f.stencilOp(f.KEEP,f.KEEP,f.INVERT);1===d.mode?(f.drawElements(f.TRIANGLE_FAN,d.$.length-4,f.UNSIGNED_SHORT,0),b.reverse?(f.stencilFunc(f.EQUAL,
255-g,255),f.stencilOp(f.KEEP,f.KEEP,f.DECR)):(f.stencilFunc(f.EQUAL,g,255),f.stencilOp(f.KEEP,f.KEEP,f.INCR)),f.drawElements(f.TRIANGLE_FAN,4,f.UNSIGNED_SHORT,2*(d.$.length-4)),b.reverse?f.stencilFunc(f.EQUAL,255-(g+1),255):f.stencilFunc(f.EQUAL,g+1,255),b.reverse=!b.reverse):(b.reverse?(f.stencilFunc(f.EQUAL,g,255),f.stencilOp(f.KEEP,f.KEEP,f.INCR)):(f.stencilFunc(f.EQUAL,255-g,255),f.stencilOp(f.KEEP,f.KEEP,f.DECR)),f.drawElements(f.TRIANGLE_STRIP,d.$.length,f.UNSIGNED_SHORT,0),b.reverse?f.stencilFunc(f.EQUAL,
g+1,255):f.stencilFunc(f.EQUAL,255-(g+1),255));f.colorMask(!0,!0,!0,!0);f.stencilOp(f.KEEP,f.KEEP,f.KEEP);b.count++};a.prototype.Xs=function(a,d){var f,b=this.v.G;1===d.mode?(f=this.v.Db.Vp,this.v.Db.Yh(f),b.uniformMatrix3fv(f.m.vj.Sb,!1,a.sa.Ad()),b.uniformMatrix3fv(f.m.fc.Sb,!1,this.v.Oc.fc.Ad()),b.uniform3fv(f.m.cb.Sb,g.Od(a.cb)),b.uniform3fv(f.m.color.Sb,d.color),b.uniform1f(f.m.alpha.Sb,a.hb),b.bindBuffer(b.ARRAY_BUFFER,d.buffer),b.vertexAttribPointer(f.attributes.He,2,b.FLOAT,!1,8,0),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,
d.rc)):(f=this.v.Db.Cn,this.v.Db.Yh(f),b.uniformMatrix3fv(f.m.vj.Sb,!1,a.sa.Ad()),b.uniformMatrix3fv(f.m.fc.Sb,!1,this.v.Oc.fc.Ad()),b.uniform3fv(f.m.cb.Sb,g.Od(a.cb)),b.uniform1f(f.m.alpha.Sb,a.hb),b.bindBuffer(b.ARRAY_BUFFER,d.buffer),b.vertexAttribPointer(f.attributes.He,2,b.FLOAT,!1,24,0),b.vertexAttribPointer(f.attributes.ri,4,b.FLOAT,!1,24,8),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,d.rc))};a.prototype.pu=function(a,d){var f=this.v.G,b=this.tj;if(b.Zh.pop(),b.count--,0===b.Zh.length)f.disable(f.STENCIL_TEST);
else{var g=b.count;this.Xs(a,d);f.colorMask(!1,!1,!1,!1);1===d.mode?(b.reverse=!b.reverse,b.reverse?(f.stencilFunc(f.EQUAL,255-(g+1),255),f.stencilOp(f.KEEP,f.KEEP,f.INCR)):(f.stencilFunc(f.EQUAL,g+1,255),f.stencilOp(f.KEEP,f.KEEP,f.DECR)),f.drawElements(f.TRIANGLE_FAN,4,f.UNSIGNED_SHORT,2*(d.$.length-4)),f.stencilFunc(f.ALWAYS,0,255),f.stencilOp(f.KEEP,f.KEEP,f.INVERT),f.drawElements(f.TRIANGLE_FAN,d.$.length-4,f.UNSIGNED_SHORT,0),b.reverse?f.stencilFunc(f.EQUAL,g,255):f.stencilFunc(f.EQUAL,255-
g,255)):(b.reverse?(f.stencilFunc(f.EQUAL,g+1,255),f.stencilOp(f.KEEP,f.KEEP,f.DECR)):(f.stencilFunc(f.EQUAL,255-(g+1),255),f.stencilOp(f.KEEP,f.KEEP,f.INCR)),f.drawElements(f.TRIANGLE_STRIP,d.$.length,f.UNSIGNED_SHORT,0),b.reverse?f.stencilFunc(f.EQUAL,g,255):f.stencilFunc(f.EQUAL,255-g,255));f.colorMask(!0,!0,!0,!0);f.stencilOp(f.KEEP,f.KEEP,f.KEEP)}};a.prototype.O=function(){k.prototype.O.call(this);this.tj.Zh=null};a.prototype.sl=function(a){this.v.Tg(this.v.plugins.en);a.ya&&this.v.plugins.en.Mu(a);
a.pi[this.v.G.id].data.length&&this.tu(a,a.pi[this.v.G.id].data[0])};a.prototype.nl=function(a){this.v.Tg(this.v.plugins.en);this.pu(a,a.pi[this.v.G.id].data[0])}},{"../../../utils":76,"./WebGLManager":57}],57:[function(e,q){function a(a){this.v=a;this.v.Th("context",this.Vf,this)}a.prototype.constructor=a;q.o=a;a.prototype.Vf=function(){};a.prototype.O=function(){this.v.dl("context",this.Vf,this);this.v=null}},{}],58:[function(e,q){function a(a){k.call(this,a,"attribute vec2 aVertexPosition;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform vec3 tint;\nuniform float alpha;\nuniform vec3 color;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = vec4(color * alpha * tint, alpha);\n}",
"precision mediump float;\nvarying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}",{cb:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},color:{type:"3f",value:[0,0,0]},vj:{type:"mat3",value:new Float32Array(9)},fc:{type:"mat3",value:new Float32Array(9)}},{He:0})}var k=e("./Shader");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a},{"./Shader":60}],59:[function(e,q){function a(a){k.call(this,a,"attribute vec2 aVertexPosition;\nattribute vec4 aColor;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nuniform float alpha;\nuniform float flipY;\nuniform vec3 tint;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vColor = aColor * vec4(tint * alpha, alpha);\n}",
"precision mediump float;\nvarying vec4 vColor;\nvoid main(void){\n   gl_FragColor = vColor;\n}",{cb:{type:"3f",value:[0,0,0]},alpha:{type:"1f",value:0},vj:{type:"mat3",value:new Float32Array(9)},fc:{type:"mat3",value:new Float32Array(9)}},{He:0,ri:0})}var k=e("./Shader");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a},{"./Shader":60}],60:[function(e,q){function a(a,c,d,f,b){if(!c||!d)throw Error("Pixi.js Error. Shader requires vertexSrc and fragmentSrc");this.uid=k.uid();
this.G=a.v.G;this.Db=a;this.jj=null;this.m=f||{};this.attributes=b||{};this.Tn=1;this.Yn=c;this.cn=d;this.kn()}var k=e("../../../utils");a.prototype.constructor=a;q.o=a;a.prototype.kn=function(){this.compile();this.G.useProgram(this.jj);this.Bx(Object.keys(this.m));this.zx(Object.keys(this.attributes))};a.prototype.Bx=function(a){for(var c=0;c<a.length;++c)this.m[a[c]].Sb=this.G.getUniformLocation(this.jj,a[c])};a.prototype.zx=function(a){for(var c=0;c<a.length;++c)this.attributes[a[c]]=this.G.getAttribLocation(this.jj,
a[c])};a.prototype.compile=function(){var a=this.G,c=this.ts(a.VERTEX_SHADER,this.Yn),d=this.ts(a.FRAGMENT_SHADER,this.cn),f=a.createProgram();return a.attachShader(f,c),a.attachShader(f,d),a.linkProgram(f),a.getProgramParameter(f,a.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",a.getProgramParameter(f,a.VALIDATE_STATUS)),console.error("gl.getError()",a.getError()),""!==a.getProgramInfoLog(f)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",
a.getProgramInfoLog(f)),a.deleteProgram(f),f=null),a.deleteShader(c),a.deleteShader(d),this.jj=f};a.prototype.kr=function(a){var c,d,f=a.Sb,b=a.value,e=this.G;switch(a.type){case "b":case "bool":case "boolean":e.uniform1i(f,b?1:0);break;case "i":case "1i":e.uniform1i(f,b);break;case "f":case "1f":e.uniform1f(f,b);break;case "2f":e.uniform2f(f,b[0],b[1]);break;case "3f":e.uniform3f(f,b[0],b[1],b[2]);break;case "4f":e.uniform4f(f,b[0],b[1],b[2],b[3]);break;case "v2":e.uniform2f(f,b.x,b.y);break;case "v3":e.uniform3f(f,
b.x,b.y,b.z);break;case "v4":e.uniform4f(f,b.x,b.y,b.z,b.ka);break;case "1iv":e.uniform1iv(f,b);break;case "2iv":e.uniform2iv(f,b);break;case "3iv":e.uniform3iv(f,b);break;case "4iv":e.uniform4iv(f,b);break;case "1fv":e.uniform1fv(f,b);break;case "2fv":e.uniform2fv(f,b);break;case "3fv":e.uniform3fv(f,b);break;case "4fv":e.uniform4fv(f,b);break;case "m2":case "mat2":case "Matrix2fv":e.uniformMatrix2fv(f,a.Ku,b);break;case "m3":case "mat3":case "Matrix3fv":e.uniformMatrix3fv(f,a.Ku,b);break;case "m4":case "mat4":case "Matrix4fv":e.uniformMatrix4fv(f,
a.Ku,b);break;case "c":"number"==typeof b&&(b=k.Od(b));e.uniform3f(f,b[0],b[1],b[2]);break;case "iv1":e.uniform1iv(f,b);break;case "iv":e.uniform3iv(f,b);break;case "fv1":e.uniform1fv(f,b);break;case "fv":e.uniform3fv(f,b);break;case "v2v":a.Jc||(a.Jc=new Float32Array(2*b.length));c=0;for(d=b.length;d>c;++c)a.Jc[2*c]=b[c].x,a.Jc[2*c+1]=b[c].y;e.uniform2fv(f,a.Jc);break;case "v3v":a.Jc||(a.Jc=new Float32Array(3*b.length));c=0;for(d=b.length;d>c;++c)a.Jc[3*c]=b[c].x,a.Jc[3*c+1]=b[c].y,a.Jc[3*c+2]=b[c].z;
e.uniform3fv(f,a.Jc);break;case "v4v":a.Jc||(a.Jc=new Float32Array(4*b.length));c=0;for(d=b.length;d>c;++c)a.Jc[4*c]=b[c].x,a.Jc[4*c+1]=b[c].y,a.Jc[4*c+2]=b[c].z,a.Jc[4*c+3]=b[c].ka;e.uniform4fv(f,a.Jc);break;case "t":case "sampler2D":if(!a.value||!a.value.X.ud)break;e.activeTexture(e["TEXTURE"+this.Tn]);(c=a.value.X.Rb[e.id])||(this.qy(a),c=a.value.X.Rb[e.id]);e.bindTexture(e.TEXTURE_2D,c);e.uniform1i(a.Sb,this.Tn);this.Tn++;break;default:console.warn("Pixi.js Shader Warning: Unknown uniform type: "+
a.type)}};a.prototype.Gu=function(){this.Tn=1;for(var a in this.m)this.kr(this.m[a])};a.prototype.qy=function(a){var c=this.G,d=a.value.X;d.ud&&(a.KA?(a=a.KA,d.Rb[c.id]=c.createTexture(),c.bindTexture(c.TEXTURE_2D,d.Rb[c.id]),c.pixelStorei(c.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d.premultipliedAlpha),c.texImage2D(c.TEXTURE_2D,0,a.SD?c.LUMINANCE:c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d.source),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,a.dz?a.dz:c.LINEAR),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,a.rr?
a.rr:c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,a.rr?a.rr:c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,a.iB?a.iB:c.CLAMP_TO_EDGE)):this.Db.v.Yg(d))};a.prototype.O=function(){this.G.deleteProgram(this.jj);this.cn=this.Yn=this.attributes=this.m=this.G=null};a.prototype.ts=function(a,c){var d=this.G.createShader(a);return this.G.shaderSource(d,c),this.G.compileShader(d),this.G.getShaderParameter(d,this.G.COMPILE_STATUS)?d:(console.log(this.G.getShaderInfoLog(d)),
null)}},{"../../../utils":76}],61:[function(e,q){function a(g,c,d,f,b){var e={DE:{type:"sampler2D",value:0},fc:{type:"mat3",value:new Float32Array([1,0,0,0,1,0,0,0,1])}};if(f)for(var n in f)e[n]=f[n];f={He:0,si:0,ri:0};if(b)for(var m in b)f[m]=b[m];c=c||a.kt;d=d||a.jt;k.call(this,g,c,d,e,f)}var k=e("./Shader");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.kt="precision lowp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}";
a.jt="precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * vColor ;\n}"},{"./Shader":60}],62:[function(e,q){function a(a){k.call(this,a)}var k=e("../managers/WebGLManager");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.start=function(){};a.prototype.stop=function(){this.flush()};a.prototype.flush=function(){};a.prototype.Cc=function(){}},{"../managers/WebGLManager":57}],
63:[function(e,q){function a(a){this.G=a;this.eb=new Float32Array([0,0,200,0,200,200,0,200]);this.Uc=new Float32Array([0,0,1,0,1,1,0,1]);this.ug=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);this.$=new Uint16Array([0,1,2,0,3,2]);this.$g=a.createBuffer();this.rc=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.$g);a.bufferData(a.ARRAY_BUFFER,128,a.DYNAMIC_DRAW);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.rc);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.$,a.STATIC_DRAW);this.upload()}a.prototype.constructor=
a;a.prototype.map=function(a,g){var c=0,d=0;this.Uc[0]=c;this.Uc[1]=d;this.Uc[2]=c+g.width/a.width;this.Uc[3]=d;this.Uc[4]=c+g.width/a.width;this.Uc[5]=d+g.height/a.height;this.Uc[6]=c;this.Uc[7]=d+g.height/a.height;c=g.x;d=g.y;this.eb[0]=c;this.eb[1]=d;this.eb[2]=c+g.width;this.eb[3]=d;this.eb[4]=c+g.width;this.eb[5]=d+g.height;this.eb[6]=c;this.eb[7]=d+g.height;this.upload()};a.prototype.upload=function(){var a=this.G;a.bindBuffer(a.ARRAY_BUFFER,this.$g);a.bufferSubData(a.ARRAY_BUFFER,0,this.eb);
a.bufferSubData(a.ARRAY_BUFFER,32,this.Uc);a.bufferSubData(a.ARRAY_BUFFER,64,this.ug)};q.o=a},{}],64:[function(e,q){function a(a,b,e,n,m,q){(this.G=a,this.Bh=null,this.wa=null,this.size=new k.lc(0,0,1,1),this.N=m||c.Jo,this.fc=new k.ed,this.transform=null,this.frame=null,this.rj=null,this.tj=new d,this.re=[{Td:this,filter:[],qx:this.size}],this.Sg=n||c.Ed.DEFAULT,this.root=q,this.root)||(this.Bh=a.createFramebuffer(),this.wa=a.createTexture(),a.bindTexture(a.TEXTURE_2D,this.wa),a.texParameteri(a.TEXTURE_2D,
a.TEXTURE_MAG_FILTER,n===c.Ed.LINEAR?a.LINEAR:a.NEAREST),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,n===c.Ed.LINEAR?a.LINEAR:a.NEAREST),g.Ui(b,e)?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE)),a.bindFramebuffer(a.FRAMEBUFFER,this.Bh),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
this.wa,0));this.resize(b,e)}var k=e("../../../math"),g=e("../../../utils"),c=e("../../../const"),d=e("./StencilMaskStack");a.prototype.constructor=a;q.o=a;a.prototype.clear=function(a){var b=this.G;a&&b.bindFramebuffer(b.FRAMEBUFFER,this.Bh);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT)};a.prototype.Ww=function(){if(!this.rj&&!this.root){var a=this.G;this.rj=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,this.rj);a.framebufferRenderbuffer(a.FRAMEBUFFER,a.DEPTH_STENCIL_ATTACHMENT,a.RENDERBUFFER,
this.rj);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_STENCIL,this.size.width*this.N,this.size.height*this.N)}};a.prototype.rm=function(){var a=this.G;a.bindFramebuffer(a.FRAMEBUFFER,this.Bh);var b=this.frame||this.size;this.bt(b);this.transform&&this.fc.append(this.transform);a.viewport(0,0,b.width*this.N,b.height*this.N)};a.prototype.bt=function(a){var b=this.fc;b.jn();this.root?(b.j=1/a.width*2,b.d=-1/a.height*2,b.da=-1-a.x*b.j,b.aa=1-a.y*b.d):(b.j=1/a.width*2,b.d=1/a.height*2,b.da=-1-a.x*b.j,
b.aa=-1-a.y*b.d)};a.prototype.resize=function(a,b){if(a=0|a,b=0|b,this.size.width!==a||this.size.height!==b){if(this.size.width=a,this.size.height=b,!this.root){var c=this.G;c.bindTexture(c.TEXTURE_2D,this.wa);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,a*this.N,b*this.N,0,c.RGBA,c.UNSIGNED_BYTE,null);this.rj&&(c.bindRenderbuffer(c.RENDERBUFFER,this.rj),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_STENCIL,a*this.N,b*this.N))}this.bt(this.frame||this.size)}};a.prototype.O=function(){var a=this.G;a.deleteFramebuffer(this.Bh);
a.deleteTexture(this.wa);this.wa=this.Bh=null}},{"../../../const":22,"../../../math":32,"../../../utils":76,"./StencilMaskStack":65}],65:[function(e,q){function a(){this.Zh=[];this.reverse=!0;this.count=0}a.prototype.constructor=a;q.o=a},{}],66:[function(e,q){function a(a){c.call(this);this.anchor=new k.Eb;this.la=null;this.jd=this.nd=0;this.cb=16777215;this.Mc=b.P.Yd;this.Ia=null;this.Sp=16777215;this.wa=a||g.EMPTY}var k=e("../math"),g=e("../textures/Texture"),c=e("../display/Container"),d=e("../renderers/canvas/utils/CanvasTinter"),
f=e("../utils"),b=e("../const"),l=new k.Eb;a.prototype=Object.create(c.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{width:{get:function(){return this.scale.x*this.wa.Y.width},set:function(a){this.scale.x=a/this.wa.Y.width;this.nd=a}},height:{get:function(){return this.scale.y*this.wa.Y.height},set:function(a){this.scale.y=a/this.wa.Y.height;this.jd=a}},wa:{get:function(){return this.la},set:function(a){this.la!==a&&(this.la=a,this.Sp=16777215,a&&(a.X.ud?this.ng():
a.Rd("update",this.ng,this)))}}});a.prototype.ng=function(){this.nd&&(this.scale.x=this.nd/this.wa.frame.width);this.jd&&(this.scale.y=this.jd/this.wa.frame.height)};a.prototype.oi=function(a){a.Tg(a.plugins.ul);a.plugins.ul.Cc(this)};a.prototype.$b=function(a){if(!this.Kc){var b,c,d,f=this.la.Y.width;d=this.la.Y.height;var g=f*(1-this.anchor.x),f=f*-this.anchor.x,e=d*(1-this.anchor.y),l=d*-this.anchor.y,k=a||this.sa;c=k.j;a=k.ba;var m=k.g;d=k.d;var q=k.da,C=k.aa;if(0===a&&0===m)0>c&&(c*=-1),0>d&&
(d*=-1),a=c*f+q,b=c*g+q,c=d*l+C,d=d*e+C;else{b=c*f+m*l+q;var k=d*l+a*f+C,u=c*g+m*l+q,l=d*l+a*g+C,N=c*g+m*e+q,g=d*e+a*g+C,q=c*f+m*e+q,f=d*e+a*f+C;a=b;a=a>u?u:a;a=a>N?N:a;a=a>q?q:a;c=k;c=c>l?l:c;c=c>g?g:c;c=c>f?f:c;b=u>b?u:b;b=N>b?N:b;b=q>b?q:b;d=k;d=l>d?l:d;d=g>d?g:d;d=f>d?f:d}this.children.length&&(k=this.Hx(),g=k.x,f=k.x+k.width,e=k.y,l=k.y+k.height,a=g>a?a:g,c=e>c?c:e,b=b>f?b:f,d=d>l?d:l);f=this.hd;f.x=a;f.width=b-a;f.y=c;f.height=d-c;this.Kc=f}return this.Kc};a.prototype.hf=function(){return this.hd.x=
-this.la.Y.width*this.anchor.x,this.hd.y=-this.la.Y.height*this.anchor.y,this.hd.width=this.la.Y.width,this.hd.height=this.la.Y.height,this.hd};a.prototype.Ke=function(a){this.sa.Tj(a,l);var b;a=this.la.Y.width;var c=this.la.Y.height,d=-a*this.anchor.x;return l.x>d&&l.x<d+a&&(b=-c*this.anchor.y,l.y>b&&l.y<b+c)?!0:!1};a.prototype.lh=function(a){if(!(0>=this.wa.Hb.width||0>=this.wa.Hb.height)&&(this.Mc!==a.Nc&&(a.Nc=this.Mc,a.context.globalCompositeOperation=a.U[a.Nc]),this.wa.valid)){var c,f,g,e,l=
this.la,k=this.sa;(a.context.globalAlpha=this.hb,a.ag&&a.Mi!==l.X.Sg&&(a.Mi=l.X.Sg,a.context[a.ag]=a.Mi===b.Ed.LINEAR),l.rotate)?(c=k.j,f=k.ba,k.j=-k.g,k.ba=-k.d,k.g=c,k.d=f,g=l.Hb.height,e=l.Hb.width,c=l.trim?l.trim.y-this.anchor.y*l.trim.height:this.anchor.y*-l.Y.height,f=l.trim?l.trim.x-this.anchor.x*l.trim.width:this.anchor.x*-l.Y.width):(g=l.Hb.width,e=l.Hb.height,c=l.trim?l.trim.x-this.anchor.x*l.trim.width:this.anchor.x*-l.Y.width,f=l.trim?l.trim.y-this.anchor.y*l.trim.height:this.anchor.y*
-l.Y.height);a.lj?(a.context.setTransform(k.j,k.ba,k.g,k.d,k.da*a.N|0,k.aa*a.N|0),c|=0,f|=0):a.context.setTransform(k.j,k.ba,k.g,k.d,k.da*a.N,k.aa*a.N);k=l.X.N;16777215!==this.cb?(this.Sp!==this.cb&&(this.Sp=this.cb,this.TA=d.hy(this,this.cb)),a.context.drawImage(this.TA,0,0,g*k,e*k,c*a.N,f*a.N,g*a.N,e*a.N)):a.context.drawImage(l.X.source,l.Hb.x*k,l.Hb.y*k,g*k,e*k,c*a.N,f*a.N,g*a.N,e*a.N)}};a.prototype.O=function(a,b){c.prototype.O.call(this);this.anchor=null;a&&this.la.O(b);this.Ia=this.la=null};
a.jq=function(b){var c=f.gd[b];if(!c)throw Error('The frameId "'+b+'" does not exist in the texture cache');return new a(c)};a.Ch=function(b,c,d){return new a(g.Ch(b,c,d))}},{"../const":22,"../display/Container":23,"../math":32,"../renderers/canvas/utils/CanvasTinter":47,"../textures/Texture":71,"../utils":76}],67:[function(e,q){function a(a){k.call(this,a);this.pr=5;this.Dl=4*this.pr;this.size=c.Cv;a=6*this.size;this.eb=new ArrayBuffer(4*this.size*this.Dl);this.Xq=new Float32Array(this.eb);this.ug=
new Uint32Array(this.eb);this.$=new Uint16Array(a);for(var f=0,b=0;a>f;f+=6,b+=4)this.$[f+0]=b+0,this.$[f+1]=b+1,this.$[f+2]=b+2,this.$[f+3]=b+0,this.$[f+4]=b+2,this.$[f+5]=b+3;this.vg=0;this.ir=[];this.Ia=null}var k=e("../../renderers/webgl/utils/ObjectRenderer"),g=e("../../renderers/webgl/WebGLRenderer"),c=e("../../const");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;g.Vh("sprite",a);a.prototype.Vf=function(){var a=this.v.G;this.Ia=this.v.Db.Om;this.$g=a.createBuffer();
this.rc=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.rc);a.bufferData(a.ELEMENT_ARRAY_BUFFER,this.$,a.STATIC_DRAW);a.bindBuffer(a.ARRAY_BUFFER,this.$g);a.bufferData(a.ARRAY_BUFFER,this.eb,a.DYNAMIC_DRAW);this.Nc=99999};a.prototype.Cc=function(a){var c=a.la;this.vg>=this.size&&this.flush();var b=c.md;if(b){var g,e,k,m;e=a.anchor.x;m=a.anchor.y;c.trim?(k=c.trim,e=k.x-e*k.width,g=e+c.Hb.width,m=k.y-m*k.height,k=m+c.Hb.height):(g=c.Y.width*(1-e),e=c.Y.width*-e,k=c.Y.height*(1-m),m=c.Y.height*
-m);var c=this.vg*this.Dl,p=a.sa,q=p.j,C=p.ba,B=p.g,K=p.d,D=p.da,L=p.aa,p=this.ug,z=this.Xq;this.v.lj?(z[c]=q*e+B*m+D|0,z[c+1]=K*m+C*e+L|0,z[c+5]=q*g+B*m+D|0,z[c+6]=K*m+C*g+L|0,z[c+10]=q*g+B*k+D|0,z[c+11]=K*k+C*g+L|0,z[c+15]=q*e+B*k+D|0,z[c+16]=K*k+C*e+L|0):(z[c]=q*e+B*m+D,z[c+1]=K*m+C*e+L,z[c+5]=q*g+B*m+D,z[c+6]=K*m+C*g+L,z[c+10]=q*g+B*k+D,z[c+11]=K*k+C*g+L,z[c+15]=q*e+B*k+D,z[c+16]=K*k+C*e+L);z[c+2]=b.ah;z[c+3]=b.bh;z[c+7]=b.Fl;z[c+8]=b.$n;z[c+12]=b.Gl;z[c+13]=b.yj;z[c+17]=b.Zn;z[c+18]=b.ao;b=a.cb;
p[c+4]=p[c+9]=p[c+14]=p[c+19]=(b>>16)+(65280&b)+((255&b)<<16)+(255*a.hb<<24);this.ir[this.vg++]=a}};a.prototype.flush=function(){if(0!==this.vg){var a,c=this.v.G;this.vg>.5*this.size?c.bufferSubData(c.ARRAY_BUFFER,0,this.eb):c.bufferSubData(c.ARRAY_BUFFER,0,this.Xq.subarray(0,this.vg*this.Dl));for(var b,g,e,k=0,m=0,p=null,q=this.v.Je.Nc,C=null,B=!1,K=!1,D=0,L=this.vg;L>D;D++)e=this.ir[D],b=e.la.X,g=e.Mc,e=e.Ia||this.Ia,B=q!==g,K=C!==e,(p!==b||B||K)&&(this.wu(p,k,m),m=D,k=0,p=b,B&&(q=g,this.v.Je.Zf(q)),
K&&(C=e,a=C.pj?C.pj[c.id]:C,a||(a=C.Lf(this.v)),this.v.Db.Yh(a),a.m.fc.value=this.v.Oc.fc.Ad(),a.Gu(),c.activeTexture(c.TEXTURE0))),k++;this.wu(p,k,m);this.vg=0}};a.prototype.wu=function(a,c,b){if(0!==c){var g=this.v.G;a.Rb[g.id]?g.bindTexture(g.TEXTURE_2D,a.Rb[g.id]):this.v.Yg(a);g.drawElements(g.TRIANGLES,6*c,g.UNSIGNED_SHORT,12*b);this.v.Sm++}};a.prototype.start=function(){var a=this.v.G;a.bindBuffer(a.ARRAY_BUFFER,this.$g);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.rc);var c=this.Dl;a.vertexAttribPointer(this.Ia.attributes.He,
2,a.FLOAT,!1,c,0);a.vertexAttribPointer(this.Ia.attributes.si,2,a.FLOAT,!1,c,8);a.vertexAttribPointer(this.Ia.attributes.ri,4,a.UNSIGNED_BYTE,!0,c,16)};a.prototype.O=function(){this.v.G.deleteBuffer(this.$g);this.v.G.deleteBuffer(this.rc);this.Ia.O();this.Ia=this.ir=this.rc=this.$g=this.$=this.ug=this.Xq=this.eb=this.v=null}},{"../../const":22,"../../renderers/webgl/WebGLRenderer":48,"../../renderers/webgl/utils/ObjectRenderer":62}],68:[function(e,q){function a(a,d,e){this.canvas=document.createElement("canvas");
this.context=this.canvas.getContext("2d");this.N=e||f.Jo;this.Ge=this.Ef=null;e=g.iq(this.canvas);e.trim=new c.lc;k.call(this,e);this.text=a;this.style=d}var k=e("../sprites/Sprite"),g=e("../textures/Texture"),c=e("../math"),d=e("../utils"),f=e("../const");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.mn={};a.Mt=document.createElement("canvas");a.uz=a.Mt.getContext("2d");Object.defineProperties(a.prototype,{width:{get:function(){return this.ya&&this.Xg(),this.scale.x*this.la.Y.width},
set:function(a){this.scale.x=a/this.la.Y.width;this.nd=a}},height:{get:function(){return this.ya&&this.Xg(),this.scale.y*this.la.Y.height},set:function(a){this.scale.y=a/this.la.Y.height;this.jd=a}},style:{get:function(){return this.Ge},set:function(a){a=a||{};"number"==typeof a.fill&&(a.fill=d.hn(a.fill));"number"==typeof a.stroke&&(a.stroke=d.hn(a.stroke));"number"==typeof a.Ak&&(a.Ak=d.hn(a.Ak));a.font=a.font||"bold 20pt Arial";a.fill=a.fill||"black";a.align=a.align||"left";a.stroke=a.stroke||
"black";a.cg=a.cg||0;a.wordWrap=a.wordWrap||!1;a.Ru=a.Ru||100;a.Tm=a.Tm||!1;a.Ak=a.Ak||"#000000";a.aq=a.aq||Math.PI/6;a.Bk=a.Bk||5;a.padding=a.padding||0;a.textBaseline=a.textBaseline||"alphabetic";a.lineJoin=a.lineJoin||"miter";a.miterLimit=a.miterLimit||10;this.Ge=a;this.ya=!0}},text:{get:function(){return this.Ef},set:function(a){a=a.toString()||" ";this.Ef!==a&&(this.Ef=a,this.ya=!0)}}});a.prototype.Xg=function(){var a=this.Ge;this.context.font=a.font;for(var c=(a.wordWrap?this.wordWrap(this.Ef):
this.Ef).split(/(?:\r\n|\r|\n)/),d=Array(c.length),f=0,g=this.Ox(a.font),e=0;e<c.length;e++){var k=this.context.measureText(c[e]).width;d[e]=k;f=Math.max(f,k)}e=f+a.cg;a.Tm&&(e+=a.Bk);this.canvas.width=(e+this.context.lineWidth)*this.N;k=this.style.lineHeight||g.fontSize+a.cg;e=k*c.length;a.Tm&&(e+=a.Bk);this.canvas.height=(e+2*this.Ge.padding)*this.N;this.context.scale(this.N,this.N);navigator.sd&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.context.font=a.font;this.context.strokeStyle=
a.stroke;this.context.lineWidth=a.cg;this.context.textBaseline=a.textBaseline;this.context.lineJoin=a.lineJoin;this.context.miterLimit=a.miterLimit;var m,q;if(a.Tm){this.context.fillStyle=a.Ak;for(var C=Math.cos(a.aq)*a.Bk,D=Math.sin(a.aq)*a.Bk,e=0;e<c.length;e++)m=a.cg/2,q=a.cg/2+e*k+g.np,"right"===a.align?m+=f-d[e]:"center"===a.align&&(m+=(f-d[e])/2),a.fill&&this.context.fillText(c[e],m+C,q+D+this.Ge.padding)}this.context.fillStyle=a.fill;for(e=0;e<c.length;e++)m=a.cg/2,q=a.cg/2+e*k+g.np,"right"===
a.align?m+=f-d[e]:"center"===a.align&&(m+=(f-d[e])/2),a.stroke&&a.cg&&this.context.strokeText(c[e],m,q+this.Ge.padding),a.fill&&this.context.fillText(c[e],m,q+this.Ge.padding);this.Yg()};a.prototype.Yg=function(){var a=this.la;a.X.ud=!0;a.X.N=this.N;a.X.width=this.canvas.width/this.N;a.X.height=this.canvas.height/this.N;a.Hb.width=a.Y.width=this.canvas.width/this.N;a.Hb.height=a.Y.height=this.canvas.height/this.N;a.trim.x=0;a.trim.y=-this.Ge.padding;a.trim.width=a.Y.width;a.trim.height=a.Y.height-
2*this.Ge.padding;this.nd=this.canvas.width/this.N;this.jd=this.canvas.height/this.N;a.X.wb("update",a.X);this.ya=!1};a.prototype.Ud=function(a){this.ya&&this.Xg();k.prototype.Ud.call(this,a)};a.prototype.lh=function(a){this.ya&&this.Xg();k.prototype.lh.call(this,a)};a.prototype.Ox=function(b){var c=a.mn[b];if(!c){var c={},d=a.Mt,f=a.uz;f.font=b;var g=Math.ceil(f.measureText("|M\u00c9q").width),e=Math.ceil(f.measureText("M").width),k=2*e,e=1.4*e|0;d.width=g;d.height=k;f.fillStyle="#f00";f.fillRect(0,
0,g,k);f.font=b;f.textBaseline="alphabetic";f.fillStyle="#000";f.fillText("|M\u00c9q",0,e);for(var m,d=f.getImageData(0,0,g,k).data,f=d.length,q=4*g,C=0,D=!1,g=0;e>g;g++){for(m=0;q>m;m+=4)if(255!==d[C+m]){D=!0;break}if(D)break;C+=q}c.np=e-g;C=f-q;D=!1;for(g=k;g>e;g--){for(m=0;q>m;m+=4)if(255!==d[C+m]){D=!0;break}if(D)break;C-=q}c.Kx=g-e;c.fontSize=c.np+c.Kx;a.mn[b]=c}return c};a.prototype.wordWrap=function(a){var c="";a=a.split("\n");for(var d=this.Ge.Ru,f=0;f<a.length;f++){for(var g=d,e=a[f].split(" "),
k=0;k<e.length;k++){var m=this.context.measureText(e[k]).width,q=m+this.context.measureText(" ").width;0===k||q>g?(0<k&&(c+="\n"),c+=e[k],g=d-m):(g-=q,c+=" "+e[k])}f<a.length-1&&(c+="\n")}return c};a.prototype.$b=function(a){return this.ya&&this.Xg(),k.prototype.$b.call(this,a)};a.prototype.O=function(a){this.Ge=this.canvas=this.context=null;this.la.O(void 0===a?!0:a)}},{"../const":22,"../math":32,"../sprites/Sprite":66,"../textures/Texture":71,"../utils":76}],69:[function(e,q){function a(a,f,b){c.call(this);
this.uid=k.uid();this.N=b||1;this.Zq=this.$q=this.height=this.width=100;this.Sg=f||g.Ed.DEFAULT;this.Eg=this.ud=!1;this.source=null;this.premultipliedAlpha=!0;this.Mk=null;this.qz=this.Ui=!1;this.Rb=[];a&&this.Fy(a)}var k=e("../utils"),g=e("../const"),c=e("eventemitter3");a.prototype=Object.create(c.prototype);a.prototype.constructor=a;q.o=a;a.prototype.update=function(){this.$q=this.source.naturalWidth||this.source.width;this.Zq=this.source.naturalHeight||this.source.height;this.width=this.$q/this.N;
this.height=this.Zq/this.N;this.Ui=k.Ui(this.$q,this.Zq);this.wb("update",this)};a.prototype.Fy=function(a){var c=this.Eg;if(this.ud=!1,this.Eg=!1,c&&this.source&&(this.source.onload=null,this.source.onerror=null),this.source=a,(this.source.complete||this.source.getContext)&&this.source.width&&this.source.height)this.jp();else if(!a.getContext){this.Eg=!0;var b=this;a.onload=function(){a.onload=null;a.onerror=null;b.Eg&&(b.Eg=!1,b.jp(),b.wb("loaded",b))};a.onerror=function(){a.onload=null;a.onerror=
null;b.Eg&&(b.Eg=!1,b.wb("error",b))};a.complete&&a.src&&(this.Eg=!1,a.onload=null,a.onerror=null,a.width&&a.height?(this.jp(),c&&this.wb("loaded",this)):c&&this.wb("error",this))}};a.prototype.jp=function(){this.ud=!0;this.update()};a.prototype.O=function(){this.Mk?(delete k.Bd[this.Mk],delete k.gd[this.Mk],this.Mk=null,navigator.sd||(this.source.src="")):this.source&&this.source.ne&&delete k.Bd[this.source.ne];this.source=null;this.Px()};a.prototype.Px=function(){this.wb("dispose",this);this.Rb.length=
0};a.Ch=function(c,f,b){var g=k.Bd[c];if(void 0===f&&0!==c.indexOf("data:")&&(f=!0),!g){var e=new Image;f&&(e.crossOrigin="");g=new a(e,b);g.Mk=c;e.src=c;k.Bd[c]=g;g.N=k.lq(c)}return g};a.iq=function(c,f){c.ne||(c.ne="canvas_"+k.uid());var b=k.Bd[c.ne];return b||(b=new a(c,f),k.Bd[c.ne]=b),b}},{"../const":22,"../utils":76,Ah:11}],70:[function(e,q){function a(a,e,m,n,q){if(!a)throw Error("Unable to create RenderTexture, you must pass a renderer into the constructor.");e=e||100;m=m||100;q=q||l.Jo;var C=
new k;(C.width=e,C.height=m,C.N=q,C.Sg=n||l.Ed.DEFAULT,C.ud=!0,g.call(this,C,new b.lc(0,0,e,m)),this.width=e,this.height=m,this.N=q,this.Cc=null,this.v=a,this.v.type===l.gi.Qo)?(a=this.v.G,this.ye=new c(a,this.width,this.height,C.Sg,this.N),this.X.Rb[a.id]=this.ye.wa,this.Z=new d(this.v),this.Z.Vf(),this.Z.resize(e,m),this.Cc=this.Ud,this.v.Le.start(),this.v.Oc.rm()):(this.Cc=this.we,this.ye=new f(this.width*this.N,this.height*this.N),this.X.source=this.ye.canvas);this.valid=!0;this.Js()}var k=e("./BaseTexture"),
g=e("./Texture"),c=e("../renderers/webgl/utils/RenderTarget"),d=e("../renderers/webgl/managers/FilterManager"),f=e("../renderers/canvas/utils/CanvasBuffer"),b=e("../math"),l=e("../const"),n=new b.ed;a.prototype=Object.create(g.prototype);a.prototype.constructor=a;q.o=a;a.prototype.resize=function(a,b,c){(a!==this.width||b!==this.height)&&(this.valid=0<a&&0<b,this.width=this.Y.width=this.Hb.width=a,this.height=this.Y.height=this.Hb.height=b,c&&(this.X.width=this.width,this.X.height=this.height),this.valid&&
(this.ye.resize(this.width,this.height),this.Z&&this.Z.resize(this.width,this.height)))};a.prototype.clear=function(){this.valid&&(this.v.type===l.gi.Qo&&this.v.G.bindFramebuffer(this.v.G.FRAMEBUFFER,this.ye.Bh),this.ye.clear())};a.prototype.Ud=function(a,b,c,d){if(this.valid){if(d=void 0!==d?d:!0,this.ye.transform=b,this.ye.rm(),a.hb=1,d){a.sa.jn();a.eD=null;var f=a.children;b=0;for(d=f.length;d>b;++b)f[b].Dc()}b=this.v.Z;this.v.Z=this.Z;this.v.tl(a,this.ye,c);this.v.Z=b}};a.prototype.we=function(a,
b,c){if(this.valid){var d=a.sa;n.jn();b&&n.append(b);a.sa=n;a.hb=1;var f,g=a.children;b=0;for(f=g.length;f>b;++b)g[b].Dc();c&&this.ye.clear();a.sa=d;c=this.ye.context;d=this.v.N;this.v.N=this.N;this.v.tl(a,c);this.v.N=d}};a.prototype.O=function(){g.prototype.O.call(this,!0);this.ye.O();this.Z&&this.Z.O();this.v=null}},{"../const":22,"../math":32,"../renderers/canvas/utils/CanvasBuffer":44,"../renderers/webgl/managers/FilterManager":53,"../renderers/webgl/utils/RenderTarget":64,"./BaseTexture":69,
"./Texture":71}],71:[function(e,q){function a(b,c,g,e,k){d.call(this);this.zn=!1;c||(this.zn=!0,c=new f.lc(0,0,1,1));b instanceof a&&(b=b.X);this.X=b;this.Y=c;this.trim=e;this.valid=!1;this.md=null;this.height=this.width=0;this.Hb=g||c;this.rotate=!!k;b.ud?(this.zn&&(c=new f.lc(0,0,b.width,b.height),b.Th("update",this.eu,this)),this.frame=c):b.Rd("loaded",this.du,this)}var k=e("./BaseTexture"),g=e("./VideoBaseTexture"),c=e("./TextureUvs"),d=e("eventemitter3"),f=e("../math"),b=e("../utils");a.prototype=
Object.create(d.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{frame:{get:function(){return this.Y},set:function(a){if(this.Y=a,this.zn=!1,this.width=a.width,this.height=a.height,!this.trim&&!this.rotate&&(a.x+a.width>this.X.width||a.y+a.height>this.X.height))throw Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=a&&a.width&&a.height&&this.X.ud;this.trim?(this.width=this.trim.width,this.height=this.trim.height,this.Y.width=
this.trim.width,this.Y.height=this.trim.height):this.Hb=a;this.valid&&this.Js()}}});a.prototype.update=function(){this.X.update()};a.prototype.du=function(a){this.frame=this.zn?new f.lc(0,0,a.width,a.height):this.Y;this.wb("update",this)};a.prototype.eu=function(a){this.Y.width=a.width;this.Y.height=a.height;this.wb("update",this)};a.prototype.O=function(a){this.X&&(a&&this.X.O(),this.X.dl("update",this.eu,this),this.X.dl("loaded",this.du,this),this.X=null);this.Hb=this.trim=this.md=this.Y=null;this.valid=
!1};a.prototype.clone=function(){return new a(this.X,this.frame,this.Hb,this.trim,this.rotate)};a.prototype.Js=function(){this.md||(this.md=new c);this.md.set(this.Hb,this.X,this.rotate)};a.Ch=function(c,d,f){var g=b.gd[c];return g||(g=new a(k.Ch(c,d,f)),b.gd[c]=g),g};a.jq=function(a){var c=b.gd[a];if(!c)throw Error('The frameId "'+a+'" does not exist in the texture cache');return c};a.iq=function(b,c){return new a(k.iq(b,c))};a.kq=function(b,c){return"string"==typeof b?a.sd(b,c):new a(g.kq(b,c))};
a.sd=function(b,c){return new a(g.Bt(b,c))};a.Si=function(a,c){b.gd[c]=a};a.mn=function(a){var c=b.gd[a];return delete b.gd[a],delete b.Bd[a],c};a.EMPTY=new a(new k)},{"../math":32,"../utils":76,"./BaseTexture":69,"./TextureUvs":72,"./VideoBaseTexture":73,Ah:11}],72:[function(e,q){function a(){this.bh=this.ah=0;this.Fl=1;this.$n=0;this.yj=this.Gl=1;this.Zn=0;this.ao=1}q.o=a;a.prototype.set=function(a,g,c){var d=g.width;g=g.height;c?(this.ah=(a.x+a.height)/d,this.bh=a.y/g,this.Fl=(a.x+a.height)/d,
this.$n=(a.y+a.width)/g,this.Gl=a.x/d,this.yj=(a.y+a.width)/g,this.Zn=a.x/d,this.ao=a.y/g):(this.ah=a.x/d,this.bh=a.y/g,this.Fl=(a.x+a.width)/d,this.$n=a.y/g,this.Gl=(a.x+a.width)/d,this.yj=(a.y+a.height)/g,this.Zn=a.x/d,this.ao=(a.y+a.height)/g)}},{}],73:[function(e,q){function a(a,c){if(!a)throw Error("No video source element specified.");(a.readyState===a.HAVE_ENOUGH_DATA||a.readyState===a.HAVE_FUTURE_DATA)&&a.width&&a.height&&(a.complete=!0);g.call(this,a,c);this.tm=!1;this.im=this.im.bind(this);
this.ni=this.ni.bind(this);a.complete||(a.addEventListener("canplay",this.ni),a.addEventListener("canplaythrough",this.ni),a.addEventListener("play",this.ww.bind(this)),a.addEventListener("pause",this.xw.bind(this)));this.hs=!1}function k(a,c){c||(c="video/"+a.substr(a.lastIndexOf(".")+1));var b=document.createElement("source");return b.src=a,b.type=c,b}var g=e("./BaseTexture"),c=e("../utils");a.prototype=Object.create(g.prototype);a.prototype.constructor=a;q.o=a;a.prototype.im=function(){this.tm&&
(window.requestAnimationFrame(this.im),this.update())};a.prototype.ww=function(){this.tm||(window.requestAnimationFrame(this.im),this.tm=!0)};a.prototype.xw=function(){this.tm=!1};a.prototype.ni=function(){this.ud=!0;this.source&&(this.source.removeEventListener("canplay",this.ni),this.source.removeEventListener("canplaythrough",this.ni),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.source.play(),this.hs||(this.hs=!0,this.wb("loaded",this)))};a.prototype.O=function(){this.source&&
this.source.ne&&(delete c.Bd[this.source.ne],delete this.source.ne);g.prototype.O.call(this)};a.kq=function(d,f){d.ne||(d.ne="video_"+c.uid());var b=c.Bd[d.ne];return b||(b=new a(d,f),c.Bd[d.ne]=b),b};a.Bt=function(c,f){var b=document.createElement("video");if(Array.isArray(c))for(var g=0;g<c.length;++g)b.appendChild(k(c.src||c,c.oz));else b.appendChild(k(c.src||c,c.oz));return b.load(),b.play(),a.kq(b,f)};a.mn=a.Bt},{"../utils":76,"./BaseTexture":69}],74:[function(e,q){function a(){var a=this;this.Is=
function(f){a.pg=null;a.gc&&(a.update(f),a.gc&&null===a.pg&&a.li.zq(c)&&(a.pg=requestAnimationFrame(a.Is)))};this.li=new g;this.pg=null;this.gm=100;this.Os=!1;this.lt=1;this.At=1/k.Oo;this.vq=0;this.speed=1;this.gc=!1}var k=e("../const"),g=e("eventemitter3"),c="tick";Object.defineProperties(a.prototype,{PB:{get:function(){return 1E3/this.At}},XD:{get:function(){return 1E3/this.gm},set:function(a){this.gm=1/Math.min(Math.max(0,a)/1E3,k.Oo)}}});a.prototype.Es=function(){null===this.pg&&this.li.zq(c)&&
(this.vq=performance.now(),this.pg=requestAnimationFrame(this.Is))};a.prototype.ls=function(){null!==this.pg&&(cancelAnimationFrame(this.pg),this.pg=null)};a.prototype.Ew=function(){this.gc?this.Es():this.Os&&this.start()};a.prototype.add=function(a,f){return this.li.Th(c,a,f),this.Ew(),this};a.prototype.remove=function(a,f){return this.li.dl(c,a,f),this.li.zq(c)||this.ls(),this};a.prototype.start=function(){this.gc||(this.gc=!0,this.Es())};a.prototype.stop=function(){this.gc&&(this.gc=!1,this.ls())};
a.prototype.update=function(a){var f;a=a||performance.now();f=this.At=a-this.vq;f>this.gm&&(f=this.gm);this.lt=f*k.Oo*this.speed;this.li.wb(c,this.lt);this.vq=a};q.o=a},{"../const":22,Ah:11}],75:[function(e,q){var a=e("./Ticker"),k=new a;k.Os=!0;q.o={Rn:k,xC:a}},{"./Ticker":74}],76:[function(e,q){var a=e("../const"),k=q.o={Fw:0,Gs:!1,Wq:e("./pluginTarget"),async:e("async"),uid:function(){return++k.Fw},Od:function(a,c){return c=c||[],c[0]=(a>>16&255)/255,c[1]=(a>>8&255)/255,c[2]=(255&a)/255,c},hn:function(a){return a=
a.toString(16),a="000000".substr(0,6-a.length)+a,"#"+a},xu:function(a){return(255*a[0]<<16)+(255*a[1]<<8)+255*a[2]},ct:function(){if("undefined"==typeof document)return!1;var a=new Image;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/AP804Oa6AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";var c=new Image;c.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX//wCKxvRFAAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==";var d=document.createElement("canvas");
d.width=6;d.height=1;d=d.getContext("2d");d.globalCompositeOperation="multiply";d.drawImage(a,0,0);d.drawImage(c,2,0);a=d.getImageData(2,0,1,1).data;return 255===a[0]&&0===a[1]&&0===a[2]},AD:function(a){if(0<a&&0===(a&a-1))return a;for(var c=1;a>c;)c<<=1;return c},Ui:function(a,c){return 0<a&&0===(a&a-1)&&0<c&&0===(c&c-1)},lq:function(g){return(g=a.xv.exec(g))?parseFloat(g[1]):1},wA:function(g){k.Gs||(-1<navigator.userAgent.toLowerCase().indexOf("chrome")?window.console.log.apply(console,["\n %c %c %c Pixi.js "+
a.VERSION+" - \u2730 "+g+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):
window.console&&window.console.log("Pixi.js "+a.VERSION+" - "+g+" - http://www.pixijs.com/"),k.Gs=!0)},wy:function(){var a={stencil:!0};try{if(!window.WebGLRenderingContext)return!1;var c=document.createElement("canvas"),d=c.getContext("webgl",a)||c.getContext("experimental-webgl",a);return!(!d||!d.getContextAttributes().stencil)}catch(f){return!1}},gd:{},Bd:{}}},{"../const":22,"./pluginTarget":77,async:2}],77:[function(e,q){function a(a){a.To={};a.Vh=function(g,c){a.To[g]=c};a.prototype.rq=function(){this.plugins=
this.plugins||{};for(var g in a.To)this.plugins[g]=new a.To[g](this)};a.prototype.Xp=function(){for(var a in this.plugins)this.plugins[a].O(),this.plugins[a]=null;this.plugins=null}}q.o={Sq:function(e){a(e)}}},{}],78:[function(e){var q=e("./core"),a=e("./mesh"),k=e("./extras");e=e("./filters");q.tC=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.");};q.tB=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.");
};Object.defineProperties(q,{vC:{get:function(){return console.warn("You do not need to use a PIXI Stage any more, you can simply render any container."),q.Ce}},KB:{get:function(){return console.warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),q.Ce}},wC:{get:function(){return console.warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),a.sv}},Vr:{get:function(){return console.warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),
a.Vr}},Pr:{get:function(){return console.warn("The MovieClip class has been moved to extras.MovieClip, please use extras.MovieClip from now on."),k.Pr}},ds:{get:function(){return console.warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),k.ds}},eo:{get:function(){return console.warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),k.eo}},U:{get:function(){return console.warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),
q.P}},mE:{get:function(){return console.warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),q.Ed}},Bd:{get:function(){return console.warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),q.Vd.Bd}},gd:{get:function(){return console.warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),q.Vd.gd}},VD:{get:function(){return console.warn("The math namespace is deprecated, please access members already accessible on PIXI."),
q}}});Object.defineProperties(e,{W:{get:function(){return console.warn("filters.AbstractFilter is an undocumented alias, please use AbstractFilter from now on."),q.W}},Dr:{get:function(){return console.warn("filters.FXAAFilter is an undocumented alias, please use FXAAFilter from now on."),q.Dr}},$r:{get:function(){return console.warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),q.$r}}});q.Vd.GE=function(){return console.warn("utils.uuid() is deprecated, please use utils.uid() from now on."),
q.Vd.uid()}},{"./core":29,"./extras":85,"./filters":102,"./mesh":126}],79:[function(e,q){function a(a,c){k.Ce.call(this);c=c||{};this.fm=[];this.Hd={cb:void 0!==c.cb?c.cb:16777215,align:c.align||"left",name:null,size:0};this.font=c.font;this.Ef=a;this.maxWidth=0;this.ya=!1;this.Xg()}var k=e("../core");a.prototype=Object.create(k.Ce.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{cb:{get:function(){return this.Hd.cb},set:function(a){this.Hd.cb="number"==typeof a&&0<=
a?a:16777215;this.ya=!0}},align:{get:function(){return this.Hd.align},set:function(a){this.Hd.align=a||"left";this.ya=!0}},font:{get:function(){return this.Hd},set:function(g){g&&("string"==typeof g?(g=g.split(" "),this.Hd.name=1===g.length?g[0]:g.slice(1).join(" "),this.Hd.size=2<=g.length?parseInt(g[0],10):a.fonts[this.Hd.name].size):(this.Hd.name=g.name,this.Hd.size="number"==typeof g.size?g.size:parseInt(g.size,10)),this.ya=!0)}},text:{get:function(){return this.Ef},set:function(a){a=a.toString()||
" ";this.Ef!==a&&(this.Ef=a,this.ya=!0)}}});a.prototype.Xg=function(){for(var g=a.fonts[this.Hd.name],c=new k.Eb,d=null,f=[],b=0,e=0,m=[],r=0,q=this.Hd.size/g.size,p=-1,t=0;t<this.text.length;t++){var C=this.text.charCodeAt(t);if(p=/(\s)/.test(this.text.charAt(t))?t:p,/(?:\r\n|\r|\n)/.test(this.text.charAt(t)))m.push(b),e=Math.max(e,b),r++,c.x=0,c.y+=g.lineHeight,d=null;else if(-1!==p&&0<this.maxWidth&&c.x*q>this.maxWidth)f.splice(p,t-p),t=p,p=-1,m.push(b),e=Math.max(e,b),r++,c.x=0,c.y+=g.lineHeight,
d=null;else{var B=g.Up[C];B&&(d&&B.uq[d]&&(c.x+=B.uq[d]),f.push({wa:B.wa,By:r,charCode:C,position:new k.Eb(c.x+B.Tu,c.y+B.kB)}),b=c.x+(B.wa.width+B.Tu),c.x+=B.jB,d=C)}}m.push(b);e=Math.max(e,b);g=[];for(t=0;r>=t;t++)c=0,"right"===this.Hd.align?c=e-m[t]:"center"===this.Hd.align&&(c=(e-m[t])/2),g.push(c);e=f.length;m=this.cb;for(t=0;e>t;t++)(r=this.fm[t])?r.wa=f[t].wa:(r=new k.Df(f[t].wa),this.fm.push(r)),r.position.x=(f[t].position.x+g[f[t].By])*q,r.position.y=f[t].position.y*q,r.scale.x=r.scale.y=
q,r.cb=m,r.parent||this.mh(r);for(t=e;t<this.fm.length;++t)this.removeChild(this.fm[t])};a.prototype.Dc=function(){this.Qu();this.gt()};a.prototype.hf=function(){return this.Qu(),k.Ce.prototype.hf.call(this)};a.prototype.Qu=function(){this.ya&&(this.Xg(),this.ya=!1)};a.fonts={}},{"../core":29}],80:[function(e,q){function a(a){k.Df.call(this,a[0]);this.ld=a;this.Sw=1;this.loop=!0;this.el=null;this.kh=0;this.An=!1}var k=e("../core");a.prototype=Object.create(k.Df.prototype);a.prototype.constructor=
a;q.o=a;Object.defineProperties(a.prototype,{zE:{get:function(){return this.ld.length}},Un:{get:function(){return this.ld},set:function(a){this.ld=a;this.wa=this.ld[Math.floor(this.kh)%this.ld.length]}},Lm:{get:function(){return Math.floor(this.kh)%this.ld.length}}});a.prototype.stop=function(){this.An&&(this.An=!1,k.Vn.Rn.remove(this.update,this))};a.prototype.play=function(){this.An||(this.An=!0,k.Vn.Rn.add(this.update,this))};a.prototype.Et=function(a){this.stop();this.kh=a;this.la=this.ld[Math.floor(this.kh)%
this.ld.length]};a.prototype.update=function(a){this.kh+=this.Sw*a;a=Math.floor(this.kh);0>a?this.loop?this.la=this.ld[this.ld.length-1+a%this.ld.length]:(this.Et(0),this.el&&this.el()):this.loop||a<this.ld.length?this.la=this.ld[a%this.ld.length]:a>=this.ld.length&&(this.Et(this.Un.length-1),this.el&&this.el())};a.prototype.O=function(){this.stop();k.Df.prototype.O.call(this)};a.sd=function(g){for(var c=[],d=0;d<g.length;++d)c.push(new k.ii.jq(g[d]));return new a(c)};a.Si=function(g){for(var c=[],
d=0;d<g.length;++d)c.push(new k.ii.Ch(g[d]));return new a(c)}},{"../core":29}],81:[function(e,q){function a(a,d,f){k.Df.call(this,a);this.Ye=new k.Eb(1,1);this.yl=new k.Eb(0,0);this.nd=d||100;this.jd=f||100;this.md=new k.Sv;this.Yo=null;this.Ia=new k.W("precision lowp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nuniform mat3 projectionMatrix;\nuniform vec4 uFrame;\nuniform vec4 uTransform;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vec2 coord = aTextureCoord;\n   coord -= uTransform.xy;\n   coord /= uTransform.zw;\n   vTextureCoord = coord;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}",
"precision lowp float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nuniform vec4 uFrame;\nuniform vec2 uPixelSize;\nvoid main(void){\n   vec2 coord = mod(vTextureCoord, uFrame.zw);\n   coord = clamp(coord, uPixelSize, uFrame.zw - uPixelSize);\n   coord += uFrame.xy;\n   gl_FragColor =  texture2D(uSampler, coord) * vColor ;\n}",{Wn:{type:"4fv",value:[0,0,1,1]},Xn:{type:"4fv",value:[0,0,1,1]},Lu:{type:"2fv",value:[1,1]}})}var k=e("../core"),g=new k.Eb;a.prototype=
Object.create(k.Df.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{width:{get:function(){return this.nd},set:function(a){this.nd=a}},height:{get:function(){return this.jd},set:function(a){this.jd=a}}});a.prototype.ng=function(){};a.prototype.oi=function(a){var d=this.la;if(d&&d.md){var f=d.md,b=d.Y.width,g=d.Y.height,e=d.X.width,k=d.X.height;d.md=this.md;d.Y.width=this.width;d.Y.height=this.height;this.Ia.m.Lu.value[0]=1/e;this.Ia.m.Lu.value[1]=1/k;this.Ia.m.Wn.value[0]=
f.ah;this.Ia.m.Wn.value[1]=f.bh;this.Ia.m.Wn.value[2]=f.Fl-f.ah;this.Ia.m.Wn.value[3]=f.yj-f.bh;this.Ia.m.Xn.value[0]=this.yl.x%(b*this.Ye.x)/this.nd;this.Ia.m.Xn.value[1]=this.yl.y%(g*this.Ye.y)/this.jd;this.Ia.m.Xn.value[2]=e/this.nd*this.Ye.x;this.Ia.m.Xn.value[3]=k/this.jd*this.Ye.y;a.Tg(a.plugins.ul);a.plugins.ul.Cc(this);d.md=f;d.Y.width=b;d.Y.height=g}};a.prototype.lh=function(a){var d=this.la;if(d.X.ud){var f=a.context,b=this.sa,g=a.N,e=d.X,m=this.yl.x%(d.Y.width*this.Ye.x),q=this.yl.y%(d.Y.height*
this.Ye.y);if(!this.Yo){var p=new k.Yu(d.Y.width,d.Y.height);p.context.drawImage(e.source,-d.Y.x,-d.Y.y);this.Yo=p.context.createPattern(p.canvas,"repeat")}f.globalAlpha=this.hb;f.setTransform(b.j*g,b.ba*g,b.g*g,b.d*g,b.da*g,b.aa*g);f.scale(this.Ye.x,this.Ye.y);f.translate(m+this.anchor.x*-this.nd,q+this.anchor.y*-this.jd);this.Mc!==a.Nc&&(a.Nc=this.Mc,f.globalCompositeOperation=a.U[a.Nc]);f.fillStyle=this.Yo;f.fillRect(-m,-q,this.nd/this.Ye.x,this.jd/this.Ye.y)}};a.prototype.$b=function(){var a,
d,f,b,g=this.nd;b=this.jd;var e=g*(1-this.anchor.x);a=g*-this.anchor.x;f=b*(1-this.anchor.y);var k=b*-this.anchor.y;b=this.sa;var m=b.j,p=b.ba,q=b.g,C=b.d,B=b.da,K=b.aa;d=m*a+q*k+B;b=C*k+p*a+K;var g=m*e+q*k+B,k=C*k+p*e+K,D=m*e+q*f+B,e=C*f+p*e+K,m=m*a+q*f+B,p=C*f+p*a+K;a=d;a=a>g?g:a;a=a>D?D:a;a=a>m?m:a;f=b;f=f>k?k:f;f=f>e?e:f;f=f>p?p:f;d=g>d?g:d;d=D>d?D:d;b=k>b?k:b;b=e>b?e:b;g=this.hd;return g.x=a,g.width=(m>d?m:d)-a,g.y=f,g.height=(p>b?p:b)-f,this.Kc=g,g};a.prototype.Ke=function(a){this.sa.Tj(a,g);
var d;a=this.nd;var f=this.jd,b=-a*this.anchor.x;return g.x>b&&g.x<b+a&&(d=-f*this.anchor.y,g.y>d&&g.y<d+f)?!0:!1};a.prototype.O=function(){k.Df.prototype.O.call(this);this.md=this.yl=this.Ye=null};a.jq=function(c,d,f){var b=k.Vd.gd[c];if(!b)throw Error('The frameId "'+c+'" does not exist in the texture cache '+this);return new a(b,d,f)};a.Ch=function(c,d,f,b,g){return new a(k.ii.Ch(c,b,g),d,f)}},{"../core":29}],82:[function(e){var q=e("../core");e=q.po;var a=new q.ed;e.prototype.am=!1;e.prototype.hp=
null;e.prototype.gp=null;e.prototype.ys=null;e.prototype.fp=null;e.prototype.Fb=null;Object.defineProperties(e.prototype,{yx:{get:function(){return this.am},set:function(a){this.am!==a&&(this.am=a,a?(this.hp=this.Ud,this.gp=this.we,this.ys=this.Dc,this.Aw=this.$b,this.fp=this.O,this.zw=this.Ke,this.Ud=this.Cs,this.we=this.Bs,this.O=this.aw):(this.Fb&&this.ew(),this.Ud=this.hp,this.we=this.gp,this.$b=this.Aw,this.O=this.fp,this.Dc=this.ys,this.Ke=this.zw))}}});e.prototype.Cs=function(a){!this.visible||
0>=this.hb||!this.xe||(this.iw(a),this.Fb.hb=this.hb,a.Tg(a.plugins.ul),a.plugins.ul.Cc(this.Fb))};e.prototype.iw=function(e){if(!this.Fb){e.Le.flush();var g=this.hf().clone();if(this.lg){var c=this.lg[0].padding;g.x-=c;g.y-=c;g.width+=2*c;g.height+=2*c}var c=e.Oc,d=e.Z.re,f=new q.Tr(e,0|g.width,0|g.height);a.da=-g.x;a.aa=-g.y;this.Ud=this.hp;f.Cc(this,a,!0,!0);e.oj(c);e.Z.re=d;this.Ud=this.Cs;this.Dc=this.Ni;this.$b=this.rs;this.Fb=new q.Df(f);this.Fb.sa=this.sa;this.Fb.anchor.x=-(g.x/g.width);this.Fb.anchor.y=
-(g.y/g.height);this.Dc();this.Ke=this.Fb.Ke.bind(this.Fb)}};e.prototype.Bs=function(a){!this.visible||0>=this.hb||!this.xe||(this.jw(a),this.Fb.hb=this.hb,this.Fb.we(a))};e.prototype.jw=function(e){if(!this.Fb){var g=this.hf(),c=e.context,d=new q.Tr(e,0|g.width,0|g.height);a.da=-g.x;a.aa=-g.y;this.we=this.gp;d.Cc(this,a,!0);e.context=c;this.we=this.Bs;this.Dc=this.Ni;this.$b=this.rs;this.Fb=new q.Df(d);this.Fb.sa=this.sa;this.Fb.anchor.x=-(g.x/g.width);this.Fb.anchor.y=-(g.y/g.height);this.Dc();
this.Ke=this.Fb.Ke.bind(this.Fb)}};e.prototype.rs=function(){return this.Fb.Kc=null,this.Fb.$b()};e.prototype.ew=function(){this.Fb.la.O();this.Fb=null};e.prototype.aw=function(){this.yx=!1;this.fp()}},{"../core":29}],83:[function(e){e("../core").po.prototype.name=null},{"../core":29}],84:[function(e){e("../core")},{"../core":29}],85:[function(e,q){e("./cacheAsBitmap");e("./getChildByName");e("./getGlobalPosition");q.o={Pr:e("./MovieClip"),ds:e("./TilingSprite"),eo:e("./BitmapText")}},{"./BitmapText":79,
"./MovieClip":80,"./TilingSprite":81,"./cacheAsBitmap":82,"./getChildByName":83,"./getGlobalPosition":84}],86:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nuniform vec4 dimensions;\nuniform float pixelSize;\nuniform sampler2D uSampler;\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid main()\n{\n    vec2 uv = gl_FragCoord.xy;\n\n    vec3 col = texture2D(uSampler, floor( uv / pixelSize ) * pixelSize / dimensions.xy).rgb;\n\n    float gray = (col.r + col.g + col.b) / 3.0;\n\n    float n =  65536.0;             // .\n    if (gray > 0.2) n = 65600.0;    // :\n    if (gray > 0.3) n = 332772.0;   // *\n    if (gray > 0.4) n = 15255086.0; // o\n    if (gray > 0.5) n = 23385164.0; // &\n    if (gray > 0.6) n = 15252014.0; // 8\n    if (gray > 0.7) n = 13199452.0; // @\n    if (gray > 0.8) n = 11512810.0; // #\n\n    vec2 p = mod( uv / ( pixelSize * 0.5 ), 2.0) - vec2(1.0);\n    col = col * character(n, p);\n\n    gl_FragColor = vec4(col, 1.0);\n}\n",
{Nd:{type:"4fv",value:new Float32Array([0,0,0,0])},ml:{type:"1f",value:8}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{size:{get:function(){return this.m.ml.value},set:function(a){this.m.ml.value=a}}})},{"../../core":29}],87:[function(e,q){function a(){k.W.call(this);this.nc=new g;this.df=new c;this.Nm=new k.W}var k=e("../../core"),g=e("../blur/BlurXFilter"),c=e("../blur/BlurYFilter");a.prototype=Object.create(k.W.prototype);
a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,c,b){var e=a.Z.jf(!0);this.Nm.na(a,c,b);this.nc.na(a,c,e);a.Je.Zf(k.P.Ul);this.df.na(a,e,b);a.Je.Zf(k.P.Yd);a.Z.Xe(e)};Object.defineProperties(a.prototype,{blur:{get:function(){return this.nc.blur},set:function(a){this.nc.blur=this.df.blur=a}},Ys:{get:function(){return this.nc.blur},set:function(a){this.nc.blur=a}},Zs:{get:function(){return this.df.blur},set:function(a){this.df.blur=a}}})},{"../../core":29,"../blur/BlurXFilter":90,"../blur/BlurYFilter":91}],
88:[function(e,q){function a(a,c){k.W.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform float dirX;\nuniform float dirY;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[3];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[0] = aTextureCoord + vec2( (0.004 * strength) * dirX, (0.004 * strength) * dirY );\n    vBlurTexCoords[1] = aTextureCoord + vec2( (0.008 * strength) * dirX, (0.008 * strength) * dirY );\n    vBlurTexCoords[2] = aTextureCoord + vec2( (0.012 * strength) * dirX, (0.012 * strength) * dirY );\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[3];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vTextureCoord     ) * 0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0]) * 0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1]) * 0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2]) * 0.004431848411938341;\n}\n",
{Lb:{type:"1f",value:1},Pm:{type:"1f",value:a||0},Qm:{type:"1f",value:c||0}});this.Nm=new k.W;this.uc=1;this.Pm=a||0;this.Qm=c||0;this.Lb=4}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,c,d,f){var b=this.Lf(a);if(this.m.Lb.value=this.Lb/4/this.uc*(c.frame.width/c.size.width),1===this.uc)a.Z.na(b,c,d,f);else{var e=a.Z.jf(!0);a.Z.na(b,c,e,f);for(c=0;c<this.uc-2;c++)a.Z.na(b,e,e,f);a.Z.na(b,e,d,f);a.Z.Xe(e)}};Object.defineProperties(a.prototype,
{blur:{get:function(){return this.Lb},set:function(a){this.padding=.5*a;this.Lb=a}},Pm:{get:function(){return this.Pm},set:function(a){this.m.Pm.value=a}},Qm:{get:function(){return this.Qm},set:function(a){this.m.Qm.value=a}}})},{"../../core":29}],89:[function(e,q){function a(){k.W.call(this);this.nc=new g;this.df=new c}var k=e("../../core"),g=e("./BlurXFilter"),c=e("./BlurYFilter");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,c,b){var e=a.Z.jf(!0);
this.nc.na(a,c,e);this.df.na(a,e,b);a.Z.Xe(e)};Object.defineProperties(a.prototype,{blur:{get:function(){return this.nc.blur},set:function(a){this.padding=.5*Math.abs(a);this.nc.blur=this.df.blur=a}},uc:{get:function(){return this.nc.uc},set:function(a){this.nc.uc=this.df.uc=a}},Ys:{get:function(){return this.nc.blur},set:function(a){this.nc.blur=a}},Zs:{get:function(){return this.df.blur},set:function(a){this.df.blur=a}}})},{"../../core":29,"./BlurXFilter":90,"./BlurYFilter":91}],90:[function(e,
q){function a(){k.W.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(-0.012 * strength, 0.0);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(-0.008 * strength, 0.0);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(-0.004 * strength, 0.0);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2( 0.004 * strength, 0.0);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2( 0.008 * strength, 0.0);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2( 0.012 * strength, 0.0);\n\n    vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",
{Lb:{type:"1f",value:1}});this.uc=1;this.Lb=4}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,c,d,f){var b=this.Lf(a);if(this.m.Lb.value=this.Lb/4/this.uc*(c.frame.width/c.size.width),1===this.uc)a.Z.na(b,c,d,f);else{for(var e=a.Z.jf(!0),k=e,m=0;m<this.uc-1;m++){a.Z.na(b,c,k,!0);var q=k,k=c;c=q}a.Z.na(b,c,d,f);a.Z.Xe(e)}};Object.defineProperties(a.prototype,{blur:{get:function(){return this.Lb},set:function(a){this.padding=.5*
Math.abs(a);this.Lb=a}}})},{"../../core":29}],91:[function(e,q){function a(){k.W.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = vec4(0.0);\n\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    gl_FragColor += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n}\n",
{Lb:{type:"1f",value:1}});this.uc=1;this.Lb=4}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,c,d,f){var b=this.Lf(a);if(this.m.Lb.value=Math.abs(this.Lb)/4/this.uc*(c.frame.height/c.size.height),1===this.uc)a.Z.na(b,c,d,f);else{for(var e=a.Z.jf(!0),k=e,m=0;m<this.uc-1;m++){a.Z.na(b,c,k,!0);var q=k,k=c;c=q}a.Z.na(b,c,d,f);a.Z.Xe(e)}};Object.defineProperties(a.prototype,{blur:{get:function(){return this.Lb},set:function(a){this.padding=
.5*Math.abs(a);this.Lb=a}}})},{"../../core":29}],92:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 delta;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta * percent);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",
{vh:{type:"v2",value:{x:.1,y:0}}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a},{"../../core":29}],93:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[25];\n\nvoid main(void)\n{\n\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.r = (m[0] * c.r);\n        gl_FragColor.r += (m[1] * c.g);\n        gl_FragColor.r += (m[2] * c.b);\n        gl_FragColor.r += (m[3] * c.a);\n        gl_FragColor.r += m[4];\n\n    gl_FragColor.g = (m[5] * c.r);\n        gl_FragColor.g += (m[6] * c.g);\n        gl_FragColor.g += (m[7] * c.b);\n        gl_FragColor.g += (m[8] * c.a);\n        gl_FragColor.g += m[9];\n\n     gl_FragColor.b = (m[10] * c.r);\n        gl_FragColor.b += (m[11] * c.g);\n        gl_FragColor.b += (m[12] * c.b);\n        gl_FragColor.b += (m[13] * c.a);\n        gl_FragColor.b += m[14];\n\n     gl_FragColor.a = (m[15] * c.r);\n        gl_FragColor.a += (m[16] * c.g);\n        gl_FragColor.a += (m[17] * c.b);\n        gl_FragColor.a += (m[18] * c.a);\n        gl_FragColor.a += m[19];\n\n}\n",
{pn:{type:"1fv",value:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.xs=function(a,c){var d=a;c&&(this.sw(d,this.m.pn.value,a),d=this.cw(d));this.m.pn.value=d};a.prototype.sw=function(a,c,d){a[0]=c[0]*d[0]+c[1]*d[5]+c[2]*d[10]+c[3]*d[15];a[1]=c[0]*d[1]+c[1]*d[6]+c[2]*d[11]+c[3]*d[16];a[2]=c[0]*d[2]+c[1]*d[7]+c[2]*d[12]+c[3]*d[17];a[3]=c[0]*d[3]+c[1]*d[8]+c[2]*d[13]+c[3]*d[18];a[4]=c[0]*d[4]+c[1]*
d[9]+c[2]*d[14]+c[3]*d[19];a[5]=c[5]*d[0]+c[6]*d[5]+c[7]*d[10]+c[8]*d[15];a[6]=c[5]*d[1]+c[6]*d[6]+c[7]*d[11]+c[8]*d[16];a[7]=c[5]*d[2]+c[6]*d[7]+c[7]*d[12]+c[8]*d[17];a[8]=c[5]*d[3]+c[6]*d[8]+c[7]*d[13]+c[8]*d[18];a[9]=c[5]*d[4]+c[6]*d[9]+c[7]*d[14]+c[8]*d[19];a[10]=c[10]*d[0]+c[11]*d[5]+c[12]*d[10]+c[13]*d[15];a[11]=c[10]*d[1]+c[11]*d[6]+c[12]*d[11]+c[13]*d[16];a[12]=c[10]*d[2]+c[11]*d[7]+c[12]*d[12]+c[13]*d[17];a[13]=c[10]*d[3]+c[11]*d[8]+c[12]*d[13]+c[13]*d[18];a[14]=c[10]*d[4]+c[11]*d[9]+c[12]*
d[14]+c[13]*d[19];a[15]=c[15]*d[0]+c[16]*d[5]+c[17]*d[10]+c[18]*d[15];a[16]=c[15]*d[1]+c[16]*d[6]+c[17]*d[11]+c[18]*d[16];a[17]=c[15]*d[2]+c[16]*d[7]+c[17]*d[12]+c[18]*d[17];a[18]=c[15]*d[3]+c[16]*d[8]+c[17]*d[13]+c[18]*d[18];a[19]=c[15]*d[4]+c[16]*d[9]+c[17]*d[14]+c[18]*d[19]};a.prototype.cw=function(a){a=new Float32Array(a);return a[4]/=255,a[9]/=255,a[14]/=255,a[19]/=255,a};a.prototype.Qn=function(a){this.xs([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,
0,0,1,0],a)};a.prototype.reset=function(){this.xs([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)};Object.defineProperties(a.prototype,{yn:{get:function(){return this.m.pn.value},set:function(a){this.m.pn.value=a}}})},{"../../core":29}],94:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float step;\n\nvoid main(void)\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    color = floor(color * step) / step;\n\n    gl_FragColor = color;\n}\n",
{step:{type:"1f",value:5}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{step:{get:function(){return this.m.step.value},set:function(a){this.m.step.value=a}}})},{"../../core":29}],95:[function(e,q){function a(a,c,d){k.W.call(this,null,"precision mediump float;\n\nvarying mediump vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec2 texelSize;\nuniform float matrix[9];\n\nvoid main(void)\n{\n   vec4 c11 = texture2D(uSampler, vTextureCoord - texelSize); // top left\n   vec4 c12 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y - texelSize.y)); // top center\n   vec4 c13 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y - texelSize.y)); // top right\n\n   vec4 c21 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y)); // mid left\n   vec4 c22 = texture2D(uSampler, vTextureCoord); // mid center\n   vec4 c23 = texture2D(uSampler, vec2(vTextureCoord.x + texelSize.x, vTextureCoord.y)); // mid right\n\n   vec4 c31 = texture2D(uSampler, vec2(vTextureCoord.x - texelSize.x, vTextureCoord.y + texelSize.y)); // bottom left\n   vec4 c32 = texture2D(uSampler, vec2(vTextureCoord.x, vTextureCoord.y + texelSize.y)); // bottom center\n   vec4 c33 = texture2D(uSampler, vTextureCoord + texelSize); // bottom right\n\n   gl_FragColor =\n       c11 * matrix[0] + c12 * matrix[1] + c13 * matrix[2] +\n       c21 * matrix[3] + c22 * matrix[4] + c23 * matrix[5] +\n       c31 * matrix[6] + c32 * matrix[7] + c33 * matrix[8];\n\n   gl_FragColor.a = c22.a;\n}\n",
{yn:{type:"1fv",value:new Float32Array(a)},Sn:{type:"v2",value:{x:1/c,y:1/d}}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{yn:{get:function(){return this.m.yn.value},set:function(a){this.m.yn.value=new Float32Array(a)}},width:{get:function(){return 1/this.m.Sn.value.x},set:function(a){this.m.Sn.value.x=1/a}},height:{get:function(){return 1/this.m.Sn.value.y},set:function(a){this.m.Sn.value.y=1/a}}})},{"../../core":29}],
96:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    float lum = length(texture2D(uSampler, vTextureCoord.xy).rgb);\n\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n\n    if (lum < 1.00)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.75)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.50)\n    {\n        if (mod(gl_FragCoord.x + gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n\n    if (lum < 0.3)\n    {\n        if (mod(gl_FragCoord.x - gl_FragCoord.y - 5.0, 10.0) == 0.0)\n        {\n            gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        }\n    }\n}\n")}
var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a},{"../../core":29}],97:[function(e,q){function a(a){var c=new k.ed;a.xe=!1;k.W.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n   vMapCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vMapCoord;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nvoid main(void)\n{\n   vec4 original =  texture2D(uSampler, vTextureCoord);\n   vec4 map =  texture2D(mapSampler, vMapCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y));\n}\n",{$t:{type:"sampler2D",value:a.wa},Uq:{type:"mat3",
value:c.Ad()},scale:{type:"v2",value:{x:1,y:1}}});this.fj=a;this.bl=c;this.scale=new k.Eb(20,20)}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,c,d){var f=a.Z;f.at(c.frame,this.fj,this.bl);this.m.Uq.value=this.bl.Ad();this.m.scale.value.x=1/c.frame.width*this.scale.x;this.m.scale.value.y=1/c.frame.height*this.scale.y;a=this.Lf(a);f.na(a,c,d)};Object.defineProperties(a.prototype,{map:{get:function(){return this.m.$t.value},set:function(a){this.m.$t.value=
a}}})},{"../../core":29}],98:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform vec4 dimensions;\nuniform sampler2D uSampler;\n\nuniform float angle;\nuniform float scale;\n\nfloat pattern()\n{\n   float s = sin(angle), c = cos(angle);\n   vec2 tex = vTextureCoord * dimensions.xy;\n   vec2 point = vec2(\n       c * tex.x - s * tex.y,\n       s * tex.x + c * tex.y\n   ) * scale;\n   return (sin(point.x) * sin(point.y)) * 4.0;\n}\n\nvoid main()\n{\n   vec4 color = texture2D(uSampler, vTextureCoord);\n   float average = (color.r + color.g + color.b) / 3.0;\n   gl_FragColor = vec4(vec3(average * 10.0 - 5.0 + pattern()), color.a);\n}\n",
{scale:{type:"1f",value:1},Ie:{type:"1f",value:5},Nd:{type:"4fv",value:[0,0,0,0]}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{scale:{get:function(){return this.m.scale.value},set:function(a){this.m.scale.value=a}},Ie:{get:function(){return this.m.Ie.value},set:function(a){this.m.Ie.value=a}}})},{"../../core":29}],99:[function(e,q){function a(){k.W.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nuniform float strength;\nuniform vec2 offset;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying vec2 vBlurTexCoords[6];\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3((aVertexPosition+offset), 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n\n    vBlurTexCoords[ 0] = aTextureCoord + vec2(0.0, -0.012 * strength);\n    vBlurTexCoords[ 1] = aTextureCoord + vec2(0.0, -0.008 * strength);\n    vBlurTexCoords[ 2] = aTextureCoord + vec2(0.0, -0.004 * strength);\n    vBlurTexCoords[ 3] = aTextureCoord + vec2(0.0,  0.004 * strength);\n    vBlurTexCoords[ 4] = aTextureCoord + vec2(0.0,  0.008 * strength);\n    vBlurTexCoords[ 5] = aTextureCoord + vec2(0.0,  0.012 * strength);\n\n   vColor = vec4(aColor.rgb * aColor.a, aColor.a);\n}\n",
"precision lowp float;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vBlurTexCoords[6];\nvarying vec4 vColor;\n\nuniform vec3 color;\nuniform float alpha;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec4 sum = vec4(0.0);\n\n    sum += texture2D(uSampler, vBlurTexCoords[ 0])*0.004431848411938341;\n    sum += texture2D(uSampler, vBlurTexCoords[ 1])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 2])*0.2419707245191454;\n    sum += texture2D(uSampler, vTextureCoord     )*0.3989422804014327;\n    sum += texture2D(uSampler, vBlurTexCoords[ 3])*0.2419707245191454;\n    sum += texture2D(uSampler, vBlurTexCoords[ 4])*0.05399096651318985;\n    sum += texture2D(uSampler, vBlurTexCoords[ 5])*0.004431848411938341;\n\n    gl_FragColor = vec4( color.rgb * sum.a * alpha, sum.a * alpha );\n}\n",
{blur:{type:"1f",value:1/512},color:{type:"c",value:[0,0,0]},alpha:{type:"1f",value:.7},offset:{type:"2f",value:[5,5]},Lb:{type:"1f",value:1}});this.uc=1;this.Lb=4}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,c,d,f){var b=this.Lf(a);if(this.m.Lb.value=this.Lb/4/this.uc*(c.frame.height/c.size.height),1===this.uc)a.Z.na(b,c,d,f);else{for(var e=a.Z.jf(!0),k=e,m=0;m<this.uc-1;m++){a.Z.na(b,c,k,f);var q=k,k=c;c=q}a.Z.na(b,c,d,
f);a.Z.Xe(e)}};Object.defineProperties(a.prototype,{blur:{get:function(){return this.Lb},set:function(a){this.padding=.5*a;this.Lb=a}}})},{"../../core":29}],100:[function(e,q){function a(){k.W.call(this);this.nc=new g;this.ef=new c;this.Nm=new k.W;this.padding=30;this.cm=!0;this.Yl=45*Math.PI/180;this.dm=10;this.alpha=.75;this.jy=!1;this.Mc=k.P.Tl}var k=e("../../core"),g=e("../blur/BlurXFilter"),c=e("./BlurYTintFilter");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.na=
function(a,c,b){var e=a.Z.jf(!0);this.cm&&(this.cm=!1,this.ef.m.offset.value[0]=Math.sin(this.Yl)*this.dm,this.ef.m.offset.value[1]=Math.cos(this.Yl)*this.dm);this.nc.na(a,c,e);a.Je.Zf(this.Mc);this.ef.na(a,e,b);a.Je.Zf(k.P.Yd);this.jy||this.Nm.na(a,c,b);a.Z.Xe(e)};Object.defineProperties(a.prototype,{blur:{get:function(){return this.nc.blur},set:function(a){this.nc.blur=this.ef.blur=a}},Ys:{get:function(){return this.nc.blur},set:function(a){this.nc.blur=a}},Zs:{get:function(){return this.ef.blur},
set:function(a){this.ef.blur=a}},color:{get:function(){return k.Vd.xu(this.ef.m.color.value)},set:function(a){this.ef.m.color.value=k.Vd.Od(a)}},alpha:{get:function(){return this.ef.m.alpha.value},set:function(a){this.ef.m.alpha.value=a}},wg:{get:function(){return this.dm},set:function(a){this.cm=!0;this.dm=a}},Ie:{get:function(){return this.Yl},set:function(a){this.cm=!0;this.Yl=a}}})},{"../../core":29,"../blur/BlurXFilter":90,"./BlurYTintFilter":99}],101:[function(e,q){function a(){k.W.call(this,
null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\nuniform float gray;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix(gl_FragColor.rgb, vec3(0.2126*gl_FragColor.r + 0.7152*gl_FragColor.g + 0.0722*gl_FragColor.b), gray);\n}\n",{qq:{type:"1f",value:1}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,
{qq:{get:function(){return this.m.qq.value},set:function(a){this.m.qq.value=a}}})},{"../../core":29}],102:[function(e,q){q.o={sB:e("./ascii/AsciiFilter"),vB:e("./bloom/BloomFilter"),xB:e("./blur/BlurFilter"),yB:e("./blur/BlurXFilter"),zB:e("./blur/BlurYFilter"),wB:e("./blur/BlurDirFilter"),DB:e("./color/ColorMatrixFilter"),EB:e("./color/ColorStepFilter"),GB:e("./convolution/ConvolutionFilter"),HB:e("./crosshatch/CrossHatchFilter"),JB:e("./displacement/DisplacementFilter"),MB:e("./dot/DotScreenFilter"),
SB:e("./gray/GrayFilter"),NB:e("./dropshadow/DropShadowFilter"),WB:e("./invert/InvertFilter"),eC:e("./noise/NoiseFilter"),fC:e("./normal/NormalMapFilter"),jC:e("./pixelate/PixelateFilter"),lC:e("./rgb/RGBSplitFilter"),rC:e("./shockwave/ShockwaveFilter"),qC:e("./sepia/SepiaFilter"),sC:e("./blur/SmartBlurFilter"),yC:e("./tiltshift/TiltShiftFilter"),zC:e("./tiltshift/TiltShiftXFilter"),AC:e("./tiltshift/TiltShiftYFilter"),BC:e("./twist/TwistFilter")}},{"./ascii/AsciiFilter":86,"./bloom/BloomFilter":87,
"./blur/BlurDirFilter":88,"./blur/BlurFilter":89,"./blur/BlurXFilter":90,"./blur/BlurYFilter":91,"./blur/SmartBlurFilter":92,"./color/ColorMatrixFilter":93,"./color/ColorStepFilter":94,"./convolution/ConvolutionFilter":95,"./crosshatch/CrossHatchFilter":96,"./displacement/DisplacementFilter":97,"./dot/DotScreenFilter":98,"./dropshadow/DropShadowFilter":100,"./gray/GrayFilter":101,"./invert/InvertFilter":103,"./noise/NoiseFilter":104,"./normal/NormalMapFilter":105,"./pixelate/PixelateFilter":106,"./rgb/RGBSplitFilter":107,
"./sepia/SepiaFilter":108,"./shockwave/ShockwaveFilter":109,"./tiltshift/TiltShiftFilter":111,"./tiltshift/TiltShiftXFilter":112,"./tiltshift/TiltShiftYFilter":113,"./twist/TwistFilter":114}],103:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform float invert;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord);\n\n    gl_FragColor.rgb = mix( (vec3(1)-gl_FragColor.rgb) * gl_FragColor.a, gl_FragColor.rgb, 1.0 - invert);\n}\n",
{Nk:{type:"1f",value:1}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{Nk:{get:function(){return this.m.Nk.value},set:function(a){this.m.Nk.value=a}}})},{"../../core":29}],104:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float noise;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n\n    float diff = (rand(vTextureCoord) - 0.5) * noise;\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    gl_FragColor = color;\n}\n",
{Tq:{type:"1f",value:.5}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{Tq:{get:function(){return this.m.Tq.value},set:function(a){this.m.Tq.value=a}}})},{"../../core":29}],105:[function(e,q){function a(a){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D displacementMap;\nuniform sampler2D uSampler;\n\nuniform vec4 dimensions;\n\nconst vec2 Resolution = vec2(1.0,1.0);      //resolution of screen\nuniform vec3 LightPos;    //light position, normalized\nconst vec4 LightColor = vec4(1.0, 1.0, 1.0, 1.0);      //light RGBA -- alpha is intensity\nconst vec4 AmbientColor = vec4(1.0, 1.0, 1.0, 0.5);    //ambient RGBA -- alpha is intensity\nconst vec3 Falloff = vec3(0.0, 1.0, 0.2);         //attenuation coefficients\n\nuniform vec3 LightDir; // = vec3(1.0, 0.0, 1.0);\n\nuniform vec2 mapDimensions; // = vec2(256.0, 256.0);\n\n\nvoid main(void)\n{\n    vec2 mapCords = vTextureCoord.xy;\n\n    vec4 color = texture2D(uSampler, vTextureCoord.st);\n    vec3 nColor = texture2D(displacementMap, vTextureCoord.st).rgb;\n\n\n    mapCords *= vec2(dimensions.x/512.0, dimensions.y/512.0);\n\n    mapCords.y *= -1.0;\n    mapCords.y += 1.0;\n\n    // RGBA of our diffuse color\n    vec4 DiffuseColor = texture2D(uSampler, vTextureCoord);\n\n    // RGB of our normal map\n    vec3 NormalMap = texture2D(displacementMap, mapCords).rgb;\n\n    // The delta position of light\n    // vec3 LightDir = vec3(LightPos.xy - (gl_FragCoord.xy / Resolution.xy), LightPos.z);\n    vec3 LightDir = vec3(LightPos.xy - (mapCords.xy), LightPos.z);\n\n    // Correct for aspect ratio\n    // LightDir.x *= Resolution.x / Resolution.y;\n\n    // Determine distance (used for attenuation) BEFORE we normalize our LightDir\n    float D = length(LightDir);\n\n    // normalize our vectors\n    vec3 N = normalize(NormalMap * 2.0 - 1.0);\n    vec3 L = normalize(LightDir);\n\n    // Pre-multiply light color with intensity\n    // Then perform 'N dot L' to determine our diffuse term\n    vec3 Diffuse = (LightColor.rgb * LightColor.a) * max(dot(N, L), 0.0);\n\n    // pre-multiply ambient color with intensity\n    vec3 Ambient = AmbientColor.rgb * AmbientColor.a;\n\n    // calculate attenuation\n    float Attenuation = 1.0 / ( Falloff.x + (Falloff.y*D) + (Falloff.z*D*D) );\n\n    // the calculation which brings it all together\n    vec3 Intensity = Ambient + Diffuse * Attenuation;\n    vec3 FinalColor = DiffuseColor.rgb * Intensity;\n    gl_FragColor = vColor * vec4(FinalColor, DiffuseColor.a);\n\n    // gl_FragColor = vec4(1.0, 0.0, 0.0, Attenuation); // vColor * vec4(FinalColor, DiffuseColor.a);\n\n/*\n    // normalise color\n    vec3 normal = normalize(nColor * 2.0 - 1.0);\n\n    vec3 deltaPos = vec3( (light.xy - gl_FragCoord.xy) / resolution.xy, light.z );\n\n    float lambert = clamp(dot(normal, lightDir), 0.0, 1.0);\n\n    float d = sqrt(dot(deltaPos, deltaPos));\n    float att = 1.0 / ( attenuation.x + (attenuation.y*d) + (attenuation.z*d*d) );\n\n    vec3 result = (ambientColor * ambientIntensity) + (lightColor.rgb * lambert) * att;\n    result *= color.rgb;\n\n    gl_FragColor = vec4(result, 1.0);\n*/\n}\n",
{Rm:{type:"sampler2D",value:a},scale:{type:"2f",value:{x:15,y:15}},offset:{type:"2f",value:{x:0,y:0}},Zt:{type:"2f",value:{x:1,y:1}},Nd:{type:"4f",value:[0,0,0,0]},YB:{type:"3f",value:[0,1,0]}});a.X.GC=!0;a.X.ud?this.fu():a.X.Rd("loaded",this.fu,this)}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.fu=function(){this.m.Zt.value.x=this.m.Rm.value.width;this.m.Zt.value.y=this.m.Rm.value.height};Object.defineProperties(a.prototype,{map:{get:function(){return this.m.Rm.value},
set:function(a){this.m.Rm.value=a}},scale:{get:function(){return this.m.scale.value},set:function(a){this.m.scale.value=a}},offset:{get:function(){return this.m.offset.value},set:function(a){this.m.offset.value=a}}})},{"../../core":29}],106:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 dimensions;\nuniform vec2 pixelSize;\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord;\n\n    vec2 size = dimensions.xy / pixelSize;\n\n    vec2 color = floor( ( vTextureCoord * size ) ) / size + pixelSize/dimensions.xy * 0.5;\n\n    gl_FragColor = texture2D(uSampler, color);\n}\n",
{Nd:{type:"4fv",value:new Float32Array([0,0,0,0])},ml:{type:"v2",value:{x:10,y:10}}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{size:{get:function(){return this.m.ml.value},set:function(a){this.m.ml.value=a}}})},{"../../core":29}],107:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 dimensions;\nuniform vec2 red;\nuniform vec2 green;\nuniform vec2 blue;\n\nvoid main(void)\n{\n   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/dimensions.xy).r;\n   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/dimensions.xy).g;\n   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/dimensions.xy).b;\n   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;\n}\n",
{red:{type:"v2",value:{x:20,y:20}},green:{type:"v2",value:{x:-20,y:20}},blue:{type:"v2",value:{x:20,y:-20}},Nd:{type:"4fv",value:[0,0,0,0]}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{red:{get:function(){return this.m.red.value},set:function(a){this.m.red.value=a}},green:{get:function(){return this.m.green.value},set:function(a){this.m.green.value=a}},blue:{get:function(){return this.m.blue.value},set:function(a){this.m.blue.value=
a}}})},{"../../core":29}],108:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float sepia;\n\nconst mat3 sepiaMatrix = mat3(0.3588, 0.7044, 0.1368, 0.2990, 0.5870, 0.1140, 0.2392, 0.4696, 0.0912);\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n   gl_FragColor.rgb = mix( gl_FragColor.rgb, gl_FragColor.rgb * sepiaMatrix, sepia);\n}\n",{Qn:{type:"1f",value:1}})}var k=e("../../core");
a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{Qn:{get:function(){return this.m.Qn.value},set:function(a){this.m.Qn.value=a}}})},{"../../core":29}],109:[function(e,q){function a(){k.W.call(this,null,"precision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nuniform vec2 center;\nuniform vec3 params; // 10.0, 0.8, 0.1\nuniform float time;\n\nvoid main()\n{\n    vec2 uv = vTextureCoord;\n    vec2 texCoord = uv;\n\n    float dist = distance(uv, center);\n\n    if ( (dist <= (time + params.z)) && (dist >= (time - params.z)) )\n    {\n        float diff = (dist - time);\n        float powDiff = 1.0 - pow(abs(diff*params.x), params.y);\n\n        float diffTime = diff  * powDiff;\n        vec2 diffUV = normalize(uv - center);\n        texCoord = uv + (diffUV * diffTime);\n    }\n\n    gl_FragColor = texture2D(uSampler, texCoord);\n}\n",
{rd:{type:"v2",value:{x:.5,y:.5}},Vq:{type:"v3",value:{x:10,y:.8,z:.1}},time:{type:"1f",value:0}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{rd:{get:function(){return this.m.rd.value},set:function(a){this.m.rd.value=a}},Vq:{get:function(){return this.m.Vq.value},set:function(a){this.m.Vq.value=a}},time:{get:function(){return this.m.time.value},set:function(a){this.m.time.value=a}}})},{"../../core":29}],110:[function(e,
q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float blur;\nuniform float gradientBlur;\nuniform vec2 start;\nuniform vec2 end;\nuniform vec2 delta;\nuniform vec2 texSize;\n\nfloat random(vec3 scale, float seed)\n{\n    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main(void)\n{\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);\n    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));\n    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;\n\n    for (float t = -30.0; t <= 30.0; t++)\n    {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);\n        sample.rgb *= sample.a;\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n",
{blur:{type:"1f",value:100},Dh:{type:"1f",value:600},start:{type:"v2",value:{x:0,y:window.innerHeight/2}},end:{type:"v2",value:{x:600,y:window.innerHeight/2}},vh:{type:"v2",value:{x:30,y:30}},sE:{type:"v2",value:{x:window.innerWidth,y:window.innerHeight}}});this.Bl()}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;a.prototype.Bl=function(){this.m.vh.value.x=0;this.m.vh.value.y=0};Object.defineProperties(a.prototype,{blur:{get:function(){return this.m.blur.value},
set:function(a){this.m.blur.value=a}},Dh:{get:function(){return this.m.Dh.value},set:function(a){this.m.Dh.value=a}},start:{get:function(){return this.m.start.value},set:function(a){this.m.start.value=a;this.Bl()}},end:{get:function(){return this.m.end.value},set:function(a){this.m.end.value=a;this.Bl()}}})},{"../../core":29}],111:[function(e,q){function a(){k.W.call(this);this.dg=new g;this.zl=new c}var k=e("../../core"),g=e("./TiltShiftXFilter"),c=e("./TiltShiftYFilter");a.prototype=Object.create(k.W.prototype);
a.prototype.constructor=a;q.o=a;a.prototype.na=function(a,c,b){var e=a.Z.jf(!0);this.dg.na(a,c,e);this.zl.na(a,e,b);a.Z.Xe(e)};Object.defineProperties(a.prototype,{blur:{get:function(){return this.dg.blur},set:function(a){this.dg.blur=this.zl.blur=a}},Dh:{get:function(){return this.dg.Dh},set:function(a){this.dg.Dh=this.zl.Dh=a}},start:{get:function(){return this.dg.start},set:function(a){this.dg.start=this.zl.start=a}},end:{get:function(){return this.dg.end},set:function(a){this.dg.end=this.zl.end=
a}}})},{"../../core":29,"./TiltShiftXFilter":112,"./TiltShiftYFilter":113}],112:[function(e,q){function a(){k.call(this)}var k=e("./TiltShiftAxisFilter");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.Bl=function(){var a=this.m.end.value.x-this.m.start.value.x,c=this.m.end.value.y-this.m.start.value.y,d=Math.sqrt(a*a+c*c);this.m.vh.value.x=a/d;this.m.vh.value.y=c/d}},{"./TiltShiftAxisFilter":110}],113:[function(e,q){function a(){k.call(this)}var k=e("./TiltShiftAxisFilter");
a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.Bl=function(){var a=this.m.end.value.x-this.m.start.value.x,c=this.m.end.value.y-this.m.start.value.y,d=Math.sqrt(a*a+c*c);this.m.vh.value.x=-c/d;this.m.vh.value.y=a/d}},{"./TiltShiftAxisFilter":110}],114:[function(e,q){function a(){k.W.call(this,null,"precision mediump float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float radius;\nuniform float angle;\nuniform vec2 offset;\n\nvoid main(void)\n{\n   vec2 coord = vTextureCoord - offset;\n   float dist = length(coord);\n\n   if (dist < radius)\n   {\n       float ratio = (radius - dist) / radius;\n       float angleMod = ratio * ratio * angle;\n       float s = sin(angleMod);\n       float c = cos(angleMod);\n       coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);\n   }\n\n   gl_FragColor = texture2D(uSampler, coord+offset);\n}\n",
{mb:{type:"1f",value:.5},Ie:{type:"1f",value:5},offset:{type:"v2",value:{x:.5,y:.5}}})}var k=e("../../core");a.prototype=Object.create(k.W.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{offset:{get:function(){return this.m.offset.value},set:function(a){this.m.offset.value=a}},mb:{get:function(){return this.m.mb.value},set:function(a){this.m.mb.value=a}},Ie:{get:function(){return this.m.Ie.value},set:function(a){this.m.Ie.value=a}}})},{"../../core":29}],115:[function(e,
q){function a(){this.global=new k.Eb;this.wf=this.target=null}var k=e("../core");a.prototype.constructor=a;q.o=a},{"../core":29}],116:[function(e,q){function a(a,d){d=d||{};this.v=a;this.vi=void 0!==d.vi?d.vi:!0;this.Gt=d.Gt||10;this.Pb=new g;this.ob={bg:!1,target:null,type:null,data:this.Pb,stopPropagation:function(){this.bg=!0}};this.sq=[];this.pb=null;this.il=this.il.bind(this);this.Fn=this.Fn.bind(this);this.fl=this.fl.bind(this);this.Dn=this.Dn.bind(this);this.gl=this.gl.bind(this);this.En=this.En.bind(this);
this.hl=this.hl.bind(this);this.ij=this.ij.bind(this);this.ll=this.ll.bind(this);this.In=this.In.bind(this);this.jl=this.jl.bind(this);this.Gn=this.Gn.bind(this);this.kl=this.kl.bind(this);this.Hn=this.Hn.bind(this);this.Km="inherit";this.nm=new k.Eb;this.N=1;this.DA(this.v.view,this.v.N)}var k=e("../core"),g=e("./InteractionData");Object.Ik(k.po.prototype,e("./interactiveTarget"));a.prototype.constructor=a;q.o=a;a.prototype.DA=function(a,d){this.vu();this.pb=a;this.N=d||1;this.Mw()};a.prototype.Mw=
function(){this.pb&&(k.Vn.Rn.add(this.update,this),window.navigator.msPointerEnabled&&(this.pb.style["-ms-content-zooming"]="none",this.pb.style["-ms-touch-action"]="none"),window.document.addEventListener("mousemove",this.gl,!0),this.pb.addEventListener("mousedown",this.fl,!0),this.pb.addEventListener("mouseout",this.hl,!0),this.pb.addEventListener("touchstart",this.ll,!0),this.pb.addEventListener("touchend",this.jl,!0),this.pb.addEventListener("touchmove",this.kl,!0),window.addEventListener("mouseup",
this.il,!0))};a.prototype.vu=function(){this.pb&&(k.Vn.Rn.remove(this.update),window.navigator.msPointerEnabled&&(this.pb.style["-ms-content-zooming"]="",this.pb.style["-ms-touch-action"]=""),window.document.removeEventListener("mousemove",this.gl,!0),this.pb.removeEventListener("mousedown",this.fl,!0),this.pb.removeEventListener("mouseout",this.hl,!0),this.pb.removeEventListener("touchstart",this.ll,!0),this.pb.removeEventListener("touchend",this.jl,!0),this.pb.removeEventListener("touchmove",this.kl,
!0),this.pb=null,window.removeEventListener("mouseup",this.il,!0))};a.prototype.update=function(a){if(this.$o+=a,!(this.$o<this.Gt)&&(this.$o=0,this.pb)){if(this.nt)return void(this.nt=!1);this.cursor="inherit";this.xf(this.Pb.global,this.v.bf,this.ij,!0);this.Km!==this.cursor&&(this.Km=this.cursor,this.pb.style.cursor=this.cursor)}};a.prototype.dispatchEvent=function(a,d,f){f.bg||(f.target=a,f.type=d,a.wb(d,f),a[d]&&a[d](f))};a.prototype.ej=function(a,d,f){var b=this.pb.getBoundingClientRect();a.x=
this.pb.width/b.width*(d-b.left)/this.N;a.y=this.pb.height/b.height*(f-b.top)/this.N};a.prototype.xf=function(a,d,f,b,e){if(!d.visible)return!1;var g=d.children,k=!1;if(e=e||d.Ht,d.It)for(var m=g.length-1;0<=m;m--)!k&&b?k=this.xf(a,g[m],f,!0,e):this.xf(a,g[m],f,!1,!1);return e&&(b&&(d.ky?(d.sa.Tj(a,this.nm),k=d.ky.contains(this.nm.x,this.nm.y)):d.Ke&&(k=d.Ke(a))),d.Ht&&f(d,k)),k};a.prototype.fl=function(a){this.Pb.wf=a;this.ob.data=this.Pb;this.ob.bg=!1;this.ej(this.Pb.global,a.clientX,a.clientY);
this.vi&&this.Pb.wf.preventDefault();this.xf(this.Pb.global,this.v.bf,this.Dn,!0)};a.prototype.Dn=function(a,d){var f=this.Pb.wf,f=2===f.button||3===f.which;d&&(a[f?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(a,f?"rightdown":"mousedown",this.ob))};a.prototype.il=function(a){this.Pb.wf=a;this.ob.data=this.Pb;this.ob.bg=!1;this.ej(this.Pb.global,a.clientX,a.clientY);this.xf(this.Pb.global,this.v.bf,this.Fn,!0)};a.prototype.Fn=function(a,d){var f=this.Pb.wf,b=(f=2===f.button||3===f.which)?"_isRightDown":
"_isLeftDown";d?(this.dispatchEvent(a,f?"rightup":"mouseup",this.ob),a[b]&&(a[b]=!1,this.dispatchEvent(a,f?"rightclick":"click",this.ob))):a[b]&&(a[b]=!1,this.dispatchEvent(a,f?"rightupoutside":"mouseupoutside",this.ob))};a.prototype.gl=function(a){this.Pb.wf=a;this.ob.data=this.Pb;this.ob.bg=!1;this.ej(this.Pb.global,a.clientX,a.clientY);this.nt=!0;this.cursor="inherit";this.xf(this.Pb.global,this.v.bf,this.En,!0);this.Km!==this.cursor&&(this.Km=this.cursor,this.pb.style.cursor=this.cursor)};a.prototype.En=
function(a,d){this.dispatchEvent(a,"mousemove",this.ob);this.ij(a,d)};a.prototype.hl=function(a){this.Pb.wf=a;this.ob.bg=!1;this.ej(this.Pb.global,a.clientX,a.clientY);this.pb.style.cursor="inherit";this.ej(this.Pb.global,a.clientX,a.clientY);this.xf(this.Pb.global,this.v.bf,this.ij,!1)};a.prototype.ij=function(a,d){d?(a.jm||(a.jm=!0,this.dispatchEvent(a,"mouseover",this.ob)),a.xx&&(this.cursor=a.Jx)):a.jm&&(a.jm=!1,this.dispatchEvent(a,"mouseout",this.ob))};a.prototype.ll=function(a){this.vi&&a.preventDefault();
for(var d=a.changedTouches,f=d.length,b=0;f>b;b++){var e=this.mq(d[b]);e.wf=a;this.ob.data=e;this.ob.bg=!1;this.xf(e.global,this.v.bf,this.In,!0);this.cr(e)}};a.prototype.In=function(a,d){d&&(a.Sj=!0,this.dispatchEvent(a,"touchstart",this.ob))};a.prototype.jl=function(a){this.vi&&a.preventDefault();for(var d=a.changedTouches,f=d.length,b=0;f>b;b++){var e=this.mq(d[b]);e.wf=a;this.ob.data=e;this.ob.bg=!1;this.xf(e.global,this.v.bf,this.Gn,!0);this.cr(e)}};a.prototype.Gn=function(a,d){d?(this.dispatchEvent(a,
"touchend",this.ob),a.Sj&&(a.Sj=!1,this.dispatchEvent(a,"tap",this.ob))):a.Sj&&(a.Sj=!1,this.dispatchEvent(a,"touchendoutside",this.ob))};a.prototype.kl=function(a){this.vi&&a.preventDefault();for(var d=a.changedTouches,f=d.length,b=0;f>b;b++){var e=this.mq(d[b]);e.wf=a;this.ob.data=e;this.ob.bg=!1;this.xf(e.global,this.v.bf,this.Hn,!1);this.cr(e)}};a.prototype.Hn=function(a){this.dispatchEvent(a,"touchmove",this.ob)};a.prototype.mq=function(a){var d=this.sq.pop();return d||(d=new g),d.identifier=
a.identifier,this.ej(d.global,a.clientX,a.clientY),navigator.sd&&(d.global.x=d.global.x/this.N,d.global.y=d.global.y/this.N),a.BD=d.global.x,a.CD=d.global.y,d};a.prototype.cr=function(a){this.sq.push(a)};a.prototype.O=function(){this.vu();this.nm=this.Hn=this.kl=this.Gn=this.jl=this.In=this.ll=this.ij=this.hl=this.En=this.gl=this.Dn=this.fl=this.Fn=this.il=this.pb=this.sq=this.ob=this.Pb=this.v=null};k.Ro.Vh("interaction",a);k.zr.Vh("interaction",a)},{"../core":29,"./InteractionData":115,"./interactiveTarget":118}],
117:[function(e,q){q.o={UB:e("./InteractionData"),VB:e("./InteractionManager"),ND:e("./interactiveTarget")}},{"./InteractionData":115,"./InteractionManager":116,"./interactiveTarget":118}],118:[function(e,q){q.o={Ht:!1,xx:!1,It:!0,Jx:"pointer",jm:!1,Sj:!1}},{}],119:[function(e,q){function a(a,b){var d={},e=a.data.getElementsByTagName("info")[0],k=a.data.getElementsByTagName("common")[0];d.font=e.getAttribute("face");d.size=parseInt(e.getAttribute("size"),10);d.lineHeight=parseInt(k.getAttribute("lineHeight"),
10);d.Up={};k=a.data.getElementsByTagName("char");for(e=0;e<k.length;e++){var m=parseInt(k[e].getAttribute("id"),10),p=new g.lc(parseInt(k[e].getAttribute("x"),10)+b.frame.x,parseInt(k[e].getAttribute("y"),10)+b.frame.y,parseInt(k[e].getAttribute("width"),10),parseInt(k[e].getAttribute("height"),10));d.Up[m]={Tu:parseInt(k[e].getAttribute("xoffset"),10),kB:parseInt(k[e].getAttribute("yoffset"),10),jB:parseInt(k[e].getAttribute("xadvance"),10),uq:{},wa:new g.ii(b.X,p)}}k=a.data.getElementsByTagName("kerning");
for(e=0;e<k.length;e++){var m=parseInt(k[e].getAttribute("first"),10),p=parseInt(k[e].getAttribute("second"),10),q=parseInt(k[e].getAttribute("amount"),10);d.Up[p].uq[m]=q}a.TC=d;c.eo.fonts[d.font]=d}var k=e("resource-loader").Mj,g=e("../core"),c=e("../extras"),d=e("path");q.o=function(){return function(c,b){if(!c.data||!c.Kt||0===c.data.getElementsByTagName("page").length||0===c.data.getElementsByTagName("info").length||null===c.data.getElementsByTagName("info")[0].getAttribute("face"))return b();
var e=d.dirname(c.url);"."===e&&(e="");this.cf&&e&&("/"===this.cf.charAt(this.cf.length-1)&&(e+="/"),e=e.replace(this.cf,""));e&&"/"!==e.charAt(e.length-1)&&(e+="/");e+=c.data.getElementsByTagName("page")[0].getAttribute("file");g.Vd.gd[e]?(a(c,g.Vd.gd[e]),b()):this.add(c.name+"_image",e,{crossOrigin:c.crossOrigin,nn:k.Gc.IMAGE},function(d){a(c,d.wa);b()})}}},{"../core":29,"../extras":85,path:3,"resource-loader":18}],120:[function(e,q){q.o={qv:e("./loader"),UC:e("./bitmapFontParser"),pE:e("./spritesheetParser"),
tE:e("./textureParser"),Mj:e("resource-loader").Mj}},{"./bitmapFontParser":119,"./loader":121,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],121:[function(e,q){function a(c,b){k.call(this,c,b);for(var d=0;d<a.sd.length;++d)this.use(a.sd[d]())}var k=e("resource-loader"),g=e("./textureParser"),c=e("./spritesheetParser"),d=e("./bitmapFontParser");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.sd=[k.nz.yz.blob,g,c,d];a.Si=function(c){a.sd.push(c)};g=k.Mj;
g.zA(g.ab.$e)},{"./bitmapFontParser":119,"./spritesheetParser":122,"./textureParser":123,"resource-loader":18}],122:[function(e,q){var a=e("resource-loader").Mj,k=e("path"),g=e("../core");q.o=function(){return function(c,d){if(!c.data||!c.Jt||!c.data.frames)return d();var f={crossOrigin:c.crossOrigin,nn:a.Gc.IMAGE},b=k.dirname(c.url.replace(this.cf,"")),e=g.Vd.lq(c.url);this.add(c.name+"_image",b+"/"+c.data.WD.KD,f,function(a){c.Un={};var b=c.data.frames,f;for(f in b){var k=b[f].frame;if(k){var m=
null,q=null;if(m=b[f].yu?new g.lc(k.x,k.y,k.ac,k.ka):new g.lc(k.x,k.y,k.ka,k.ac),b[f].AE&&(q=new g.lc(b[f].HA.x/e,b[f].HA.y/e,b[f].FA.ka/e,b[f].FA.ac/e)),b[f].yu)k=m.width,m.width=m.height,m.height=k;m.x/=e;m.y/=e;m.width/=e;m.height/=e;c.Un[f]=new g.ii(a.wa.X,m,m.clone(),q,b[f].yu);g.Vd.gd[f]=c.Un[f]}}d()})}}},{"../core":29,path:3,"resource-loader":18}],123:[function(e,q){var a=e("../core");q.o=function(){return function(e,g){e.data&&e.ln&&(e.wa=new a.ii(new a.Wu(e.data,null,a.Vd.lq(e.url))),a.Vd.gd[e.url]=
e.wa);g()}}},{"../core":29}],124:[function(e,q){function a(c,f,b,e,g){k.Ce.call(this);this.la=null;this.Uc=b||new Float32Array([0,1,1,1,1,0,0,1]);this.eb=f||new Float32Array([0,0,100,0,100,100,0,100]);this.$=e||new Uint16Array([0,1,2,3]);this.ya=!0;this.Mc=k.P.Yd;this.Tp=0;this.$p=g||a.le.Po;this.wa=c}var k=e("../core"),g=new k.Eb,c=new k.Sr;a.prototype=Object.create(k.Ce.prototype);a.prototype.constructor=a;q.o=a;Object.defineProperties(a.prototype,{wa:{get:function(){return this.la},set:function(a){this.la!==
a&&(this.la=a,a&&(a.X.ud?this.ng():a.Rd("update",this.ng,this)))}}});a.prototype.oi=function(a){a.Tg(a.plugins.cu);a.plugins.cu.Cc(this)};a.prototype.lh=function(c){var f=c.context,b=this.sa;c.lj?f.setTransform(b.j,b.ba,b.g,b.d,0|b.da,0|b.aa):f.setTransform(b.j,b.ba,b.g,b.d,b.da,b.aa);this.$p===a.le.Po?this.Cw(f):this.Dw(f)};a.prototype.Cw=function(a){for(var c=this.eb,b=this.Uc,e=c.length/2,g=0;e-2>g;g++){var k=2*g;this.Ds(a,c,b,k,k+2,k+4)}};a.prototype.Dw=function(a){for(var c=this.eb,b=this.Uc,
e=this.$,g=e.length,k=0;g>k;k+=3)this.Ds(a,c,b,2*e[k],2*e[k+1],2*e[k+2])};a.prototype.Ds=function(a,c,b,e,g,k){var m=this.la.X.source,p=this.la.X.width,q=this.la.X.height,C=c[e],B=c[g],K=c[k],D=c[e+1],L=c[g+1];c=c[k+1];var z=b[e]*p,F=b[g]*p,p=b[k]*p;e=b[e+1]*q;g=b[g+1]*q;b=b[k+1]*q;if(0<this.Tp){k=this.Tp/this.sa.j;var q=this.Tp/this.sa.d,u=(C+B+K)/3,N=(D+L+c)/3,J=C-u,E=D-N,G=Math.sqrt(J*J+E*E),C=u+J/G*(G+k),D=N+E/G*(G+q),J=B-u,E=L-N,G=Math.sqrt(J*J+E*E),B=u+J/G*(G+k),L=N+E/G*(G+q),J=K-u,E=c-N,G=
Math.sqrt(J*J+E*E),K=u+J/G*(G+k);c=N+E/G*(G+q)}a.save();a.beginPath();a.moveTo(C,D);a.lineTo(B,L);a.lineTo(K,c);a.closePath();a.clip();k=z*g+e*p+F*b-g*p-e*F-z*b;a.transform((C*g+e*K+B*b-g*K-e*B-C*b)/k,(D*g+e*c+L*b-g*c-e*L-D*b)/k,(z*B+C*p+F*K-B*p-C*F-z*K)/k,(z*L+D*p+F*c-L*p-D*F-z*c)/k,(z*g*K+e*B*p+C*F*b-C*g*p-e*F*K-z*B*b)/k,(z*g*c+e*L*p+D*F*b-D*g*p-e*F*c-z*L*b)/k);a.drawImage(m,0,0);a.restore()};a.prototype.ng=function(){};a.prototype.$b=function(a){if(!this.Kc){var c=a||this.sa;a=c.j;for(var b=c.ba,
e=c.g,g=c.d,m=c.da,q=c.aa,c=-(1/0),p=-(1/0),t=1/0,C=1/0,B=this.eb,K=0,D=B.length;D>K;K+=2)var L=B[K],z=B[K+1],F=a*L+e*z+m,L=g*z+b*L+q,t=t>F?F:t,C=C>L?L:C,c=F>c?F:c,p=L>p?L:p;if(t===-(1/0)||p===1/0)return k.lc.EMPTY;a=this.hd;a.x=t;a.width=c-t;a.y=C;a.height=p-C;this.Kc=a}return this.Kc};a.prototype.Ke=function(d){if(!this.$b().contains(d.x,d.y))return!1;this.sa.Tj(d,g);var f,b=this.eb,e=c.I;if(this.$p===a.le.TRIANGLES){var k=this.$;f=this.$.length;for(d=0;f>d;d+=3){var m=2*k[d],q=2*k[d+1],p=2*k[d+
2];if(e[0]=b[m],e[1]=b[m+1],e[2]=b[q],e[3]=b[q+1],e[4]=b[p],e[5]=b[p+1],c.contains(g.x,g.y))return!0}}else for(f=b.length,d=0;f>d;d+=6)if(e[0]=b[d],e[1]=b[d+1],e[2]=b[d+2],e[3]=b[d+3],e[4]=b[d+4],e[5]=b[d+5],c.contains(g.x,g.y))return!0;return!1};a.le={Po:0,TRIANGLES:1}},{"../core":29}],125:[function(e,q){function a(a,d){k.call(this,a);this.I=d;this.eb=new Float32Array(4*d.length);this.Uc=new Float32Array(4*d.length);this.ug=new Float32Array(2*d.length);this.$=new Uint16Array(2*d.length);this.Bw=
!0;this.refresh()}var k=e("./Mesh"),g=e("../core");a.prototype=Object.create(k.prototype);a.prototype.constructor=a;q.o=a;a.prototype.refresh=function(){var a=this.I;if(!(1>a.length)&&this.la.md){var d=this.Uc,f=this.$,b=this.ug,e=this.la.md,k=new g.Eb(e.ah,e.bh),e=new g.Eb(e.Gl-e.ah,e.yj-e.bh);d[0]=0+k.x;d[1]=0+k.y;d[2]=0+k.x;d[3]=1*e.y+k.y;b[0]=1;b[1]=1;f[0]=0;f[1]=1;for(var m,q=a.length,p=1;q>p;p++)a=4*p,m=p/(q-1),d[a]=m*e.x+k.x,d[a+1]=0+k.y,d[a+2]=m*e.x+k.x,d[a+3]=1*e.y+k.y,a=2*p,b[a]=1,b[a+1]=
1,a=2*p,f[a]=a,f[a+1]=a+1;this.ya=!0}};a.prototype.ng=function(){k.prototype.ng.call(this);this.Bw&&this.refresh()};a.prototype.Dc=function(){var a=this.I;if(!(1>a.length)){var d,f,b,e,g;e=a[0];for(var k=d=0,m=this.eb,p=a.length,q=0;p>q;q++)f=a[q],b=4*q,d=q<a.length-1?a[q+1]:f,k=-(d.x-e.x),d=d.y-e.y,e=Math.sqrt(d*d+k*k),g=this.la.height/2,d/=e,k/=e,d*=g,k*=g,m[b]=f.x+d,m[b+1]=f.y+k,m[b+2]=f.x-d,m[b+3]=f.y-k,e=f;this.gt()}}},{"../core":29,"./Mesh":124}],126:[function(e,q){q.o={sv:e("./Mesh"),Vr:e("./Rope"),
ZB:e("./webgl/MeshRenderer"),$B:e("./webgl/MeshShader")}},{"./Mesh":124,"./Rope":125,"./webgl/MeshRenderer":127,"./webgl/MeshShader":128}],127:[function(e,q){function a(a){k.Rr.call(this,a);this.$=new Uint16Array(15E3);for(var d=a=0;15E3>a;a+=6,d+=4)this.$[a+0]=d+0,this.$[a+1]=d+1,this.$[a+2]=d+2,this.$[a+3]=d+0,this.$[a+4]=d+2,this.$[a+5]=d+3}var k=e("../../core"),g=e("../Mesh");a.prototype=Object.create(k.Rr.prototype);a.prototype.constructor=a;q.o=a;k.Ro.Vh("mesh",a);a.prototype.Vf=function(){};
a.prototype.Cc=function(a){a.qm||this.kw(a);var d=this.v,f=d.G,b=a.la.X,e=d.Db.plugins.lz,k=a.$p===g.le.Po?f.TRIANGLE_STRIP:f.TRIANGLES;d.Je.Zf(a.Mc);f.uniformMatrix3fv(e.m.vj.Sb,!1,a.sa.Ad());f.uniformMatrix3fv(e.m.fc.Sb,!1,d.Oc.fc.Ad());f.uniform1f(e.m.alpha.Sb,a.hb);a.ya?(a.ya=!1,f.bindBuffer(f.ARRAY_BUFFER,a.qm),f.bufferData(f.ARRAY_BUFFER,a.eb,f.STATIC_DRAW),f.vertexAttribPointer(e.attributes.He,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,a.lp),f.bufferData(f.ARRAY_BUFFER,a.Uc,f.STATIC_DRAW),
f.vertexAttribPointer(e.attributes.si,2,f.FLOAT,!1,0,0),f.activeTexture(f.TEXTURE0),b.Rb[f.id]?f.bindTexture(f.TEXTURE_2D,b.Rb[f.id]):this.v.Yg(b),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a.ep),f.bufferData(f.ELEMENT_ARRAY_BUFFER,a.$,f.STATIC_DRAW)):(f.bindBuffer(f.ARRAY_BUFFER,a.qm),f.bufferSubData(f.ARRAY_BUFFER,0,a.eb),f.vertexAttribPointer(e.attributes.He,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,a.lp),f.vertexAttribPointer(e.attributes.si,2,f.FLOAT,!1,0,0),f.activeTexture(f.TEXTURE0),b.Rb[f.id]?
f.bindTexture(f.TEXTURE_2D,b.Rb[f.id]):this.v.Yg(b),f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,a.ep),f.bufferSubData(f.ELEMENT_ARRAY_BUFFER,0,a.$));f.drawElements(k,a.$.length,f.UNSIGNED_SHORT,0)};a.prototype.kw=function(a){var d=this.v.G;a.qm=d.createBuffer();a.ep=d.createBuffer();a.lp=d.createBuffer();d.bindBuffer(d.ARRAY_BUFFER,a.qm);d.bufferData(d.ARRAY_BUFFER,a.eb,d.DYNAMIC_DRAW);d.bindBuffer(d.ARRAY_BUFFER,a.lp);d.bufferData(d.ARRAY_BUFFER,a.Uc,d.STATIC_DRAW);a.ug&&(a.bw=d.createBuffer(),d.bindBuffer(d.ARRAY_BUFFER,
a.bw),d.bufferData(d.ARRAY_BUFFER,a.ug,d.STATIC_DRAW));d.bindBuffer(d.ELEMENT_ARRAY_BUFFER,a.ep);d.bufferData(d.ELEMENT_ARRAY_BUFFER,a.$,d.STATIC_DRAW)};a.prototype.flush=function(){};a.prototype.start=function(){this.v.Db.Yh(this.v.Db.plugins.lz)};a.prototype.O=function(){}},{"../../core":29,"../Mesh":124}],128:[function(e,q){function a(a){k.Zr.call(this,a,"precision lowp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat3 translationMatrix;\nuniform mat3 projectionMatrix;\nvarying vec2 vTextureCoord;\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}",
"precision lowp float;\nvarying vec2 vTextureCoord;\nuniform float alpha;\nuniform sampler2D uSampler;\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * alpha ;\n}",{alpha:{type:"1f",value:0},vj:{type:"mat3",value:new Float32Array(9)},fc:{type:"mat3",value:new Float32Array(9)}},{He:0,si:0})}var k=e("../../core");a.prototype=Object.create(k.Zr.prototype);a.prototype.constructor=a;q.o=a;k.Mv.Vh("meshShader",a)},{"../../core":29}],129:[function(e){Object.Ik||(Object.Ik=e("object-assign"))},
{"object-assign":12}],130:[function(e){e("./Object.assign");e("./requestAnimationFrame")},{"./Object.assign":129,"./requestAnimationFrame":131}],131:[function(){(function(e){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!e.performance||!e.performance.now){var q=Date.now();e.performance||(e.performance={});e.performance.now=function(){return Date.now()-q}}for(var a=Date.now(),k=["ms","moz","webkit","o"],g=0;g<k.length&&!e.requestAnimationFrame;++g)e.requestAnimationFrame=
e[k[g]+"RequestAnimationFrame"],e.cancelAnimationFrame=e[k[g]+"CancelAnimationFrame"]||e[k[g]+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(c){if("function"!=typeof c)throw new TypeError(c+"is not a function");var d=Date.now(),e=16+a-d;return 0>e&&(e=0),a=d,setTimeout(function(){a=Date.now();c(performance.now())},e)});e.cancelAnimationFrame||(e.cancelAnimationFrame=function(a){clearTimeout(a)})}).call(this,"undefined"!=typeof C?C:"undefined"!=typeof self?
self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,"undefined"!==typeof global?global:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],3:[function(R,Q){Q.o=function(e){function C(a,c){document.body.style.setProperty("margin-left",a+"px");document.body.style.setProperty("margin-top",c+"px")}function M(){window.setTimeout(M,1E3);k.text="render: "+d+"Hz\nengine: "+f+"Hz";f=d=0}function m(){f++;requestAnimFrame(m);now=Date.now();delta=now-then;then=now;
simulating&&e.step(delta)}function q(){d++;requestAnimFrame(q);nowRender=Date.now();delta=nowRender-thenRender;thenRender=now;w=window.innerWidth;h=window.innerHeight;w/h>16/9?(nw=16/9*h,nh=h,a.resize(nw,nh),C((w-nw)/2,0)):(nh=.5625*w,nw=w,a.resize(nw,nh),C(0,(h-nh)/2));g.scale=new PIXI.Eb(nw/1600,nh/900);e.Du(c,delta);a.Cc(g)}requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||
function(a){window.setTimeout(a,SolemnSky.uE)}}();e.kn();e.join("offline player");var a=PIXI.Yw(1600,900,{backgroundColor:16,antialias:!0});document.body.appendChild(a.view);var k=new PIXI.Text("",{fill:16777215});k.position=new PIXI.Eb(1400,10);var g=new PIXI.Ce;g.mh(k);var c=new PIXI.Ce;g.mh(c);e.Ft(c);var d=0,f=0;simulating=!0;then=Date.now();thenRender=Date.now();m();q();M();keyHandler=function(a){return function(c){e.Ks(0,nameFromKeyCode(c.keyCode),a)}};window.addEventListener("keydown",keyHandler(!0),
!0);window.addEventListener("keyup",keyHandler(!1),!0)};PIXI=R("../../assets/pixi.min.js");nameFromkeyCode=R("../resources/keys.js")},{"../../assets/pixi.min.js":2,"../resources/keys.js":9}],4:[function(R){Null=R("../modes/null/");Vanilla=R("../modes/vanilla/");runModeOffline=R("../control/offline.js");mode=new Vanilla;runModeOffline(mode)},{"../control/offline.js":3,"../modes/null/":5,"../modes/vanilla/":7}],5:[function(R,Q){function e(){this.Ue=[]}Q.o=e;e.prototype.join=function(){return 0};e.prototype.kn=
function(){};e.prototype.step=function(){};e.prototype.Ft=function(){};e.prototype.Du=function(){};e.prototype.Ks=function(){}},{}],6:[function(R,Q){Q.o={Bz:50,Ng:60,Yf:10,Dg:3,Gz:1.2*Math.PI,Hz:1.5*Math.PI,Iz:300,lu:250,Cz:330,iu:500,Dz:1.05,mu:1.5,ku:.1,nu:1.5,Ez:100,Fz:150,cE:5,ju:1,pz:.02,Gx:.01}},{}],7:[function(R,Q){function e(){this.Ue=[];this.map=[];this.scale=gameplay.Bz;this.El=null}Q.o=e;Box2D=R("../../../assets/box2d.min.js");PIXI=R("../../../assets/pixi.min.js");Utils=R("../../resources/util.js");
maps=R("../../resources/maps.js");Player=R("./player.js");gameplay=R("./gameplay.js");b2Vec2=Box2D.J.Math.pe;b2BodyDef=Box2D.f.wi;b2Body=Box2D.f.Lc;b2FixtureDef=Box2D.f.Ci;b2Fixture=Box2D.f.Bi;b2World=Box2D.f.qd;b2MassData=Box2D.l.qa.hk;b2PolygonShape=Box2D.l.qa.If;b2CircleShape=Box2D.l.qa.rg;b2DebugDraw=Box2D.f.od;e.prototype.Nw=function(e,M){if(!this.Ue.some(function(m){return m.id==e})){var m=new Player(this,e,900,450,M);this.Ue.push(m);m.ae.Wl(m);m.ae.Kv();m.ae.Iv();m.Mn=!0}};e.prototype.Xx=function(e){for(var M=
0;M<this.Ue.length;M++)if(this.Ue[M].id==e)return this.Ue[M];return null};e.prototype.ht=function(e,M,m,q,a,k){var g=new b2FixtureDef;g.wh=10;g.Cg=1;g.Pg=0;var c=new b2BodyDef;c.type=a?b2Body.Ld:b2Body.Xc;"undefined"!==typeof k&&("undefined"!==typeof k.wh&&(g.wh=k.wh),"undefined"!==typeof k.Cg&&(g.Cg=k.Cg),"undefined"!==typeof k.Pg&&(g.Pg=k.Pg));c.position.x=e/this.scale;c.position.y=M/this.scale;g.shape=new b2PolygonShape;g.shape.Wr(m/2/this.scale,q/2/this.scale);box=this.El.Br(c);box.fv(g);box.yq=
1;"undefined"!==typeof k&&"undefined"!==typeof k.yq&&(box.yq=k.yq);box.Wl({x:e,y:M,ka:m,ac:q,Zc:a,td:k});return box};e.prototype.Ey=function(){maps.ox.forEach(function(e){e=this.ht(e.x,e.y,e.ka,e.ac,e.Zc,e.td);this.map.push(e)},this)};e.prototype.Vx=function(e){if(e.Rl()){var M=e.rb.Ra,m=e.sb.Ra,q=M;M.Wd().Zc&&(q=m);var a=new Box2D.l.rh;e.mv(a);e=M.vo(a.ua[0]);a=m.vo(a.ua[0]);m=e.x-a.x;a=e.y-a.y;m=Math.max(gameplay.pz,Math.sqrt(m*m+a*a)*gameplay.Gx);q.Wd().Mf-=m}};e.prototype.join=function(e){var M=
this.Ue.map(function(a){return a.id}),m=Utils.Rz(0,M.length-1).reduce(function(a,e){return null===a?M[e]==e?e:null:a},0),q=M.length;null!==m&&(q=m);this.Nw(q,e)};e.prototype.kn=function(){this.Dg=new b2Vec2(0,gameplay.Dg);this.El=new b2World(this.Dg,!0);this.El.Dg=this.Dg;this.Ey()};e.prototype.step=function(e){this.Ue.forEach(function(e){e.Su()});this.El.jg(e/1E3,10,10);for(var M=this.El.jb;null!=M;M=M.Ha)this.Vx(M);this.Ue.forEach(function(e){e.Sz()});this.Ue.forEach(function(m){m.step(e)},this)};
e.prototype.Yz=function(e){e.ar();var M=new PIXI.Lr;M.clear;M.Li(16777215,1);this.map.forEach(function(e){e=e.Wd();M.zk(e.x-e.ka/2,e.y-e.ac/2,e.ka,e.ac)});e.mh(M)};e.prototype.Zz=function(e){e.ar();this.Ue.forEach(function(M){var m=M.position,q=M.rotation,a=M.Mf,k=new PIXI.Lr;k.clear();M.Ug||(k.Li(16777215,.2),k.zk(-(gameplay.Ng/2),-(gameplay.Yf/2),gameplay.Ng,gameplay.Yf),k.Li(16777215,M.ti?1:.5),k.zk(-(gameplay.Ng/2),-(gameplay.Yf/2),(gameplay.Ng-15)*M.cd,gameplay.Yf));M.Ug&&(M.ti?k.Li(80,1):k.Li(48,
1),k.zk(-(gameplay.Ng/2),-(gameplay.Yf/2),gameplay.Ng,gameplay.Yf));k.Li(16711680,a);k.zk(15,-(gameplay.Yf/2),gameplay.Ng/2-15,gameplay.Yf);k.position=new PIXI.Eb(m.x,m.y);k.rotation=q;e.mh(k)})};e.prototype.Ft=function(e){e.mh(new PIXI.Ce);e.mh(new PIXI.Ce)};e.prototype.Du=function(e){this.Yz(e.children[0]);this.Zz(e.children[1])};e.prototype.Ks=function(e,M,m){e=this.Xx(e);if(null!==e)switch(M){case "up":e.vf.forward=m;break;case "down":e.vf.Ws=m;break;case "left":e.vf.left=m;break;case "right":e.vf.right=
m}}},{"../../../assets/box2d.min.js":1,"../../../assets/pixi.min.js":2,"../../resources/maps.js":10,"../../resources/util.js":11,"./gameplay.js":6,"./player.js":8}],8:[function(R,Q){function e(e,M,m,q,a){this.Kf=e;this.name=a;this.id=M;this.vf={forward:!1,Ws:!1,left:!1,right:!1};this.position={x:m,y:q};this.dd={x:0,y:0};this.kj=this.rotation=0;this.Ug=!1;this.Hh={x:0,y:0};this.cd=1;this.ti=!1;this.Mf=1;this.GA={x:m,y:q};this.Mn=!1;this.ae=this.Kf.ht(m,q,gameplay.Ng,gameplay.Yf,!1,{Pg:.1,Cg:.1})}Q.o=
e;e.prototype.Su=function(){this.ae.Jv(new b2Vec2(this.position.x/this.Kf.scale,this.position.y/this.Kf.scale));this.ae.Mo(new b2Vec2(this.dd.x/this.Kf.scale,this.dd.y/this.Kf.scale));this.ae.Dv(this.rotation);this.ae.Ev(this.kj);this.ae.Wd().Mf=this.Mf};e.prototype.Sz=function(){var e=this.ae.h,M=this.ae.B.position;this.dd.x=e.x*this.Kf.scale;this.dd.y=e.y*this.Kf.scale;this.position.x=M.x*this.Kf.scale;this.position.y=M.y*this.Kf.scale;this.rotation=this.ae.af();this.kj=this.ae.u;this.Mf=this.ae.Wd().Mf};
e.prototype.step=function(e){var M=Utils.Dt(this.dd)*Math.cos(this.rotation-Utils.gy(this.dd)),m=this.dd,q=Utils.Dt(m),a=this.Ug?gameplay.Hz:gameplay.Gz,k=0;this.vf.left&&(k=-a);this.vf.right&&(k+=a);this.kj+=(k-this.kj)/Math.pow(gameplay.Dz,e);this.ti=!1;this.Ug?(this.vf.forward&&(this.ti=!0,this.dd={x:m.x+e/1E3*gameplay.iu*Math.cos(this.rotation),y:m.y+e/1E3*gameplay.iu*Math.sin(this.rotation)}),a=gameplay.lu/q,0<q-gameplay.lu&&(this.dd={x:m.x*a*Math.pow(gameplay.mu,e/1E3),y:m.y*a*Math.pow(gameplay.mu,
e/1E3)})):(this.vf.forward&&1>this.cd&&(this.cd+=e/1E3*gameplay.nu),this.vf.Ws&&0<this.cd&&(this.cd-=e/1E3*gameplay.nu),this.vf.forward&&1===this.cd&&(this.ti=!0),1<this.cd&&(this.cd=1),0>this.cd&&(this.cd=0),this.Hh.x=this.Hh.x*Math.pow(gameplay.ku,e/1E3),this.Hh.y=this.Hh.y*Math.pow(gameplay.ku,e/1E3),e=this.ti?gameplay.Cz:this.cd*gameplay.Iz,this.dd={x:this.Hh.x+Math.abs(gameplay.ju*Math.sin(this.rotation))+Math.cos(this.rotation)*e,y:this.Hh.y+Math.abs(gameplay.ju*Math.cos(this.rotation))+Math.sin(this.rotation)*
e});this.Ug?M>gameplay.Fz&&(this.Ug=!1,this.Hh={x:this.dd.x,y:this.dd.y},this.cd=0):M<gameplay.Ez&&(this.Ug=!0,this.cd=1);0>=this.Mf&&(this.Mn=!0);this.Mn&&(this.position=Utils.Ay(this.GA),this.dd={x:50,y:0},this.kj=this.rotation=0,this.Ug=!0,this.Mf=this.cd=1,this.Mn=!1,this.Su())}},{}],9:[function(R,Q){var e="   cancel   help  back_space tab   clear enter return  shift control alt pause caps_lock kana eisu junja final hanja  escape convert nonconvert accept modechange space page_up page_down end home left up right down select print execute printscreen insert delete  0 1 2 3 4 5 6 7 8 9 colon semicolon less_than equals greater_than question_mark at a b c d e f g h i j k l m n o p q r s t u v w x y z win  context_menu  sleep numpad0 numpad1 numpad2 numpad3 numpad4 numpad5 numpad6 numpad7 numpad8 numpad9 multiply add separator subtract decimal divide f1 f2 f3 f4 f5 f6 f7 f8 f9 f10 f11 f12 f13 f14 f15 f16 f17 f18 f19 f20 f21 f22 f23 f24         num_lock scroll_lock win_oem_fj_jisho win_oem_fj_masshou win_oem_fj_touroku win_oem_fj_loya win_oem_fj_roya          circumflex exclamation double_quote hash dollar percent ampersand underscore open_paren close_paren asterisk plus pipe hyphen_minus open_curly_bracket close_curly_bracket tilde     volume_mute volume_down volume_up   semicolon equals comma minus period slash back_quote                           open_bracket back_slash close_bracket quote  meta altgr  win_ico_help win_ico_00  win_ico_clear   win_oem_reset win_oem_jump win_oem_pa1 win_oem_pa2 win_oem_pa3 win_oem_wsctrl win_oem_cusel win_oem_attn win_oem_finish win_oem_copy win_oem_auto win_oem_enlw win_oem_backtab attn crsel exsel ereof play zoom  pa1 win_oem_clear ".split(" ");
nameFromKeyCode=function(C){return e[C]};Q.o=nameFromKeyCode},{}],10:[function(R,Q){maps={ox:[{x:800,y:5,ka:1600,ac:10,Zc:!0,td:{}},{x:800,y:895,ka:1600,ac:10,Zc:!0,td:{}},{x:5,y:450,ka:10,ac:900,Zc:!0,td:{}},{x:1595,y:450,ka:10,ac:900,Zc:!0,td:{}},{x:290,y:130,ka:40,ac:40,Zc:!0,td:{}},{x:330,y:210,ka:40,ac:40,Zc:!0,td:{}},{x:670,y:330,ka:40,ac:40,Zc:!0,td:{}},{x:410,y:230,ka:40,ac:40,Zc:!0,td:{}},{x:550,y:130,ka:40,ac:40,Zc:!0,td:{}},{x:590,y:240,ka:40,ac:40,Zc:!0,td:{}},{x:590,y:200,ka:20,ac:10,
Zc:!0,td:{}},{x:490,y:280,ka:20,ac:10,Zc:!0,td:{}},{x:630,y:370,ka:40,ac:40,Zc:!0,td:{}},{x:770,y:400,ka:40,ac:40,Zc:!0,td:{}}]};Q.o=maps},{}],11:[function(R,Q){function e(){}Q.o=new e;e.prototype.gy=function(e){return Math.atan2(e.y,e.x)};e.prototype.Dt=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)};e.prototype.Ay=function(e){return JSON.parse(JSON.stringify(e))};e.prototype.clone=function(e){var M;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return M=new Date,M.setTime(e.getTime()),
M;if(e instanceof Array){M=[];for(var m=0,q=e.length;m<q;m++)M[m]=this.clone(e[m]);return M}if(e instanceof Object){M={};for(m in e)e.hasOwnProperty(m)&&(M[m]=this.clone(e[m]));return M}throw Error("Unable to copy object.");};e.prototype.Rz=function(e,M,m){1==arguments.length&&(M=e,e=0);M=M||0;m=m||1;for(var q=[];0<(M-e)*m;e+=m)q.push(e);return q}},{}]},{},[4]);
